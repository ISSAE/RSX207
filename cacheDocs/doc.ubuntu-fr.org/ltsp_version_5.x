<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>ltsp_version_5.x - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2014-04-06T01:11:12+0200"/>
<meta name="keywords" content="serveur,edubuntu,ltsp,brouillon"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/ltsp_version_5.x?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/ltsp_version_5.x?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/ltsp_version_5.x"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/ltsp_version_5.x"/>
<link rel="canonical" href="ltsp_version_5.x"/>
<link rel="stylesheet" type="text/css" href="lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"ltsp_version_5.x","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="ltsp_version_5.x#main" tabindex="1">Contenu</a> | <a href="ltsp_version_5.x#qsearch__in" tabindex="2">Rechercher</a> | <a href="ltsp_version_5.x#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="ltsp_version_5.x" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="ltsp_version_5.x" >ltsp_version_5.x</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <div class="notetag">Cette page est en cours de rédaction.<br />
<a href="wiki/participer_wiki">Apportez votre aide…</a>
</div>
<div class="tags"><span>
	<a href="serveur" class="wikilink1" title="serveur" rel="tag">serveur</a>,
	<a href="edubuntu" class="wikilink1" title="edubuntu" rel="tag">edubuntu</a>,
	<a href="ltsp" class="wikilink1" title="ltsp" rel="tag">ltsp</a>,
	<a href="brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>

<h1 class="sectionedit1" id="serveur_ltsp_version_5x">serveur LTSP version 5.x</h1>
<div class="level1">

<p>
L&#039;installation d&#039;un serveur LTSP permet de raccorder facilement des <code>postes clients légers</code>. Ces postes peuvent être de vieux ordinateurs, dépourvus de disque dur, le principal étant qu&#039;ils disposent d&#039;une carte vidéo et d&#039;une carte réseau. En connectant ces ordinateurs au serveur LTSP, vous obtenez un parc de machines qui utilisent les ressources de votre serveur, et partagent les mêmes applications. Ainsi, les mises à jour se font uniquement sur le serveur, et non plus sur chacun des postes.
</p>

<p>
INSTALLATION
</p>

<p>
Entrer les commandes suivantes :
</p>
<pre class="code">sudo apt-get install ltsp-server-standalone openssh-server
sudo ltsp-build-client</pre>

<p>
<img src="lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
La procédure d&#039;installation automatique d&#039;ubuntu a déjà installé et configuré le serveur LTSP pour vous. Nous allons cependant voir comment en affiner sa configuration.
</p>
<ul>
<li class="level1"><div class="li"> Ouvrez une console, depuis le menu Applications→Accessoires→Terminal</div>
</li>
<li class="level2"><div class="li"> Reconfigurer le packet tzdata et choisir la zone géographique avec la commande suivante : &quot;dpkg-reconfigure tzdata&quot;</div>
</li>
<li class="level2"><div class="li"> Éditez le fichier <code>/etc/ltsp/dhcpd.conf</code> avec la commande suivante :<pre class="code">gksudo &quot;gedit /etc/ltsp/dhcpd.conf&quot;</pre>
</div>
</li>
<li class="level2"><div class="li"> Vous obtenez le fichier suivant :<pre class="file">authoritative;

subnet 192.168.0.0 netmask 255.255.255.0 {
  range 192.168.0.20 192.168.0.250;
  option domain-name &quot;example.com&quot;;
  option domain-name-servers 192.168.0.1;
  option broadcast-address 192.168.0.255;
  option routers 192.168.0.1;
  option subnet-mask 255.255.255.0;

  filename &quot;/ltsp/pxelinux.0&quot;;
  option root-path &quot;/opt/ltsp/i386&quot;;
}</pre>
</div>
</li>
<li class="level2"><div class="li"> Vérifiez maintenant que les adresses IP correspondent à l&#039;adresse que vous avez rentré lors de l&#039;installation. Si vous avez utilisé une adresse en <code>192.168.0</code>, vous avez bien fait. Sinon, utilisez Ctrl-R pour rechercher et remplacer les occurrences par celle que vous avez utilisé. Par exemple, remplacez <code>192.168.0</code> par <code>10.0.0</code>.</div>
</li>
<li class="level2"><div class="li"> Vous pouvez également personnaliser le domaine de votre école, en remplacant la ligne : <pre class="file">option domain-name &quot;example.com&quot;;</pre>

<p>
 par 
</p>
<pre class="file">option domain-name &quot;ltsp.monecole.com&quot;;</pre>
</div>
</li>
<li class="level2"><div class="li"> Si vous installez le serveur Edubuntu au sein d&#039;un réseau existant, vous pouvez paramétrer les options <code>domain-name-servers</code> et <code>routers</code> en fonction de votre configuration interne.</div>
</li>
<li class="level2"><div class="li"> Vous pouvez enregistrer et fermer ce fichier.</div>
</li>
<li class="level2"><div class="li"> Si vous avez deux cartes réseau et que vous voulez que le serveur dhcp ne soit actif que sur une carte, ajoutez cette carte dans le fichier <code>/etc/default/dhcp3-server</code> et relancez le <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr></div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Créez ensuite le fichier <del><code>/opt/ltsp/i386/etc/lts.conf</code></del> <code>/opt/ltsp/i386/lts.conf</code> avec la commande :<pre class="code">gksudo &quot;gedit /opt/ltsp/i386/lts.conf&quot;</pre>
</div>
</li>
<li class="level2"><div class="li"> Ce fichier permet de passer des options spécifiques aux postes clients légers lors de leur démarrage. Nous allons préciser ici que nous souhaitons utiliser par défaut un clavier français dans l&#039;environnement graphique des postes clients légers. Ajoutez pour cela les lignes suivantes :<pre class="file">[DEFAULT]
        XkbLayout = fr</pre>
</div>
</li>
<li class="level2"><div class="li"> Vous pouvez enregistrer et fermer ce fichier.</div>
</li>
<li class="level2"><div class="li"> Il faut maintenant lancer le serveur <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>, en charge de configurer les postes clients légers lors de leur démarrage. Dans votre console, tapez :<pre class="code">sudo /etc/init.d/dhcp3-server start</pre>
</div>
</li>
<li class="level2"><div class="li"> Si vous n&#039;avez pas fait d&#039;erreur, la commande devrait renvoyer le message <strong>OK</strong>. Vous pouvez maintenant essayer de raccorder poste client léger et de le démarrer. Pour ce faire, si le bios de votre client léger ne propose pas l&#039;option de démarrage sur le réseau (<em>NETWORK</em>), il vous faudra créer uen disquette de démarrage spécifique, fonction de la carte réseau présente sur ce poste. Vous pouvez créer cette disquette à partir du site suivant : <a href="http://www.etherboot.org" class="urlextern" title="http://www.etherboot.org"  rel="nofollow">http://www.etherboot.org</a>.</div>
</li>
</ul>

<p>
Trucs :
</p>
<ul>
<li class="level1"><div class="li"> Par défaut Edubuntu fournit au client léger un noyau de type PXE. Il faut donc choisir une image Rom compatible avec la norme PXE (la version 5.4.1 par exemple) : <a href="http://rom-o-matic.net/5.4.1/" class="urlextern" title="http://rom-o-matic.net/5.4.1/"  rel="nofollow">http://rom-o-matic.net/5.4.1/</a></div>
</li>
<li class="level2"><div class="li"> La liste des cartes disponibles est longue, le site <a href="http://www.ltsp.org/documentation/ltsp-4.1/ltsp-4.1-fr.html#AEN78" class="urlextern" title="http://www.ltsp.org/documentation/ltsp-4.1/ltsp-4.1-fr.html#AEN78"  rel="nofollow">http://www.ltsp.org/documentation/ltsp-4.1/ltsp-4.1-fr.html#AEN78</a> nous indique comment trouver l&#039;identifiant de la carte.</div>
</li>
</ul>

</div>

<h4 id="selection_d_un_pilote_pour_une_carte_reseau_pci">Sélection d&#039;un pilote pour une carte réseau PCI</h4>
<div class="level4">

<p>
Pour les cartes PCI, il faut, par contre, choisir le pilote correspondant exactement à l&#039;identifiant PCI de la carte et de son fabricant.
</p>

<p>
La plupart du temps, on peut facilement récupérer ces informations, car elles sont imprimées sur la carte et correspondent à la description du pilote. Mais il arrive qu&#039;on ne puisse pas les retrouver.
</p>

<p>
Dans ce cas, si le client léger est équipé d&#039;un lecteur de disquette, on peut y insérer une disquette <strong>tomsrtbt</strong> (<em>Tom&#039;s Root Boot</em>). Ou bien, si le client léger dispose d&#039;un lecteur CD-ROM, on peut démarrer avec un CD Linux, comme Knoppix. S&#039;il n&#039;est pas possible de lancer Linux sur le client léger pour découvrir le type de le carte réseau, le seul moyen restant est d&#039;installer la carte réseau sur une machine où cela est possible.
</p>

</div>

<h4 id="linux">Linux</h4>
<div class="level4">

<p>
Lorsque Linux est chargé, vous pouvez alors utiliser la commande <code>lspci</code> avec l&#039;option <code>-n</code>.
</p>
<pre class="code">[root@jamlap root]# lspci -n
0000:00:00.0 Class 0600: 8086:7190 (rev 03)
0000:00:01.0 Class 0604: 8086:7191 (rev 03)
0000:00:03.0 Class 0607: 104c:ac1c (rev 01)
0000:00:03.1 Class 0607: 104c:ac1c (rev 01)
0000:00:07.0 Class 0680: 8086:7110 (rev 02)
0000:00:07.1 Class 0101: 8086:7111 (rev 01)
0000:00:07.2 Class 0c03: 8086:7112 (rev 01)
0000:00:07.3 Class 0680: 8086:7113 (rev 03)
0000:00:08.0 Class 0401: 125d:1978 (rev 10)
0000:01:00.0 Class 0300: 1002:4c4d (rev 64)
0000:06:00.0 Class 0200: 8086:1229 (rev 09)</pre>

<p>
Dans l&#039;exemple ci-dessus, lspci affiche une ligne pour chaque carte PCI installée dans la machine. La seule ligne qui compte concerne les composants de classe <code>Class 0200</code>.
</p>
<pre class="file">0000:06:00.0 Class 0200: 8086:1229 (rev 09)</pre>

<p>
Les identifiants PCI recherchés sont <code>8086:1229</code>. Le premier champ 8086 correspond à l&#039;identifiant du fabricant. Dans cet exemple, il s&#039;agit d&#039;<em>Intel Corporation</em>. Le deuxième champ, 1229 est l&#039;identifiant de la carte, et il s&#039;agit ici d&#039;une <em>EtherExpress 100 card</em>. NDLT : Voir aussi <code>lspci</code> avec l&#039;option <code>-v</code>.
</p>

<p>
Pour pouvoir copier le bootrom sur une disquette, choisissez l&#039;option <code>Floppy Bootable ROM Image</code>. Ceci va insérer un en-tête de 512 octets dans dans le bootrom. Lorsque le client léger démarre, cet en-tête charge le bootrom en mémoire, où il est exécuté.
</p>

<p>
Une fois sauvegardé sur le disque dur, il faut ensuite copier le bootrom sur une disquette. Insérez une disquette dans le lecteur et lancez la commander suivante :
</p>
<pre class="code">dd if=Etherboot_Image of=/dev/fd0 </pre>
<ul>
<li class="level1"><div class="li"> Si vous avez besoin d&#039;écrire l&#039;image disquette à partir d&#039;un poste Windows, vous pouvez utiliser RawWrite : <a href="http://grpnov.unige.ch/divdocs/Doc-Aepli/RawWrite.html" class="urlextern" title="http://grpnov.unige.ch/divdocs/Doc-Aepli/RawWrite.html"  rel="nofollow">http://grpnov.unige.ch/divdocs/Doc-Aepli/RawWrite.html</a>.</div>
</li>
<li class="level2"><div class="li"> Si votre client léger n&#039;a pas encore de carte réseau, achetez une carte capable de démarrer directement en PXE. Exemple : <code>DLINK DFE-554CP PXE BOOTROM F/DFE-550TX</code> ou <code>3com 905CX-TX-M</code> (attention, beaucoup de cartes ont le support ROM BOOT, mais il faut le rajouter ; dans le cas de la Dlink précédemment citée, le module DFE-550TX est ainsi vendu sparément ; la 3com est complète).</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit" method="post" action="ltsp_version_5.x"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1396739472" /><input type="hidden" name="summary" value="[serveur LTSP version 5.x] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="43-" /><input type="submit" value="Modifier" class="button" title="serveur LTSP version 5.x" /></div></form></div>
<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/8/8bcc15fe27de49d49ff015c7ded71f43.xhtml used -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/ltsp_version_5.x?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/ltsp_version_5.x?do=edit&amp;rev=0"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/ltsp_version_5.x?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/ltsp_version_5.x?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/ltsp_version_5.x?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
