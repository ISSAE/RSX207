<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>clientleger_lts.conf - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2012-07-27T19:57:50+0200"/>
<meta name="keywords" content="edubuntu,ltsp,serveur,brouillon"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/clientleger_lts.conf?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/clientleger_lts.conf?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/clientleger_lts.conf"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/clientleger_lts.conf"/>
<link rel="canonical" href="clientleger_lts.conf"/>
<link rel="stylesheet" type="text/css" href="lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"clientleger_lts.conf","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="clientleger_lts.conf#main" tabindex="1">Contenu</a> | <a href="clientleger_lts.conf#qsearch__in" tabindex="2">Rechercher</a> | <a href="clientleger_lts.conf#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="clientleger_lts.conf" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="clientleger_lts.conf" >clientleger_lts.conf</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <div class="notetag">Cette page est en cours de rédaction.<br />
<a href="wiki/participer_wiki">Apportez votre aide…</a>
</div>
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="clientleger_lts.conf#localisation">Localisation</a></div></li>
<li class="level1"><div class="li"><a href="clientleger_lts.conf#exemple_de_fichier">Exemple de fichier</a></div></li>
<li class="level1"><div class="li"><a href="clientleger_lts.conf#explication_des_options_du_ltsconf">Explication des options du lts.conf</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="clientleger_lts.conf#section_default">Section [default]</a></div></li>
<li class="level2"><div class="li"><a href="clientleger_lts.conf#options_specifiques_ldm">Options spécifiques LDM</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="edubuntu" class="wikilink1" title="edubuntu" rel="tag">edubuntu</a>,
	<a href="ltsp" class="wikilink1" title="ltsp" rel="tag">ltsp</a>,
	<a href="serveur" class="wikilink1" title="serveur" rel="tag">serveur</a>,
	<a href="brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>

<h1 class="sectionedit1" id="ltsconf">LTS.CONF</h1>
<div class="level1">

<p>
Le fichier lts.conf est utilisé pour la configuration des paramètres des clients légers LTSP. 
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit" method="post" action="clientleger_lts.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1343411870" /><input type="hidden" name="summary" value="[LTS.CONF] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="45-169" /><input type="submit" value="Modifier" class="button" title="LTS.CONF" /></div></form></div>
<h2 class="sectionedit2" id="localisation">Localisation</h2>
<div class="level2">

<p>
Pour les versions de LTSP inférieures à 5.0.39, il est situé dans chaque environnement $CHROOT/etc/lts.conf (par défaut $CHROOT=/opt/ltsp/i386).  Ce fichier, dans les versions 5.0.39 et plus, est envoyé en clair via tftp en UDP sur le réseau.
</p>

<p>
Pour la version 5.0.39 et supérieur, le fichier se trouve dans le répertoire du TFTP lié à l&#039;environnement /var/lib/tftpboot/ltsp/&lt;arch&gt; (par défaut &lt;arch&gt;=i386). Cette différence de localisation s&#039;explique par le passage de <abbr title="Network File System">NFS</abbr> à NBD comme système de fichier monté sur les clients.
</p>

<p>
Quel que soit son emplacement, ce fichier devra être protégé au niveau lecture pour éviter que n&#039;importe quel utilisateur puisse lire les informations inscrites, surtout si vous utilisez les options d&#039;ouverture automatique de ldm. 
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit" method="post" action="clientleger_lts.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1343411870" /><input type="hidden" name="summary" value="[Localisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="170-975" /><input type="submit" value="Modifier" class="button" title="Localisation" /></div></form></div>
<h2 class="sectionedit3" id="exemple_de_fichier">Exemple de fichier</h2>
<div class="level2">
<pre class="code">################
# Section défaut, elle est 
# commune à tous les clients
################
[default]
    SERVER=192.168.0.1
    X_COLOR_DEPTH=16
    LOCALDEV=True
    SOUND=True
    NBD_SWAP=True
    SYSLOG_HOST=server
    XKBLAYOUT=fr

################
#[ADRESSE MAC]: Paramètre spécifique par client
################
[00:11:25:84:CE:BA]
    XSERVER = vesa
    X_MOUSE_DEVICE=/dev/ttyS0
    X_MOUSE_PROTOCOL=intellimouse

###############
# Partage d&#039;une imprimante par un client léger
# (utilisation du terminal F7 en shell à la place 
# d&#039;une session X, permettant les réglages)
###############
[00:11:25:93:CF:00]
    PRINTER_0_DEVICE=/dev/usblp0
    SCREEN_07=shell

###############
# Le client exécutera un script 
#après l&#039;ouverture de session
###############
[00:11:25:93:CF:02]
    LDM_REMOTECMD=/usr/bin/myloginscript</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit" method="post" action="clientleger_lts.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1343411870" /><input type="hidden" name="summary" value="[Exemple de fichier] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="976-1859" /><input type="submit" value="Modifier" class="button" title="Exemple de fichier" /></div></form></div>
<h2 class="sectionedit4" id="explication_des_options_du_ltsconf">Explication des options du lts.conf</h2>
<div class="level2">

<p>
Le fichier se décompose en deux sections principales : une section commune à tous les clients légers [default] et une autre partie qui est la configuration qui sera utilisée pour chaque client individuellement. La deuxième section est facultative dans un environnement simple : avec des clients presque identiques seule la section [default] sera utile. Une option dans la section [default] peut être inversée dans la section d&#039;une machine, exemple SOUND=True dans [default] active le son sur tous les clients, mais SOUND=False dans la section [00:11:25:93:CF:02] désactivera le son pour cette machine si nécessaire.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit" method="post" action="clientleger_lts.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1343411870" /><input type="hidden" name="summary" value="[Explication des options du lts.conf] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="1860-2535" /><input type="submit" value="Modifier" class="button" title="Explication des options du lts.conf" /></div></form></div>
<h3 class="sectionedit5" id="section_default">Section [default]</h3>
<div class="level3">

<p>
Nous n&#039;allons pas détailler toutes les options possibles car beaucoup ne sont que rarement utilisées. Reportez vous au Manuel d&#039;Edubuntu pour avoir l&#039;ensemble.
</p>
<ul>
<li class="level1"><div class="li"> SERVER : cette option sert à spécifier l&#039;adresse IP du serveur LTSP. Elle n&#039;est pas obligatoire si le serveur TFTP est sur le serveur LTSP, mais si vous avez plusieurs serveurs vous devez spécifier quel sera le serveur LTSP utilisé par le client.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> SYSLOG_HOST : spécifie l&#039;adresse IP du serveur pour enregistrer les logs des clients. Si c&#039;est votre serveur LTSP qui est utilisé mettez la valeur à &quot;server&quot; sinon indiquez l&#039;adresse IP de votre serveur Syslog.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> NBD_SWAP : cela permet d&#039;activer ou non le swap par le réseau sur le serveur LTSP, les valeurs sont &quot;True&quot; pour l&#039;activation, &quot;False&quot; pour la désactivation. L&#039;utilisation du swap est recommandée car si votre client n&#039;a pas assez de mémoire pour l&#039;ensemble des processus, le système peut devenir instable.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LOCALDEV : cette option va activer la détection des périphériques disques. Elle est nécessaire si vous voulez utiliser les clés <abbr title="Universal Serial Bus">USB</abbr> sur vos clients. Les valeurs sont &quot;True&quot; pour l&#039;activer et &quot;False&quot; pour l&#039;inverse.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> SOUND : active ou non le son pour les clients, valeur &quot;True&quot; ou &quot;False&quot;</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> XKBLAYOUT : configure le clavier pour les clients au niveau de la session graphique valeur; Pour les claviers azerty choisir fr ; attention pour les sessions types &quot;shell&quot; cette valeur n&#039;est pas utilisée.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> X_COLOR_DEPTH : fixe la profondeur de couleur pour la configuration graphique des clients. Valeur : 8, 16, 24 ou 32. Attention à ne pas mettre une valeur trop élevée car cela provoque un écran noir au lancement de la session graphique. La valeur 16 est fréquemment un bon compromis par rapport au besoin des clients.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> XSERVER : cette option est utile pour fixer la valeur du serveur graphique à utiliser. Par défaut la configuration du serveur xorg sur les clients se passe automatiquement, il y a une détection de la carte vidéo et une configuration optimisée en fonction des paramètres comme X_COLOR_DEPTH dans le lts.conf. Mais il arrive que certaines cartes ne soient pas faciles à détecter donc, afin d&#039;éviter un crash du serveur X, vous pouvez fixer la valeur, par exemple ati, vesa, …. Pour connaître toutes les valeurs reportez-vous au manuel d&#039;Edubuntu paragraphe &quot;X-Windows Parameters&quot;.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> SCREEN_02, …,SCREEN_07 : cette option vous permet de spécifier quel type de session sur tel terminal (Ctrl-Alt-F1 à Ctrl-Alt-F7). Par défaut le terminal F7 est pour la session graphique. Vous pouvez modifier ces paramètres en fonction de vos besoins pour activer ou non un shell de débuggage ou désactiver la session graphique sur un poste qui par exemple vous sert de machine pour partager une imprimante. Les valeurs possibles sont shell, ldm, sdm, startx, telnet. Mais les plus utiles/utilisées sont ldm et shell.</div>
</li>
</ul>

<p>
<p><div class="notetip">Dans le cas classique si vous faites des tests ou du dépannage fixez SCREEN_02=shell et SCREEN_07=ldm. Attention à ne pas oublier de fixer ldm sinon vous n&#039;aurez que le shell. Ainsi vous aurez un shell &quot;root&quot; sur le client pour pouvoir analyser les problèmes éventuels. Attention par defaut le clavier sera en qwerty car les locales de root sont en &quot;POSIX&quot;, pour passer en fr utilisez la commande &quot;loadkeys fr&quot;.
</div></p>
</p>
<ul>
<li class="level1"><div class="li"> PRINTER_0_DEVICE : permet d&#039;activer une imprimante branchée sur un client léger et de la partager avec les autres clients via le serveur CUPS du serveur.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> X_MODE_0 = 800x600 permet de choisir la résolution</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit" method="post" action="clientleger_lts.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1343411870" /><input type="hidden" name="summary" value="[Section [default]] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="2536-6140" /><input type="submit" value="Modifier" class="button" title="Section [default]" /></div></form></div>
<h3 class="sectionedit6" id="options_specifiques_ldm">Options spécifiques LDM</h3>
<div class="level3">

<p>
Si vous n&#039;utilisez pas ldm pour le client les options suivantes ne seront pas actives.
</p>
<ul>
<li class="level1"><div class="li"> LDM_AUTOLOGIN=True : connecte automatiquement l&#039;utilisateur décrit par les options LDM_USERNAME et LDM_PASSWORD. Attention, ce fichier est transmis en clair sur le réseau et il peut être impossible de déconnecter un tel compte…</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LDM_USERNAME : spécifie le nom d&#039;utilisateur que le client devra utiliser pour une ouverture de session automatique. Le nom doit être un compte réel du serveur.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LDM_PASSWORD : spécifie le mot de passe à utiliser pour l&#039;ouverture automatique de session. Il faut le taper en clair et il doit être associé avec le nom utilisé pour LDM_USERNAME.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LDM_ALLOW_GUEST=True : fait apparaitre un bouton &quot;Login as Guest&quot; sur l&#039;écran de connection. Cliquer sur ce bouton connecte l&#039;utilisateur décrit par les options LDM_USERNAME et LDM_PASSWORD.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LDM_LANGUAGE : permet de fixer les locales de l&#039;utilisateur connecté automatiquement avec les options ci-dessus.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LDM_DIRECTX : quand on utilise ldm comme &quot;Display Manager&quot; les sessions sont cryptés via un tunnel ssh entre le serveur et le client. Le problème est que cela demande beaucoup de ressource donc en utilisant cette option vous limitez le cryptage à l&#039;ouverture où le mot de passe sont transmis et le reste de la session ne sera pas crypté. L&#039;utilisation dépendra de la sécurité de votre réseau.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LDM_REMOTECMD : cette option permet de lancer un script après l&#039;ouverture de session sur le client léger.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit" method="post" action="clientleger_lts.conf"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1343411870" /><input type="hidden" name="summary" value="[Options spécifiques LDM] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="6141-" /><input type="submit" value="Modifier" class="button" title="Options spécifiques LDM" /></div></form></div>
<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/2/2beb57107d157a09e9f54af5240e9967.xhtml used -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/clientleger_lts.conf?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/clientleger_lts.conf?do=edit&amp;rev=0"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/clientleger_lts.conf?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/clientleger_lts.conf?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/clientleger_lts.conf?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
