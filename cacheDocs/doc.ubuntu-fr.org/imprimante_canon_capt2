<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>imprimante_canon_capt2 - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2014-08-27T13:20:37+0200"/>
<meta name="keywords" content="materiel,imprimante,canon"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/imprimante_canon_capt2?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/imprimante_canon_capt2?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/imprimante_canon_capt2"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/imprimante_canon_capt2"/>
<link rel="canonical" href="imprimante_canon_capt2"/>
<link rel="stylesheet" type="text/css" href="lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"imprimante_canon_capt2","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="imprimante_canon_capt2#main" tabindex="1">Contenu</a> | <a href="imprimante_canon_capt2#qsearch__in" tabindex="2">Rechercher</a> | <a href="imprimante_canon_capt2#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="imprimante_canon_capt2" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="imprimante_canon_capt2" >imprimante_canon_capt2</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="imprimante_canon_capt2#telechargement_du_pilote_canon_capt">Téléchargement du pilote Canon CAPT</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#extraction_de_l_archive">Extraction de l&#039;archive</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="imprimante_canon_capt2#installation_du_pilote_canon_capt">Installation du pilote Canon CAPT</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#installation_du_pilote_pour_32_bits">Installation du pilote pour 32 bits</a></div></li>
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#installation_du_pilote_pour_64_bits">Installation du pilote pour 64 bits</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="imprimante_canon_capt2#installation_de_l_imprimante">Installation de l&#039;imprimante</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#pre-requis">Pré-requis</a></div></li>
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#relancer_cups">Relancer CUPS</a></div></li>
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#pour_les_versions_ubuntu_32_bits_et_64_bits">Pour les versions Ubuntu 32 bits et 64 bits</a></div></li>
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#verifications_de_l_installation">Vérifications de l&#039;installation</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="imprimante_canon_capt2#automatiser_la_detection_de_l_imprimante">Automatiser la détection de l&#039;imprimante</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#lancer_ou_relancer_ccpd_a_chaque_mise_en_service_de_l_imprimante">Lancer ou relancer ccpd à chaque mise en service de l&#039;imprimante :</a></div></li>
<li class="level2"><div class="li"><a href="imprimante_canon_capt2#cups_actif_lors_du_demarrage_du_demon_ccpd">CUPS actif lors du démarrage du démon ccpd :</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="imprimante_canon_capt2#retirer_une_imprimante">Retirer une imprimante</a></div></li>
<li class="level1"><div class="li"><a href="imprimante_canon_capt2#sources">Sources</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="materiel" class="wikilink1" title="materiel" rel="tag">matériel</a>,
	<a href="http://doc.ubuntu-fr.org/imprimante" class="wikilink1" title="imprimante" rel="tag">imprimante</a>,
	<a href="http://doc.ubuntu-fr.org/canon?do=showtag&amp;tag=Canon" class="wikilink1" title="canon" rel="tag">Canon</a>
</span></div>
<hr />

<h1 class="sectionedit1" id="installer_le_pilote_d_imprimantes_canon_capt">Installer le pilote d&#039;imprimantes Canon CAPT.</h1>
<div class="level1">

<p>
<strong><a href="http://doc.ubuntu-fr.org/liste_imprimantes_canon" class="wikilink1" title="liste_imprimantes_canon">Consulter la liste des imprimantes Canon</a> pour savoir si votre imprimante est supportée par ce pilote propriétaire<sup><a href="imprimante_canon_capt2#fn__1" id="fnt__1" class="fn_top">1)</a></sup> fourni par Canon.</strong>
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Installer le pilote d'imprimantes Canon CAPT.] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="42-393" /><input type="submit" value="Modifier" class="button" title="Installer le pilote d'imprimantes Canon CAPT." /></div></form></div>
<h2 class="sectionedit2" id="telechargement_du_pilote_canon_capt">Téléchargement du pilote Canon CAPT</h2>
<div class="level2">

<p>
Le pilote Canon CAPT se présente sous la forme d&#039;un fichier unique de type archive au format <strong><a href="tar" class="wikilink1" title="tar">tar.gz</a></strong>.<br/>

Cette archive d&#039;environ 64 Mo nommée : <strong>Linux_CAPT_PrinterDriver_V260_uk_EN.tar.gz</strong> est à télécharger <strong><a href="http://support-au.canon.com.au/contents/AU/EN/0100459602.html#r=s&amp;r=s" class="urlextern" title="http://support-au.canon.com.au/contents/AU/EN/0100459602.html#r=s&amp;r=s"  rel="nofollow">ici</a></strong>.
</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Téléchargement du pilote Canon CAPT] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="394-754" /><input type="submit" value="Modifier" class="button" title="Téléchargement du pilote Canon CAPT" /></div></form></div>
<h3 class="sectionedit3" id="extraction_de_l_archive">Extraction de l&#039;archive</h3>
<div class="level3">

</div>

<h4 id="methode_graphique">Méthode graphique</h4>
<div class="level4">

<p>
Les fichiers téléchargés sous Ubuntu se trouvent par défaut dans le dossier <em><strong>Téléchargements</strong></em> du compte utilisateur en cours.<br/>

Accédez à ce dossier en utilisant votre <a href="http://doc.ubuntu-fr.org/gestionnaire_de_fichiers" class="wikilink1" title="gestionnaire_de_fichiers">gestionnaire de fichiers</a> habituel pour y <a href="archivage#graphiquement" class="wikilink1" title="archivage">extraire l&#039;archive</a><sup><a href="imprimante_canon_capt2#fn__2" id="fnt__2" class="fn_top">2)</a></sup> <em>Linux_CAPT_PrinterDriver_V260_uk_EN.tar.gz</em>, libérant ainsi un dossier : <br/>
« <strong>Linux_CAPT_PrinterDriver_V260_uk_EN</strong> ».
</p>

</div>

<h4 id="methode_en_ligne_de_commande">Méthode en ligne de commande</h4>
<div class="level4">

<p>
Pour résumer les étapes précédentes et leur exécution en ligne de commande dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> :
</p>
<ul>
<li class="level1"><div class="li"> Se positionner dans le dossier <em>Téléchargements</em> de votre compte utilisateur :<pre class="code">cd ~/Téléchargements</pre>
</div>
</li>
<li class="level1"><div class="li"> Décompresser l&#039;archive :<pre class="code">tar xvzf Linux_CAPT_PrinterDriver_V260_uk_EN.tar.gz</pre>
</div>
</li>
<li class="level1"><div class="li"> Aller au dossier <em>Linux_CAPT_PrinterDriver_V260_uk_EN</em> :<pre class="code">cd ./Linux_CAPT_PrinterDriver_V260_uk_EN</pre>
</div>
</li>
</ul>

<p>
<p><div class="notetip">Pensez à l&#039;auto-complétion : Saisissez le début du mot <em>Linux</em> puis appuyez sur la touche de tabulation.
</div></p>
</p>

<p>
Le dossier <strong>Linux_CAPT_PrinterDriver_V260_uk_EN</strong> inclut les sous-dossiers :
</p>
<ul>
<li class="level1"><div class="li"> <em><strong>32-bit_Driver</strong></em> : Contient les <a href="paquet" class="wikilink1" title="paquet">paquets .deb</a> pour l&#039;installation sur <strong><a href="http://doc.ubuntu-fr.org/architecture_materielle" class="wikilink1" title="architecture_materielle">architecture</a> 32bits</strong><sup><a href="imprimante_canon_capt2#fn__3" id="fnt__3" class="fn_top">3)</a></sup>. <em>Voir la méthode : <a href="imprimante_canon_capt2#installation_du_pilote_pour_32_bits" title="imprimante_canon_capt2 ↵" class="wikilink1">Installation du pilote pour 32 bits</a>.</em></div>
</li>
<li class="level1"><div class="li"> <em><strong>64-bit_Driver</strong></em> : Contient les <a href="paquet" class="wikilink1" title="paquet">paquets .deb</a> pour l&#039;installation sur <strong><a href="http://doc.ubuntu-fr.org/architecture_materielle" class="wikilink1" title="architecture_materielle">architecture</a> 64bits</strong><sup><a href="imprimante_canon_capt2#fn__4" id="fnt__4" class="fn_top">4)</a></sup>. <em>Voir la méthode : <a href="imprimante_canon_capt2#installation_du_pilote_pour_64_bits" title="imprimante_canon_capt2 ↵" class="wikilink1">Installation du pilote pour 64 bits</a>.</em></div>
</li>
<li class="level1"><div class="li"> <em><strong>Doc</strong></em> : Contient les informations légales relatives à l&#039;utilisation et à <em class="u">l&#039;installation du pilote</em>. <br/>
</div>
</li>
</ul>

<p>
<p><div class="notehelp">Si vous ne savez pas si vous utilisez la version 32bits ou 64bits d&#039;Ubuntu vous pouvez consulter le paragraphe : <strong><a href="http://doc.ubuntu-fr.org/architecture_materielle#mon_ubuntu_est-il_en_32_bits_ou_en_64_bits" class="wikilink1" title="architecture_materielle">Mon Ubuntu est-il en 32 bits ou en 64 bits ?</a></strong>
</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Extraction de l'archive] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="755-2935" /><input type="submit" value="Modifier" class="button" title="Extraction de l'archive" /></div></form></div>
<h2 class="sectionedit4" id="installation_du_pilote_canon_capt">Installation du pilote Canon CAPT</h2>
<div class="level2">

<p>
Le pilote Canon CAPT nécessite l&#039;installation du paquet : <strong><a href="apt://libglade2-0" class="interwiki iw_apt" title="apt://libglade2-0">libglade2-0</a></strong> <br/>

Pour l&#039;installer, vous pouvez aussi taper dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> :
</p>
<pre class="code">sudo apt-get install libglade2-0</pre>

<p>
<p><div class="noteclassic">Vérifier que l&#039;imprimante est allumée et connectée à l&#039;ordinateur.
</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Installation du pilote Canon CAPT] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="2936-3267" /><input type="submit" value="Modifier" class="button" title="Installation du pilote Canon CAPT" /></div></form></div>
<h3 class="sectionedit5" id="installation_du_pilote_pour_32_bits">Installation du pilote pour 32 bits</h3>
<div class="level3">

<p>
Depuis le dossier <strong>Linux_CAPT_PrinterDriver_V260_uk_EN</strong>, naviguez jusqu&#039;au chemin <em><strong>32-bit_Driver</strong></em>.
</p>

<p>
Dans ce dernier, se trouve un dossier <em><strong>Debian </strong></em>qui contient les deux pilotes mis sous forme de <a href="paquet" class="wikilink1" title="paquet">paquet</a> :<br/>

</p>
<ul>
<li class="level1"><div class="li"> <strong>cndrvcups-common_2.60-1_i386.deb</strong> </div>
</li>
<li class="level1"><div class="li"> <strong>cndrvcups-capt_2.60-1_i386.deb</strong></div>
</li>
</ul>

</div>

<h4 id="methode_graphique1">Méthode graphique</h4>
<div class="level4">

<p>
Pour <a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer les pilotes</a>, depuis votre <a href="http://doc.ubuntu-fr.org/gestionnaire_de_fichiers" class="wikilink1" title="gestionnaire_de_fichiers">gestionnaire de fichiers</a>, il suffira généralement de faire un double-clic sur le <a href="paquet" class="wikilink1" title="paquet">paquet</a> <strong>cndrvcups-common_2.60-1_i386.deb</strong> et de suivre les instructions de votre <a href="gestionnaire_de_paquets" class="wikilink1" title="gestionnaire_de_paquets">gestionnaire de paquets</a>.
</p>

<p>
Vous ferez ensuite un double-clic sur le <a href="paquet" class="wikilink1" title="paquet">paquet</a> <strong>cndrvcups-capt_2.60-1_i386.deb</strong> afin de finaliser l&#039;installation du pilote.
</p>

</div>

<h4 id="methode_en_ligne_de_commande1">Méthode en ligne de commande</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Depuis le dossier où l&#039;archive a été décompressée, il faut aller dans le dossier <em><strong>./Linux_CAPT_PrinterDriver_V260_uk_EN/32-bit_Driver/Debian</strong></em>.<br/>
Si vous êtes déjà dans le bon dossier, passez au point 2, sinon entrez la commande suivante dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> :<pre class="code">cd ./Linux_CAPT_PrinterDriver_V260_uk_EN/32-bit_Driver/Debian</pre>
</div>
</li>
<li class="level1"><div class="li"> Une fois dans le dossier <em><strong>Debian</strong></em>, installez les deux paquets :<pre class="code">sudo dpkg -i cndrvcups-common_2.60-1_i386.deb cndrvcups-capt_2.60-1_i386.deb</pre>

<p>
 <br/>

</p>
</div>
</li>
</ol>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Installation du pilote pour 32 bits] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="3268-4629" /><input type="submit" value="Modifier" class="button" title="Installation du pilote pour 32 bits" /></div></form></div>
<h3 class="sectionedit6" id="installation_du_pilote_pour_64_bits">Installation du pilote pour 64 bits</h3>
<div class="level3">

<p>
Depuis le dossier <strong>Linux_CAPT_PrinterDriver_V260_uk_EN</strong>, naviguez jusqu&#039;au chemin <em><strong>64-bit_Driver</strong></em>.
</p>

<p>
Dans ce dernier, se trouve un dossier <em><strong>Debian </strong></em>qui contient les deux pilotes mis sous forme de <a href="paquet" class="wikilink1" title="paquet">paquet</a> :<br/>

</p>
<ul>
<li class="level1"><div class="li"> <strong>cndrvcups-common_2.60-1_amd64.deb</strong> </div>
</li>
<li class="level1"><div class="li"> <strong>cndrvcups-capt_2.60-1_amd64.deb</strong></div>
</li>
</ul>

</div>

<h4 id="methode_graphique2">Méthode graphique</h4>
<div class="level4">

<p>
Pour <a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer les pilotes</a>, depuis votre <a href="http://doc.ubuntu-fr.org/gestionnaire_de_fichiers" class="wikilink1" title="gestionnaire_de_fichiers">gestionnaire de fichiers</a>, il suffira généralement de faire un double-clic sur le <a href="paquet" class="wikilink1" title="paquet">paquet</a> <strong>cndrvcups-common_2.60-1_amd64.deb</strong> et de suivre les instructions de votre <a href="gestionnaire_de_paquets" class="wikilink1" title="gestionnaire_de_paquets">gestionnaire de paquets</a>.
</p>

<p>
Vous ferez ensuite un double-clic sur le <a href="paquet" class="wikilink1" title="paquet">paquet</a> <strong>cndrvcups-capt_2.60-1_amd64.deb</strong> afin de finaliser l&#039;installation du pilote.
</p>

</div>

<h4 id="methode_en_ligne_de_commande2">Méthode en ligne de commande</h4>
<div class="level4">
<ol>
<li class="level1"><div class="li"> Depuis le dossier où l&#039;archive a été décompressée, il faut aller dans le dossier <em><strong>./Linux_CAPT_PrinterDriver_V260_uk_EN/64-bit_Driver/Debian</strong></em>.<br/>
Si vous êtes déjà dans le bon dossier, passez au point 2, sinon entrez la commande suivante dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> :<pre class="code">cd ./Linux_CAPT_PrinterDriver_V260_uk_EN/64-bit_Driver/Debian</pre>
</div>
</li>
<li class="level1"><div class="li"> Une fois dans le dossier <em><strong>Debian</strong></em>, installez les deux paquets :<pre class="code">sudo dpkg -i cndrvcups-common_2.60-1_amd64.deb cndrvcups-capt_2.60-1_amd64.deb</pre>

<p>
 <br/>

</p>
</div>
</li>
</ol>

</div>

<h4 id="pour_les_versions_ubuntu_64_bits1204_lts_et_suivantes">Pour les versions Ubuntu 64 bits : 12.04 LTS et suivantes</h4>
<div class="level4">

<p>
Le pilote CAPT nécessite aussi l&#039;installation des paquets 32bits suivants : <strong><a href="apt://libatk1.0-0:i386,libcairo2:i386,libgtk2.0-0:i386,libpango1.0-0:i386,libstdc++6:i386,libxml2:i386,libpopt0:i386" class="interwiki iw_apt" title="apt://libatk1.0-0:i386,libcairo2:i386,libgtk2.0-0:i386,libpango1.0-0:i386,libstdc++6:i386,libxml2:i386,libpopt0:i386">libatk1.0-0:i386,libcairo2:i386,libgtk2.0-0:i386,libpango1.0-0:i386,libstdc++6:i386,libxml2:i386,libpopt0:i386</a></strong> <br/>

</p>

<p>
Pour les installer, vous pouvez aussi taper dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> :
</p>
<pre class="code">sudo apt-get install libatk1.0-0:i386 libcairo2:i386 libgtk2.0-0:i386 libpango1.0-0:i386 libstdc++6:i386 libxml2:i386 libpopt0:i386</pre>

<p>
Accepter l&#039;installation des dépendances complémentaires proposées.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Installation du pilote pour 64 bits] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="4630-6553" /><input type="submit" value="Modifier" class="button" title="Installation du pilote pour 64 bits" /></div></form></div>
<h2 class="sectionedit7" id="installation_de_l_imprimante">Installation de l&#039;imprimante</h2>
<div class="level2">

<p>
Il faut maintenant installer l&#039;imprimante pour qu’elle puisse fonctionner.<br/>

Cette partie utilise le <a href="terminal" class="wikilink1" title="terminal">terminal</a>.<br/>

N&#039;oubliez pas que la documentation, fournie dans l&#039;archive d&#039;installation du pilote, peut vous donner des informations complémentaires à cette page.
</p>

<p>
<p><div class="noteclassic">Si vous n&#039;êtes pas familier avec le vocabulaire utilisé ou si vous désirez avoir une vision d&#039;ensemble de l&#039;impression sous Ubuntu, consultez la page : <strong><a href="http://doc.ubuntu-fr.org/impression_sous_ubuntu" class="wikilink1" title="impression_sous_ubuntu">Comprendre l&#039;impression sous Ubuntu</a></strong>.
</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Installation de l'imprimante] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="6554-7104" /><input type="submit" value="Modifier" class="button" title="Installation de l'imprimante" /></div></form></div>
<h3 class="sectionedit8" id="pre-requis">Pré-requis</h3>
<div class="level3">

<p>
Connaître le nom du <strong>fichier ppd<sup><a href="imprimante_canon_capt2#fn__5" id="fnt__5" class="fn_top">5)</a></sup></strong> du pilote, correspondant à votre imprimante.<br/>

Tapez cette commande dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> pour obtenir la liste des fichiers ppd disponibles : 
</p>
<pre class="code">ls /usr/share/cups/model/ | grep CNCUPS</pre>

<p>
Pour la plupart des modèles, vous trouverez 2 fichiers correspondants à votre imprimante : <em>CNCUPSxxxxCAPTK.ppd</em> et <em>CNCUPSxxxxCAPTJ.ppd</em>.<br/>

La documentation Canon recommande le <em>CNCUPSxxxxCAPTK.ppd</em>.<br/>

Si après avoir suivi ce tutoriel votre imprimante ne fonctionne pas, essayez avec le fichier <em>CNCUPSxxxxCAPTJ.ppd</em>. <br/>

Vous trouverez également <strong><a href="http://doc.ubuntu-fr.org/liste_imprimantes_canon#lasershot_lbp_et_i-sensys_lbp" class="wikilink1" title="liste_imprimantes_canon">ici</a></strong> la liste des fichiers PPD pour votre imprimante.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Pré-requis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="7105-7937" /><input type="submit" value="Modifier" class="button" title="Pré-requis" /></div></form></div>
<h3 class="sectionedit9" id="relancer_cups">Relancer CUPS</h3>
<div class="level3">

<p>
Pour que l&#039;installation du pilote CAPT soit prise en compte par <a href="http://doc.ubuntu-fr.org/cups" class="wikilink1" title="cups">CUPS</a>, entrer les commandes suivantes dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> : 
</p>
<pre class="code">sudo service cups stop</pre>
<pre class="code">sudo service cups start</pre>

<p>
<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Relancer CUPS] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="7938-8169" /><input type="submit" value="Modifier" class="button" title="Relancer CUPS" /></div></form></div>
<h3 class="sectionedit10" id="pour_les_versions_ubuntu_32_bits_et_64_bits">Pour les versions Ubuntu 32 bits et 64 bits</h3>
<div class="level3">

<p>
Elle se passe en trois étapes :
</p>
<ol>
<li class="level1"><div class="li"> Installer la nouvelle imprimante dans <a href="http://doc.ubuntu-fr.org/cups" class="wikilink1" title="cups">CUPS</a> en indiquant quel pilote utiliser,</div>
</li>
<li class="level1"><div class="li"> Indiquer au démon ccpd<sup><a href="imprimante_canon_capt2#fn__6" id="fnt__6" class="fn_top">6)</a></sup> cette imprimante,</div>
</li>
<li class="level1"><div class="li"> Démarrer le démon ccpd.</div>
</li>
</ol>

</div>

<h4 id="installation_de_l_imprimante_dans_cups">Installation de l&#039;imprimante dans CUPS</h4>
<div class="level4">

<p>
Taper la commande suivante dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> : 
</p>
<pre class="code">sudo /usr/sbin/lpadmin -p [nom de l&#039;imprimante] -m [fichier ppd] -v [uri périphérique] -E</pre>

<p>
où :
</p>
<ul>
<li class="level1"><div class="li"> -p [nom de l&#039;imprimante] : modèle de l&#039;imprimante</div>
</li>
<li class="level1"><div class="li"> -m [fichier ppd] : nom du fichier .ppd du pilote (cf <a href="imprimante_canon_capt2#pre-requis" title="imprimante_canon_capt2 ↵" class="wikilink1">pré-requis</a> pour connaître son nom)</div>
</li>
<li class="level1"><div class="li"> -v [uri périphérique] : définit l&#039;attribut device-uri de la file d&#039;attente de l&#039;imprimante.<br/>
Ici on mettra : <code>ccp://localhost:59787</code><br/>
</div>
</li>
<li class="level1"><div class="li"> -E : active l&#039;imprimante déterminée et autorise les demandes d&#039;impression sur ce périphérique <br/>
</div>
</li>
</ul>

<p>
Exemple pour une LBP5000 :
</p>
<pre class="code">sudo /usr/sbin/lpadmin -p LBP5000 -m CNCUPSLBP5000CAPTK.ppd -v ccp://localhost:59787 -E</pre>

<p>
<p><div class="noteimportant">Le nom du fichier .ppd doit être exact. Attention donc à bien en respecter la casse<sup><a href="imprimante_canon_capt2#fn__7" id="fnt__7" class="fn_top">7)</a></sup>.

</div></p>
</p>

<p>
Si cette méthode ne fonctionne pas, vous pouvez toujours utiliser l&#039;ancienne procédure qui consistait à :<br/>

</p>
<ol>
<li class="level1"><div class="li"> Vérifier l&#039;existence ou créer les dossiers et fichiers <strong>/var/ccpd</strong>, <strong>/var/captmon</strong> et <strong>/var/ccpd/fifo0</strong> : <pre class="code">sudo mkdir /var/ccpd
sudo mkdir /var/captmon
sudo mkfifo /var/ccpd/fifo0
sudo chown -R lp:lp /var/ccpd/</pre>
</div>
</li>
<li class="level1"><div class="li"> Installer l&#039;imprimante dans CUPS avec la commande suivante :<br/>
(exemple pour une LBP5000) <pre class="code">sudo /usr/sbin/lpadmin -p LBP5000 -m CNCUPSLBP5000CAPTK.ppd -v ccp:/var/ccpd/fifo0 -E</pre>
</div>
</li>
</ol>

<p>
<br/>

</p>

</div>

<h4 id="enregistrer_l_imprimante_dans_le_demon_ccpd">Enregistrer l&#039;imprimante dans le démon ccpd</h4>
<div class="level4">

<p>
Taper la commande suivante dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> : 
</p>
<pre class="code">sudo /usr/sbin/ccpdadmin -p [nom de l&#039;imprimante] -o [device]</pre>

<p>
où :
</p>
<ul>
<li class="level1"><div class="li"> [Nom de l&#039;imprimante] : nom que vous avez choisi lors de l&#039;<a href="imprimante_canon_capt2#commande_d_installation" title="imprimante_canon_capt2 ↵" class="wikilink1">installation dans cups</a></div>
</li>
<li class="level1"><div class="li"> [device] : emplacement du fichier du périphérique : Vérifier dans le répertoire <em>/dev/usb</em> le nom exact (lp0; lp1; lp2 …)</div>
</li>
</ul>

<p>
<p><div class="noteclassic">L&#039;imprimante doit être allumée et connectée car le fichier <em>/dev/usb/lpxx</em> est créé automatiquement à chaque connexion de l&#039;imprimante.

</div></p>
</p>
<ul>
<li class="level1"><div class="li"> <strong>Valeur de [device] pour une connexion en usb sur <em>/dev/usb/lp0</em> :</strong></div>
<ul>
<li class="level3"><div class="li"> [device] sera remplacé par : <em> /dev/usb/lp0 </em> </div>
</li>
<li class="level3"><div class="li"> Exemple pour une LBP5000 : <pre class="code">sudo /usr/sbin/ccpdadmin -p LBP5000 -o /dev/usb/lp0</pre>

<p>
<br/>
Exemple de retour de cette commande pour une LBP5000 :  
</p>
<pre class="file"> Usage: 
  ccpdadmin [-p Printer-name -o Printer-dev-path]
  ccpdadmin [-x Remove-Printer-name]

 CUPS_ConfigPath = /etc/cups/
 LOG Path        = None
 UI Port         = 59787

 Entry Num  : Spooler	: Backend	: FIFO path		: Device Path 	: Status 
 ----------------------------------------------------------------------------
     [0]    : LBP5000 	: ccp 		: //localhost:59787 	: /dev/usb/lp0  : New!! </pre>
</div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> <strong>Valeur de [device] pour une connexion en réseau :</strong></div>
<ul>
<li class="level3"><div class="li"> net : [adresse IP]</div>
</li>
<li class="level3"><div class="li"> Exemple pour une LBP5000 : <pre class="code">sudo /usr/sbin/ccpdadmin -p LBP-5000 -o net:192.168.0.20</pre>
</div>
</li>
</ul>
</li>
</ul>

<p>
   Il peut être nécessaire d&#039;ajouter une ligne <em> Allow From [adresse IP] </em> dans les sections <em> &lt;Location /&gt; </em> et <em> &lt;Location /admin&gt; </em> du fichier <strong> /etc/cups/cupsd.conf </strong>.<br/>
<br/>

</p>

</div>

<h4 id="demarrer_le_demon_ccpd">Démarrer le démon ccpd</h4>
<div class="level4">

<p>
Tapez la commande suivante :
</p>
<pre class="code">sudo service ccpd start</pre>

<p>
<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Pour les versions Ubuntu 32 bits et 64 bits] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="8170-11714" /><input type="submit" value="Modifier" class="button" title="Pour les versions Ubuntu 32 bits et 64 bits" /></div></form></div>
<h3 class="sectionedit11" id="verifications_de_l_installation">Vérifications de l&#039;installation</h3>
<div class="level3">

<p>
1) Taper dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> la commande suivante pour vérifier le fonctionnement du démon ccpd :
</p>
<pre class="code">sudo service ccpd status</pre>

<p>
vous devriez avoir en retour quelque chose du type :
</p>
<pre class="file">/usr/sbin/ccpd: 4115 4114</pre>

<p>
<p><div class="notetip">Si vous ne voyez qu&#039;un seul nombre à la fin de la ligne, <a href="tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">éditez avec les droits d&#039;administration</a> le fichier <strong>/etc/ccpd.conf</strong> et ajoutez ceci (remplacez <em>LBP5000</em> et <em>/dev/usb/lp0</em> par ce que vous avez indiqué précédemment) : 
</p>
<pre class="file">&lt;Printer LBP5000&gt;
DevicePath /dev/usb/lp0
&lt;/Printer&gt;
</pre>

<p>
Redémarrer le démon ccpd et vérifier de nouveau son statut :
</p>
<pre class="code">sudo service ccpd restart
sudo service ccpd status</pre>

<p>

</div></p>
</p>

<p>
2) Tapez dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> la commande suivante pour vérifier l&#039;enregistrement dans le démon ccpd :
</p>
<pre class="code">sudo ccpdadmin</pre>

<p>
la commande doit vous renvoyer :
</p>
<pre class="file">Usage:
  ccpdadmin [-p Printer-name -o Printer-dev-path]
  ccpdadmin [-x Remove-Printer-name]
 CUPS_ConfigPath = /etc/cups/
 LOG Path        = None
 UI Port         = 59787
 Entry Num  :Spooler   :Backend  :   FIFO path       : Device Path  : Status
 -------------------------------------------------------------------
   [0]    :LBP-XXX     : ccp    : //localhost:59787 : /dev/usb/lp0  :</pre>

<p>
où <em>LBP-XXX</em> et <em>/dev/usb/lp0</em> sont à adapter  selon la manière dont vous avez installé votre imprimante dans le démon ccpd.<br/>

S&#039;il y a une erreur, elle apparaîtra en fin de ligne.<br/>
<br/>

</p>

<p>
3) Taper dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> la commande suivante pour vérifiez l&#039;état de l&#039;imprimante :
</p>
<pre class="code">captstatusui -P [nom de l&#039;imprimante]</pre>

<p>
où [nom de l&#039;imprimante] est le nom que vous avez donné lors de l&#039;<a href="imprimante_canon_capt2#installation_de_l_imprimante_dans_cups" title="imprimante_canon_capt2 ↵" class="wikilink1">installation dans cups</a>.<br/>

La commande doit ouvrir la fenêtre du <em>Canon Statusmonitor</em><sup><a href="imprimante_canon_capt2#fn__8" id="fnt__8" class="fn_top">8)</a></sup> avec le message &quot;<strong>Ready to print</strong> (ou sleeping)&quot;.<br/>

</p>

<p>
<p><div class="notetip">Si toutefois la commande retourne le message &quot;<strong>capstatusui Socket Error</strong>&quot;, vous pouvez essayer de redémarrer le démon ccpd et le service d&#039;impression avec les commandes suivantes :
</p>
<pre class="code">sudo service ccpd stop</pre>
<pre class="code">sudo service cups restart</pre>
<pre class="code">sudo service ccpd start</pre>

<p>
Si cela ne suffit pas, laissez l&#039;imprimante allumée et connectée puis redémarrez l&#039;ordinateur. Penser ensuite à lancer le démon ccpd.
</div></p>
</p>

<p>
Si ces vérifications sont positives, l&#039;imprimante devrait-être opérationnelle.<br/>

Essayer d&#039;imprimer un document à partir de l&#039;application de votre choix. Si les impressions sortent correctement vous pouvez passer à l&#039;étape suivante.
</p>

<p>
<p><div class="noteclassic">Tant que vous n&#039;aurez pas réalisé la partie <a href="imprimante_canon_capt2#automatiser_la_detection_de_l_imprimante" title="imprimante_canon_capt2 ↵" class="wikilink1">Automatiser la détection de l&#039;imprimante</a>, il faudra lancer le démon ccpd manuellement à chaque redémarrage de l&#039;ordinateur. 
</p>
<pre class="code">sudo service ccpd start</pre>

<p>

</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Vérifications de l'installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="11715-14780" /><input type="submit" value="Modifier" class="button" title="Vérifications de l'installation" /></div></form></div>
<h2 class="sectionedit12" id="automatiser_la_detection_de_l_imprimante">Automatiser la détection de l&#039;imprimante</h2>
<div class="level2">

<p>
Une fois correctement installée, pour que l&#039;imprimante fonctionne d&#039;une façon transparente pour l&#039;utilisateur, il faut automatiser la gestion du démon ccpd. <br/>

Ceci demande deux conditions :
</p>
<ol>
<li class="level1"><div class="li"> Que le démon ccpd soit lancé ou relancé à chaque mise en service de l&#039;imprimante.</div>
</li>
<li class="level1"><div class="li"> Que le service <a href="http://doc.ubuntu-fr.org/cups" class="wikilink1" title="cups">CUPS</a> soit actif lors du démarrage du démon ccpd.</div>
</li>
</ol>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Automatiser la détection de l'imprimante] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="14781-15196" /><input type="submit" value="Modifier" class="button" title="Automatiser la détection de l'imprimante" /></div></form></div>
<h3 class="sectionedit13" id="lancer_ou_relancer_ccpd_a_chaque_mise_en_service_de_l_imprimante">Lancer ou relancer ccpd à chaque mise en service de l&#039;imprimante :</h3>
<div class="level3">

<p>
Ceci peut être automatisé en utilisant <a href="http://doc.ubuntu-fr.org/udev" class="wikilink1" title="udev">udev</a>.
</p>

<p>
<a href="tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Ouvrez ou créez avec les droits d&#039;administration</a> le fichier : <strong>/etc/udev/rules.d/85-canon-capt.rules</strong> et ajoutez ces lignes :
</p>
<pre class="file">KERNEL==&quot;lp*&quot;, SUBSYSTEMS==&quot;usb&quot;, ACTION==&quot;add&quot;, ATTRS{idVendor}==&quot;04a9&quot;, RUN+=&quot;/etc/init.d/ccpd start&quot;
KERNEL==&quot;lp*&quot;, SUBSYSTEMS==&quot;usb&quot;, ACTION==&quot;remove&quot;, RUN+=&quot;/etc/init.d/ccpd stop&quot;</pre>

<p>
Terminez en enregistrant ce fichier.<br/>

 <a href="http://doc.ubuntu-fr.org/udev" class="wikilink1" title="udev">UDEV</a> détectera automatiquement cette nouvelle règle, il n&#039;est donc pas nécessaire de le relancer.
</p>

<p>
<br/>
La détection automatique des imprimantes, définie dans le fichier système : <em>/lib/udev/rules.d/70-printers.rules</em>, contrarie la règle udev que <a href="imprimante_canon_capt2#lancer_ou_relancer_ccpd_a_chaque_mise_en_service_de_l_imprimante" title="imprimante_canon_capt2 ↵" class="wikilink1">vous venez de créer</a>. <br/>
 <a href="tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Ouvrez avec les droits d&#039;administration</a> le fichier : <em>/lib/udev/rules.d/70-printers.rules</em> et commentez<sup><a href="imprimante_canon_capt2#fn__9" id="fnt__9" class="fn_top">9)</a></sup> toutes les lignes :<br/>
(Exemple pour le fichier de <a href="http://doc.ubuntu-fr.org/12.04" class="wikilink1" title="12.04">12.04</a>)
</p>
<pre class="file"># Low-level USB device add trigger
#ACTION==&quot;add&quot;, SUBSYSTEM==&quot;usb&quot;, ATTR{bInterfaceClass}==&quot;07&quot;, ATTR{bInterfaceSubClass}==&quot;01&quot;, TAG+=&quot;udev-configure-printer&quot;, RUN+=&quot;udev-configure-printer add %p&quot;
# usblp device add trigger (needed when usblp is already loaded)
#ACTION==&quot;add&quot;, KERNEL==&quot;lp*&quot;, TAG+=&quot;udev-configure-printer&quot;, RUN+=&quot;udev-configure-printer add %p&quot;

# Low-level USB device remove trigger
#ACTION==&quot;remove&quot;, SUBSYSTEM==&quot;usb&quot;, ENV{ID_USB_INTERFACES}==&quot;*:0701*:*&quot;, RUN+=&quot;udev-configure-printer remove %p&quot;</pre>

<p>
<p><div class="noteimportant">Attention, le fichier <em>70-printers.rules</em> est un fichier système susceptible d&#039;être modifié lors de prochaines mises à jour. Pensez à vérifier l&#039;état de ce fichier si votre imprimante cesse de fonctionner…
</div></p><br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Lancer ou relancer ccpd à chaque mise en service de l'imprimante :] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="15197-17115" /><input type="submit" value="Modifier" class="button" title="Lancer ou relancer ccpd à chaque mise en service de l'imprimante :" /></div></form></div>
<h3 class="sectionedit14" id="cups_actif_lors_du_demarrage_du_demon_ccpd">CUPS actif lors du démarrage du démon ccpd :</h3>
<div class="level3">

<p>
Si le démon ccpd est lancé avant CUPS, il plantera à la première demande d’impression sans qu’aucun message d’erreur n’apparaisse. Il va alors prendre 100 % du CPU et ne pourra être stoppé que par la commande “kill -9”.
</p>

<p>
Cette situation peut se produire si l’imprimante est allumée et branchée :
</p>
<ul>
<li class="level1"><div class="li"> <em class="u">avant que le PC ne soit démarré :</em> La séquence de démarrage d&#039;Ubuntu lance <a href="http://doc.ubuntu-fr.org/udev" class="wikilink1" title="udev">UDEV</a> avant <a href="http://doc.ubuntu-fr.org/cups" class="wikilink1" title="cups">CUPS</a>. Donc, la règle UDEV que nous venons de créer va détecter l’imprimante et lancera ccpd avant CUPS.</div>
</li>
<li class="level1"><div class="li"> <em class="u">lors d’une mise à jour de <a href="http://doc.ubuntu-fr.org/cups" class="wikilink1" title="cups">CUPS</a> :</em> Ce service est stoppé puis relancé alors que ccpd reste actif.</div>
</li>
</ul>

<p>
Pour pallier à ces problèmes particuliers vous devez générer un job <a href="http://doc.ubuntu-fr.org/upstart" class="wikilink1" title="upstart">Upstart</a>, en plus de la règle UDEV créée précédemment.
Il redémarrera ccpd pour garantir son fonctionnement correct si l’imprimante est détectée sur le bus <abbr title="Universal Serial Bus">USB</abbr>.<br/>
<br/>

</p>

<p>
<a href="tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Créez avec les droits d&#039;administration</a> un fichier : <strong>/etc/init/ccpd-restart.conf</strong> pour y insérer ceci:
</p>
<pre class="file"># ccpd-restart - Relance ccpd si l&#039;imprimante est allumée avant le PC.
 
description    &quot;restart daemon ccpd for Canon printer LBP-serie&quot;

start on started cups
stop on runlevel [016]

script
    if [ -e /dev/usb/lp* ]; then
                /etc/init.d/ccpd stop
		sleep 5
		/etc/init.d/ccpd start
    fi
end script</pre>

<p>
Terminez en enregistrant ce fichier. Le job <a href="http://doc.ubuntu-fr.org/upstart" class="wikilink1" title="upstart">Upstart</a> est prêt à fonctionner.<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[CUPS actif lors du démarrage du démon ccpd :] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="17116-18646" /><input type="submit" value="Modifier" class="button" title="CUPS actif lors du démarrage du démon ccpd :" /></div></form></div>
<h2 class="sectionedit15" id="retirer_une_imprimante">Retirer une imprimante</h2>
<div class="level2">

<p>
En cas d&#039;erreur de manipulation, il peut être utile d&#039;avoir à retirer une imprimante installée de manière erronée.<br/>

Dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a>, on saisira : 
</p>
<pre class="code">sudo /usr/sbin/ccpdadmin -x [nom de l&#039;imprimante]</pre>

<p>
où [nom de l&#039;imprimante] est le nom que vous avez donné lors de l&#039;<a href="imprimante_canon_capt2#commande_d_installation" title="imprimante_canon_capt2 ↵" class="wikilink1">installation dans cups</a>.<br/>

</p>

<p>
Lorsque aucune imprimante n&#039;est installée, la commande : 
</p>
<pre class="code">sudo /usr/sbin/ccpdadmin </pre>

<p>
donnera un résultat de ce type : 
</p>
<pre class="file">Usage: 
  ccpdadmin [-p Printer-name -o Printer-dev-path]
  ccpdadmin [-x Remove-Printer-name]
 CUPS_ConfigPath = /etc/cups/
 LOG Path        = None
 UI Port         = 59787
Entry Num  :Spooler  :Backend  :FIFO path  :Device Path  :Status 
 ------------------------------------------------------</pre>

<p>
<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Retirer une imprimante] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="18647-19476" /><input type="submit" value="Modifier" class="button" title="Retirer une imprimante" /></div></form></div>
<h2 class="sectionedit16" id="sources">Sources</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Documentation Canon fournie avec le pilote d&#039;installation</div>
</li>
<li class="level1"><div class="li"> la page man de lpadmin</div>
</li>
<li class="level1"><div class="li"> (en)<a href="https://help.ubuntu.com/community/CanonCaptDrv190" class="urlextern" title="https://help.ubuntu.com/community/CanonCaptDrv190"  rel="nofollow">Installation Capt 1.9 sur Ubuntu.com</a></div>
</li>
<li class="level1"><div class="li"> (en) <a href="http://v0xel.wordpress.com/2006/05/23/canoon-lbp-1120-on-ubuntu-510-how-to" class="urlextern" title="http://v0xel.wordpress.com/2006/05/23/canoon-lbp-1120-on-ubuntu-510-how-to"  rel="nofollow">Canon lbp-1120 How to</a> sur v0xel.wordpress.com</div>
</li>
<li class="level1"><div class="li"> (en) <a href="http://ubuntuforums.org/showthread.php?t=1315665" class="urlextern" title="http://ubuntuforums.org/showthread.php?t=1315665"  rel="nofollow">Fil de discussion</a> sur ubuntuforums.org</div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs:</em> <a href="http://doc.ubuntu-fr.org/utilisateurs/murex" class="wikilink2" title="utilisateurs:murex" rel="nofollow">murex</a>, <a href="utilisateurs/fabux.1" class="wikilink1" title="utilisateurs:fabux">fabux</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/antoine_p" class="wikilink2" title="utilisateurs:antoine_p" rel="nofollow">Antoine P</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit" method="post" action="imprimante_canon_capt2"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1409138437" /><input type="hidden" name="summary" value="[Sources] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="19477-" /><input type="submit" value="Modifier" class="button" title="Sources" /></div></form></div><div class="footnotes">
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
Le code source des pilotes propriétaires n&#039;est pas librement accessible et modifiable par les développeurs d&#039;Ubuntu</div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__2" id="fn__2" class="fn_bot">2)</a></sup> 
sous nautilus il s&#039;agira d&#039;un clic droit sur l&#039;archive et de choisir « <em>Extraire ici</em> »</div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__3" id="fn__3" class="fn_bot">3)</a></sup> 
il y a également les paquets au format RPM 32-bits</div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__4" id="fn__4" class="fn_bot">4)</a></sup> 
il y a également les paquets au format RPM 64-bits</div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__5" id="fn__5" class="fn_bot">5)</a></sup> 
<a href="http://fr.wikipedia.org/wiki/Printer_Postscript_Description" class="urlextern" title="http://fr.wikipedia.org/wiki/Printer_Postscript_Description"  rel="nofollow">Printer Postscript Description</a></div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__6" id="fn__6" class="fn_bot">6)</a></sup> 
démon spécifique à Canon pour la gestion de l&#039;imprimante</div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__7" id="fn__7" class="fn_bot">7)</a></sup> 
minuscule/majuscule</div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__8" id="fn__8" class="fn_bot">8)</a></sup> 
Le <em>Canon Statusmonitor</em> donne accès à certaines fonctionnalités avancées de l&#039;imprimante telles que : nombres pages imprimées, niveaux toners, calibrage, nettoyage ou encore mise en veille</div>
<div class="fn"><sup><a href="imprimante_canon_capt2#fnt__9" id="fn__9" class="fn_bot">9)</a></sup> 
ajoutez un dièse (#) au début</div>
</div>

<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/b/b04c3834a2f6a9af2377bd4380c7f003.xhtml used -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/imprimante_canon_capt2?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/imprimante_canon_capt2?do=edit&amp;rev=0"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/imprimante_canon_capt2?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/imprimante_canon_capt2?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/imprimante_canon_capt2?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
