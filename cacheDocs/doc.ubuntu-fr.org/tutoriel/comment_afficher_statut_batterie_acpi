<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>tutoriel:comment_afficher_statut_batterie_acpi - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2010-11-28T08:30:09+0100"/>
<meta name="keywords" content="energie,materiel,installation,vetuste"/>
<link rel="search" type="application/opensearchdescription+xml" href="../lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="../index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/tutoriel/comment_afficher_statut_batterie_acpi?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="../feed.php?mode=list&amp;ns=tutoriel"/>
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/tutoriel/comment_afficher_statut_batterie_acpi?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/tutoriel/comment_afficher_statut_batterie_acpi"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/tutoriel/comment_afficher_statut_batterie_acpi"/>
<link rel="canonical" href="comment_afficher_statut_batterie_acpi"/>
<link rel="stylesheet" type="text/css" href="../lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='tutoriel';var JSINFO = {"id":"tutoriel:comment_afficher_statut_batterie_acpi","namespace":"tutoriel"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="comment_afficher_statut_batterie_acpi#main" tabindex="1">Contenu</a> | <a href="comment_afficher_statut_batterie_acpi#qsearch__in" tabindex="2">Rechercher</a> | <a href="comment_afficher_statut_batterie_acpi#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="../index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="comment_afficher_statut_batterie_acpi" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="comment_afficher_statut_batterie_acpi" >tutoriel:comment_afficher_statut_batterie_acpi</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <div class="notetag">Cette page est considée comme <a href="../vetuste">vétuste</a> et ne contient plus d'informations utiles.<br />
<a href="../wiki/participer_wiki">Apportez votre aide…</a>
</div>
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#prerequis">Prérequis</a></div></li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#le_dsdt_pour_votre_portable">Le DSDT pour votre portable</a></div></li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#telechargement_du_compilateur_iasl_d_intel">Téléchargement du compilateur iasl d&#039;Intel</a></div></li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#compilation_de_votre_dsdt">Compilation de votre DSDT</a></div></li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#quelques_sauvegardes">Quelques sauvegardes</a></div></li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#ajout_de_votre_dsdt_dans_initrd">Ajout de votre DSDT dans initrd</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="comment_afficher_statut_batterie_acpi#autre_possibilite">Autre possibilité</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#liens">Liens</a></div></li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#note_s">Note(s)</a></div></li>
<li class="level1"><div class="li"><a href="comment_afficher_statut_batterie_acpi#sur_breezy">Sur Breezy</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="../energie" class="wikilink1" title="energie" rel="tag">énergie</a>,
	<a href="../materiel" class="wikilink1" title="materiel" rel="tag">matériel</a>,
	<a href="../installation.1" class="wikilink1" title="installation" rel="tag">installation</a>,
	<a href="../vetuste" class="wikilink1" title="vetuste" rel="tag">vétuste</a>
</span></div>
<hr />

<p>
<p><div class="notewarning">Page ancienne <img src="../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
</div></p>
</p>

<p>
<a href="https://wiki.ubuntu.com/ACPIBattery" class="urlextern" title="https://wiki.ubuntu.com/ACPIBattery"  rel="nofollow">Traduit</a> par <a href="http://doc.ubuntu-fr.org/utilisateurs/zebob" class="wikilink2" title="utilisateurs:zebob" rel="nofollow">ZeBob</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/sbrunner" class="wikilink1" title="utilisateurs:sbrunner">Sbrunner</a>
</p>

<h1 class="sectionedit1" id="batteries_acpi">Batteries ACPI</h1>
<div class="level1">

<p>
Certains ordinateurs portables n&#039;affichent pas le statut de la batterie. Ce guide va vous montrer comment résoudre cet ennuyeux problème. Il y a beaucoup de messages sur les forum concernant ce sujet mais aucun ne vous montre comment résoudre facilement le problème.
</p>

<p>
Note: Le noyau d&#039;Ubuntu contient déjà le correctif nécessaire au bon fonctionnenment des batteries, donc aucune recompilation de noyau n&#039;est nécessaire dans ce guide!
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Batteries ACPI] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="203-675" /><input type="submit" value="Modifier" class="button" title="Batteries ACPI" /></div></form></div>
<h2 class="sectionedit2" id="prerequis">Prérequis</h2>
<div class="level2">

<p>
Nous allons avoir besoin de compiler certaines choses, il nous faut pour cela le paquet build-essential. Nous avons aussi besoin des paquets flex-old (qui remplacera flex) et bison.
</p>
<pre class="code">sudo apt-get install build-essential bison flex-old</pre>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Prérequis] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="676-936" /><input type="submit" value="Modifier" class="button" title="Prérequis" /></div></form></div>
<h2 class="sectionedit3" id="le_dsdt_pour_votre_portable">Le DSDT pour votre portable</h2>
<div class="level2">

<p>
Le DSDT (Differentiated System Description Table) se situe dans votre <abbr title="Basic Input-Output System">BIOS</abbr>. Il sert à informer Linux de tous les composants de votre ordinateur. Le vôtre est manifestement désordonné, nous allons donc en trouver un nouveau.
</p>

<p>
Rendez vous à la <a href="http://acpi.sf.net/" class="urlextern" title="http://acpi.sf.net/"  rel="nofollow">page ACPI</a> sur sourceforge et dans le menu sur la gauche cliquez sur DSDT puis sur View. Lorsque vous y êtes sélectionnez le fabriquant, le modèle et la version correspondant à votre <abbr title="Basic Input-Output System">BIOS</abbr>. Sur la page que vous obtenez ensuite, vous pourrez télécharger un DSDT corrigé pour votre portable. Si le vôtre ne s&#039;y trouve pas, allez voir les liens à la fin de ce document. S&#039;il n&#039;existe pas de DSDT pour votre version de <abbr title="Basic Input-Output System">BIOS</abbr>, mettez votre <abbr title="Basic Input-Output System">BIOS</abbr> à jour (cela pourrait déjà régler le problême).
</p>

<p>
Copiez l&#039;adresse de téléchargement (pour la coller dans la console) et dans votre $HOME faites:
</p>
<pre class="code">mkdir acpi
cd acpi
wget http://acpi.sourceforge.net/dsdt/tables/Manufacturer/Model/DSDT.asl.gz
gzip -d DSDT.asl.gz</pre>

<p>
(le lien après wget doit être remplacé par celui de votre DSDT)
</p>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Le DSDT pour votre portable] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="937-2039" /><input type="submit" value="Modifier" class="button" title="Le DSDT pour votre portable" /></div></form></div>
<h2 class="sectionedit4" id="telechargement_du_compilateur_iasl_d_intel">Téléchargement du compilateur iasl d&#039;Intel</h2>
<div class="level2">

<p>
Le DSDT doit être compilé. Pour cela nous avons besoin d&#039;un compilateur spécial d&#039;Intel. Téléchargez les sources Unix <a href="http://www.intel.com/technology/IAPC/acpi/downloads.htm" class="urlextern" title="http://www.intel.com/technology/IAPC/acpi/downloads.htm"  rel="nofollow">ici</a>
</p>

<p>
vous avez deux solutions pour installer iasl:
</p>

<p>
sur Ubuntu 6.10 vous pouvez l&#039; installer avec apt-get (depots multiverse et universe activés), la version installée est plus fiable qu&#039; avec l&#039; installation par les sources dicté ci dessous. En console :
</p>
<pre class="code">  sudo apt-get install iasl</pre>

<p>
ou à partir des sources
</p>
<pre class="code">wget http://www.intel.com/technology/iapc/acpi/downloads/acpica-unix-20050624.tar.gz
tar zxf acpica-unix-20050624.tar.gz
cd acpica-unix-20050624/compiler
make
cp iasl ../..
cd ../..</pre>

<p>
Si le <code>make</code> n&#039;a pas fonctionné il se peut que bison ne soit pas installé ou que vous ayez encore <code>flex</code> au lieu de <code>flex-old</code>.
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Téléchargement du compilateur iasl d'Intel] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="2040-2928" /><input type="submit" value="Modifier" class="button" title="Téléchargement du compilateur iasl d'Intel" /></div></form></div>
<h2 class="sectionedit5" id="compilation_de_votre_dsdt">Compilation de votre DSDT</h2>
<div class="level2">

<p>
Puisque les versions 2005 d&#039;iasl sont plus restrictives que les anciennes versions, il est possible que votre DSDT ne se compile pas. Vous pouvez toujours essayer de trouver une ancienne version d&#039;iasl (je n&#039;ai pas réussi) ou corriger votre DSDT vous-même (ce que je vais expliquer maintenant).
</p>
<pre class="code">cp dsdt.asl yourdsdtfile.asl # sauvegarde
./iasl -tc dsdt.asl          # compilation</pre>

<p>
Si tout fonctionne correctement, vous devriez obtenir 0 erreur, quelques avertissements et deux nouveaux fichiers : un fichier <code>.hex</code> et un fichier <code>.aml</code>. Dans le cas contraire, de nombreux messages d&#039;erreurs vous disant qu&#039;une &quot;<code>ResourceSource string</code> est manquante&quot; (<em>missing</em>) s&#039;afficheront. Ces erreurs sont facilement corrigeables. Gardez ouverte la fenêtre avec les erreurs de compilation pour avoir les numéros de ligne des erreurs.
</p>

<p>
Voici à quoi ressemblent les erreurs:
</p>
<pre class="code">dsdt.asl  1028:                     0x0100, 0x00)
Error    1094 -                                 ^ Missing ResourceSource string (required)</pre>
<pre class="code">dsdt.asl  1034:                     0x00000CF8, 0x00)
Error    1094 -                                     ^ Missing ResourceSource string (required)</pre>
<pre class="code">dsdt.asl  1041:                     0x0000F300, 0x00)
Error    1094 -                                     ^ Missing ResourceSource string (required)</pre>

<p>
Ouvrons le fichier <code>.asl</code> et regardons à la ligne 1028.
</p>
<pre class="code">gedit dsdt.asl&amp;</pre>

<p>
Il doit ressembler à:
</p>
<pre class="code">1023  WordBusNumber (ResourceProducer, MinFixed, MaxFixed, PosDecode,
1024      0x0000, /* Address Space Granularity */
1025      0x0000, /* Address Range Minimum */ 
1026      0x00FF, /* Address Range Maximum */
1027      0x0000, /* Address Translation Offset */
1028      0x0100, 0x00)</pre>

<p>
Nous devons simplement enlever le <code>0x00</code> pour que la ligne 1028 ressemble à:
</p>
<pre class="code">1028      0x0100)</pre>

<p>
Répétez cette opération pour toutes les erreurs <code>Missing ResourceSource string</code> (elles devraient toutes être à la même position), enregistrez le fichier et fermez gedit.
D&#039;autres erreurs peuvent se présenter, notamment concernant des fichiers à inclure.
Par exemple, pour un Acer TM4000, des fichiers du patch <a href="http://sourceforge.net/projects/sbs-linux/" class="urlextern" title="http://sourceforge.net/projects/sbs-linux/"  rel="nofollow">http://sourceforge.net/projects/sbs-linux/</a> ont été nécessaires.
Maintenant compilez de nouveau avec la commande <code>./iasl -tc dsdt.asl</code>
</p>

<p>
Il se peut également que les fins de lignes posent problème si le fichier est au format DOS (&lt;CR&gt;&lt;LF&gt;).
Si tel est le cas vous obtiendrez un très grand nombre d&#039;erreurs (en fait une par ligne) du style :
</p>
<pre class="code">DSDT.asl   204:         Else
Error    1094 -             ^ Invalid character (0x0D), expecting ASL keyword or name

DSDT.asl   205:         {
Error    1094 -          ^ Invalid character (0x0D), expecting ASL keyword or name</pre>

<p>
Le remède est le suivant:
</p>
<pre class="code">sudo apt-get install sysutils
dos2unix dsdt.asl</pre>

<p>
Maintenant compilez de nouveau avec la commande <code>./iasl -tc dsdt.asl</code>
</p>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Compilation de votre DSDT] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="2929-5861" /><input type="submit" value="Modifier" class="button" title="Compilation de votre DSDT" /></div></form></div>
<h2 class="sectionedit6" id="quelques_sauvegardes">Quelques sauvegardes</h2>
<div class="level2">

<p>
Comme nous ne voulons pas endommager votre système fonctionnel, nous allons travailler sur une sauvegarde puis nous l&#039;ajouterons à votre chargeur de boot.
</p>
<pre class="code">sudo -s -H   # suivi du mot de passe de l&#039;utilisateur
cp /boot/initrd.img-2.6.10-5-686 /boot/initrd.img-2.6.10-5-386.acpi
cp /boot/vmlinuz-2.6.10-5-686 /boot/vmlinuz-2.6.10-5-386.acpi
exit</pre>

<p>
Pour pouvoir démarrer à partir cette copie, nous devons ajouter une section correspondante dans le chargeur de boot Grub.
</p>
<pre class="code">gedit /boot/grub/menu.lst&amp;</pre>

<p>
Ajoutez une section qui ressemble à ceci (regardez les autres sections dans votre <code>menu.lst</code> afin de comparer)…
</p>
<pre class="code">title           Ubuntu, kernel 2.6.10-5-386 Battery
root            (hd0,3)
kernel          /boot/vmlinuz-2.6.10-5-386.acpi root=/dev/hda4 ro quiet splash
initrd          /boot/initrd.img-2.6.10-5-386.acpi
savedefault
boot</pre>

<p>
…et placez-la où vous voulez qu&#039;elle s&#039;affiche dans le menu de démarrage.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Quelques sauvegardes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="5862-6840" /><input type="submit" value="Modifier" class="button" title="Quelques sauvegardes" /></div></form></div>
<h2 class="sectionedit7" id="ajout_de_votre_dsdt_dans_initrd">Ajout de votre DSDT dans initrd</h2>
<div class="level2">

<p>
Il ne nous reste plus qu&#039;à ajouter le DSDT dans votre initrd.
</p>
<pre class="code">echo -n &quot;INITRDDSDT123DSDT123&quot; &gt;&gt; /boot/initrd.img-2.6.10-5-386.acpi
cat DSDT.aml &gt;&gt; /boot/initrd.img-2.6.10-5-386.acpi
echo -n &quot;INITRDDSDT321DSDT321&quot; &gt;&gt; /boot/initrd.img-2.6.10-5-386.acpi</pre>

<p>
Ca y est! Redémarrez votre ordinateur et choisissez l&#039;option de démarrage nouvellement créée. Si tout fonctionne correctement, vous pouvez en toute sécurité supprimer le dossier $HOME/acpi et modifier le menu de démarrage en conséquence (c&#039;est-à-dire faire de la nouvelle option de démarrage celle par défaut).
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Ajout de votre DSDT dans initrd] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="6841-7467" /><input type="submit" value="Modifier" class="button" title="Ajout de votre DSDT dans initrd" /></div></form></div>
<h3 class="sectionedit8" id="autre_possibilite">Autre possibilité</h3>
<div class="level3">

<p>
(chez moi la première n&#039;a pas marché :( )
</p>

<p>
Copier le fichier dsdt au bon endroit, puis reconfigurer le noyau Linux :
</p>

<p>
<strong>
* Edgy, Feisty et Gutsy:</strong>
</p>
<pre class="code">sudo cp dsdt.aml /etc/initramfs-tools/DSDT.aml
sudo dpkg-reconfigure linux-image-$(uname -r)</pre>

<p>
<strong>
* Breezy et Dapper :</strong>
</p>
<pre class="code">sudo cp dsdt.aml /etc/mkinitramfs/DSDT.aml
sudo dpkg-reconfigure linux-image-$(uname -r)</pre>

<p>
<strong>
* Hoary :</strong>
</p>
<pre class="code">sudo cp dsdt.aml /etc/mkinitrd/DSDT
sudo dpkg-reconfigure linux-image-$(uname -r)</pre>

<p>
(Méthode postée à l&#039;origine par xuzo ici : <a href="http://www.ubuntu-es.org/node/4164" class="urlextern" title="http://www.ubuntu-es.org/node/4164"  rel="nofollow">http://www.ubuntu-es.org/node/4164</a>)
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Autre possibilité] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="7468-8045" /><input type="submit" value="Modifier" class="button" title="Autre possibilité" /></div></form></div>
<h2 class="sectionedit9" id="liens">Liens</h2>
<div class="level2">

<p>
<a href="http://acpi.sourceforge.net/" class="urlextern" title="http://acpi.sourceforge.net/"  rel="nofollow">acpi.sf.net</a> - ACPI Homepage<br/>

<a href="http://forums.gentoo.org/viewtopic.php?t=122145" class="urlextern" title="http://forums.gentoo.org/viewtopic.php?t=122145"  rel="nofollow">Gentoo Forums</a> - How to fix a DSDT yourself<br/>

<a href="http://www.intel.com/technology/IAPC/acpi/downloads.htm" class="urlextern" title="http://www.intel.com/technology/IAPC/acpi/downloads.htm"  rel="nofollow">Intel ACPI</a> - Download iasl compiler<br/>

<a href="http://gaugusch.at/kernel.shtml" class="urlextern" title="http://gaugusch.at/kernel.shtml"  rel="nofollow">gaugusch.at</a> - the kernel patch to make this work<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Liens] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="8046-8411" /><input type="submit" value="Modifier" class="button" title="Liens" /></div></form></div>
<h2 class="sectionedit10" id="note_s">Note(s)</h2>
<div class="level2">

<p>
Il est aussi possible de trouver des fichiers DSDT au format asl ici : <a href="http://acpi.sourceforge.net/dsdt/view.php" class="urlextern" title="http://acpi.sourceforge.net/dsdt/view.php"  rel="nofollow">http://acpi.sourceforge.net/dsdt/view.php</a>
</p>

<p>
Vous êtes bien évidement invité à contribuer votre DSDT si vous possedez une image dsdt fonctionnelle.
</p>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Note(s)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="8412-8654" /><input type="submit" value="Modifier" class="button" title="Note(s)" /></div></form></div>
<h2 class="sectionedit11" id="sur_breezy">Sur Breezy</h2>
<div class="level2">

<p>
Après recompilation de la DSDT j&#039;avais perpétuellement une erreur au reboot :
</p>
<pre class="code">kernel panic - not syncing: VFS: Unable to mount root fs on unknown block (0,0)</pre>

<p>
Voici la manipulation à faire pour corriger ce problème :
</p>
<ol>
<li class="level1"><div class="li"> copier la DSDT fraîchement compilée dans /etc/mkinitramfs</div>
</li>
</ol>
<pre class="code">cp DSDT.aml /etc/mkinitramfs/DSDT.aml</pre>
<ol>
<li class="level1"><div class="li"> faire un mkinitramfs -o &lt;nomdunouveauinitrd&gt;</div>
</li>
</ol>
<pre class="code">mkinitramfs -o DSDTok</pre>
<ol>
<li class="level1"><div class="li"> copier ce nouveau fichier dans /boot</div>
</li>
</ol>
<pre class="code">cp DSDTok /boot/DSDTok</pre>
<ol>
<li class="level1"><div class="li"> configurer le menu.lst de grub correctement. C&#039;est-à-dire comme ceci :</div>
</li>
</ol>
<pre class="code">title           Ubuntu, kernel 2.6.10-5-386 Batterie
root            (hd0,3)
kernel          /boot/vmlinuz-2.6.10-5-386 root=/dev/hda4 ro quiet splash
initrd          /boot/DSDTok
savedefault
boot</pre>

<p>
(n&#039;oubliez pas de mettre la bonne version de votre noyau).
<br/>

Et voilà, c&#039;est fini ! <br/>

A noter que les fichier .acpi créés plus haut ne sont plus d&#039;aucune utilité.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit" method="post" action="comment_afficher_statut_batterie_acpi"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1290929409" /><input type="hidden" name="summary" value="[Sur Breezy] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="8655-" /><input type="submit" value="Modifier" class="button" title="Sur Breezy" /></div></form></div>
<!-- no cachefile used, but created /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/c/c5fa600c29938a7f4148fe7d0597ca39.xhtml -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="../index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/tutoriel/comment_afficher_statut_batterie_acpi?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/tutoriel/comment_afficher_statut_batterie_acpi?do=edit&amp;rev=0"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/tutoriel/comment_afficher_statut_batterie_acpi?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/tutoriel/comment_afficher_statut_batterie_acpi?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/tutoriel/comment_afficher_statut_batterie_acpi?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="../wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="../documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
