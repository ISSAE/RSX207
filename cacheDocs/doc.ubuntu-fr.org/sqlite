<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>sqlite - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2013-12-10T15:15:16+0100"/>
<meta name="keywords" content="sgbd"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/sqlite?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/sqlite?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/sqlite"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/sqlite"/>
<link rel="canonical" href="sqlite"/>
<link rel="stylesheet" type="text/css" href="lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"sqlite","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="sqlite#main" tabindex="1">Contenu</a> | <a href="sqlite#qsearch__in" tabindex="2">Rechercher</a> | <a href="sqlite#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="sqlite" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="sqlite" >sqlite</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="sqlite#installation">Installation</a></div></li>
<li class="level1"><div class="li"><a href="sqlite#utilisation_en_ligne_de_commande">Utilisation en ligne de commande</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="sqlite#lancer_le_terminal_sqlite">Lancer le terminal SQLite</a></div></li>
<li class="level2"><div class="li"><a href="sqlite#quitter_le_terminal_sqlite">Quitter le terminal SQLite</a></div></li>
<li class="level2"><div class="li"><a href="sqlite#lister_les_commandes_sqlite">Lister les commandes SQLite</a></div></li>
<li class="level2"><div class="li"><a href="sqlite#modifier_le_format_de_sortie">Modifier le format de sortie</a></div></li>
<li class="level2"><div class="li"><a href="sqlite#rappel_des_parametres">Rappel des paramètres</a></div></li>
<li class="level2"><div class="li"><a href="sqlite#manipuler_une_base">Manipuler une base</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="sqlite#utilisation_avec_un_client_graphique">Utilisation avec un client graphique</a></div></li>
<li class="level1"><div class="li"><a href="sqlite#utiliser_sqlite_avec_python">Utiliser Sqlite avec Python</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="sgbd" class="wikilink1" title="sgbd" rel="tag">sgbd</a>
</span></div>
<hr />

<h1 class="sectionedit1" id="sqlite">SQLite</h1>
<div class="level1">

<p>
Une base SQLite3 a la particularité d&#039;être contenue dans un fichier qui porte le même nom. Le moteur de base de données SQLite3 est une bibliothèque, libsqlite3, qu&#039;il est possible d&#039;utiliser avec l&#039;interface utilisateur en ligne de commande <code>sqlite3</code> ou, via l&#039;<abbr title="Application Programming Interface">API</abbr> C.<br/>

SQLite3 présente l&#039;avantage de n&#039;avoir rien à configurer, rien à maintenir ou à administrer. C&#039;est aussi son objectif. En contrepartie, certaines fonctionnalités sont absentes, comme la gestion des utilisateurs ou la possibilité de se connecter à distance à la base (en <abbr title="Transmission Control Protocol">TCP</abbr>/IP par exemple).
</p>

<p>
<em>Cette description est tirée de &quot;C en action&quot; 2ième édition de Yves METTIER.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[SQLite] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="22-705" /><input type="submit" value="Modifier" class="button" title="SQLite" /></div></form></div>
<h2 class="sectionedit2" id="installation">Installation</h2>
<div class="level2">

<p>
Pour installer SQLite3, <a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installez le paquet</a> <strong><a href="apt://sqlite3" class="interwiki iw_apt" title="apt://sqlite3">sqlite3</a></strong>.<br/>

Par exemple avec l&#039;outil <a href="apt-get" class="wikilink1" title="apt-get">apt-get</a> vous saisirez dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a> la <a href="commande_shell" class="wikilink1" title="commande_shell">commande</a> suivante:
</p>
<pre class="code">sudo apt-get install sqlite3</pre>

<p>
Remarque : pour installer SQLite2,<a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installez le paquet</a> <strong><a href="apt://sqlite" class="interwiki iw_apt" title="apt://sqlite">sqlite</a></strong>.<br/>

</p>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="706-1117" /><input type="submit" value="Modifier" class="button" title="Installation" /></div></form></div>
<h2 class="sectionedit3" id="utilisation_en_ligne_de_commande">Utilisation en ligne de commande</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Utilisation en ligne de commande] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="1118-1162" /><input type="submit" value="Modifier" class="button" title="Utilisation en ligne de commande" /></div></form></div>
<h3 class="sectionedit4" id="lancer_le_terminal_sqlite">Lancer le terminal SQLite</h3>
<div class="level3">

<p>
Dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a>, lancer la commande suivante avant de taper les commandes propres à SQLite:
</p>
<pre class="code">sqlite3</pre>

<p>
Le curseur indique que vous êtes maintenant dans le &quot;terminal&quot; SQlite comme ici:
</p>
<pre class="code">SQLite version 3.6.22
Enter &quot;.help&quot; for instructions
Enter SQL statements terminated with a &quot;;&quot;
sqlite&gt;</pre>

<p>
<p><div class="noteimportant">
<em>Toute commande SQLite sera précédée de son curseur afin de bien distinguer les commandes SQLite des autres commandes.</em>

</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Lancer le terminal SQLite] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="1163-1672" /><input type="submit" value="Modifier" class="button" title="Lancer le terminal SQLite" /></div></form></div>
<h3 class="sectionedit5" id="quitter_le_terminal_sqlite">Quitter le terminal SQLite</h3>
<div class="level3">
<pre class="code">sqlite&gt;.quit</pre>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Quitter le terminal SQLite] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="1673-1736" /><input type="submit" value="Modifier" class="button" title="Quitter le terminal SQLite" /></div></form></div>
<h3 class="sectionedit6" id="lister_les_commandes_sqlite">Lister les commandes SQLite</h3>
<div class="level3">
<pre class="code">sqlite&gt;.help</pre>

<p>
Affichera:
</p>
<pre class="code">.backup ?DB? FILE		Backup DB (default &quot;main&quot;) to FILE
.bail ON|OFF			Stop after hitting an error.  Default OFF
.databases			List names and files of attached databases
.dump ?TABLE? ...		Dump the database in an SQL text format
				     If TABLE specified, only dump tables matching
				     LIKE pattern TABLE.
.echo ON|OFF			Turn command echo on or off
.exit				Exit this program
.explain ?ON|OFF?		Turn output mode suitable for EXPLAIN on or off.
				     With no args, it turns EXPLAIN on.
.genfkey ?OPTIONS?		Options are:
				     --no-drop: Do not drop old fkey triggers.
				     --ignore-errors: Ignore tables with fkey errors
				     --exec: Execute generated SQL immediately
				See file tool/genfkey.README in the source 
				distribution for further information.
.header(s) ON|OFF		Turn display of headers on or off
.help				Show this message
.import FILE TABLE		Import data from FILE into TABLE
.indices ?TABLE?		Show names of all indices
				     If TABLE specified, only show indices for tables
				     matching LIKE pattern TABLE.
.load FILE ?ENTRY?		Load an extension library
.mode MODE ?TABLE?		Set output mode where MODE is one of:
				     csv      Comma-separated values
				     column   Left-aligned columns.  (See .width)
				     html     HTML &lt;table&gt; code
				     insert   SQL insert statements for TABLE
				     line     One value per line
				     list     Values delimited by .separator string
				     tabs     Tab-separated values
				     tcl      TCL list elements
.nullvalue STRING		Print STRING in place of NULL values
.output FILENAME		Send output to FILENAME
.output stdout			Send output to the screen
.prompt MAIN CONTINUE		Replace the standard prompts
.quit				Exit this program
.read FILENAME			Execute SQL in FILENAME
.restore ?DB? FILE		Restore content of DB (default &quot;main&quot;) from FILE
.schema ?TABLE?			Show the CREATE statements
				     If TABLE specified, only show tables matching
				     LIKE pattern TABLE.
.separator STRING		Change separator used by output mode and .import
.show				Show the current values for various settings
.tables ?TABLE?			List names of tables
				     If TABLE specified, only list tables matching
				     LIKE pattern TABLE.
.timeout MS			Try opening locked tables for MS milliseconds
.width NUM1 NUM2 ...		Set column widths for &quot;column&quot; mode
.timer ON|OFF			Turn the CPU timer measurement on or off</pre>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Lister les commandes SQLite] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="1737-4205" /><input type="submit" value="Modifier" class="button" title="Lister les commandes SQLite" /></div></form></div>
<h3 class="sectionedit7" id="modifier_le_format_de_sortie">Modifier le format de sortie</h3>
<div class="level3">

<p>
Vous pouvez par exemple:
</p>
<ul>
<li class="level1"><div class="li"> <a href="sqlite#afficher_le_nom_des_colonneschanger_l_aspect_des_colonnes" title="sqlite ↵" class="wikilink1">Afficher le nom des colonnes / Changer l&#039;aspect des colonnes</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#modifier_le_separateur" title="sqlite ↵" class="wikilink1">Modifier le séparateur</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#modifier_la_largeur_des_colonnes" title="sqlite ↵" class="wikilink1">Modifier la largeur des colonnes</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#modifier_la_sortie_en_code_html" title="sqlite ↵" class="wikilink1">Modifier la sortie en code html</a></div>
</li>
</ul>

</div>

<h4 id="afficher_le_nom_des_colonneschanger_l_aspect_des_colonnes">Afficher le nom des colonnes / Changer l&#039;aspect des colonnes</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Pour présenter les résultat d&#039;une requête sous forme de tableau dans le terminal on utilisera:</div>
</li>
</ul>
<pre class="code">sqlite&gt; .headers on
sqlite&gt; .mode column</pre>

<p>
Et à l&#039;issue d&#039;une requête les résultats s&#039;afficheront de cette manière:
</p>
<pre class="code">nom        age    	membre
----------  ----------  ----------
dan         23         oui
bob         45         non</pre>
<ul>
<li class="level1"><div class="li"> Pour revenir au mode précédent:</div>
</li>
</ul>
<pre class="code">sqlite&gt; .header off		# Mode par défaut
sqlite&gt; .mode list		# Mode par défaut</pre>

<p>
Affichera:
</p>
<pre class="code">dan|23|oui
bob|45|non</pre>

</div>

<h4 id="modifier_le_separateur">Modifier le séparateur</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Il est possible de modifier le séparateur dans le mode list:</div>
</li>
</ul>
<pre class="code">sqlite&gt; .separator &quot;, &quot;</pre>

<p>
Affichera:
</p>
<pre class="code">dan, 23, oui
bob, 45, non</pre>

</div>

<h4 id="modifier_la_largeur_des_colonnes">Modifier la largeur des colonnes</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Par défaut, chaque colonne fait 10 caractères de largeur. Il est possible d&#039;ajuster la taille ainsi:</div>
</li>
</ul>
<pre class="code">sqlite&gt; .width 2 15 10 20 3</pre>

<p>
Affichera:
</p>
<pre class="code">id  titre            auteur      resume           num  date_creation    éditeur  
--  ---------------  ----------  ---------------  ---  --------------  ----------
1   tintin au congo  hergé      Tintin est au c  5.0                   casterman 
2   le nid des mars  franquin    Un reportage in  6.0                        
3   la déesse       moebius     une aventure ex  7.0  2011-02-03  </pre>

</div>

<h4 id="modifier_la_sortie_en_code_html">Modifier la sortie en code html</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> Il est possible de sortir directement les résultats en html:</div>
</li>
</ul>
<pre class="code">sqlite&gt; .mode html</pre>

<p>
Affichera:
</p>
<pre class="code">&lt;TR&gt;&lt;TH&gt;id&lt;/TH&gt;
&lt;TH&gt;titre&lt;/TH&gt;
&lt;TH&gt;auteur&lt;/TH&gt;
&lt;TH&gt;resume&lt;/TH&gt;
&lt;TH&gt;num&lt;/TH&gt;
&lt;TH&gt;timenter&lt;/TH&gt;
&lt;TH&gt;éditeur&lt;/TH&gt;
&lt;/TR&gt;
&lt;TR&gt;&lt;TD&gt;1&lt;/TD&gt;
&lt;TD&gt;tintin au congo&lt;/TD&gt;
&lt;TD&gt;hergé&lt;/TD&gt;
&lt;TD&gt;Tintin est au congo.&lt;/TD&gt;
&lt;TD&gt;5.0&lt;/TD&gt;
&lt;TD&gt;&lt;/TD&gt;
&lt;TD&gt;casterman&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;&lt;TD&gt;2&lt;/TD&gt;
&lt;TD&gt;le nid des marsupilamis&lt;/TD&gt;
&lt;TD&gt;franquin&lt;/TD&gt;
&lt;TD&gt;Un reportage incroyable&lt;/TD&gt;
&lt;TD&gt;6.0&lt;/TD&gt;
&lt;TD&gt;&lt;/TD&gt;
&lt;TD&gt;&lt;/TD&gt;
&lt;/TR&gt;
&lt;TR&gt;&lt;TD&gt;3&lt;/TD&gt;
&lt;TD&gt;la déesse&lt;/TD&gt;
&lt;TD&gt;moebius&lt;/TD&gt;
&lt;TD&gt;une aventure extraordinaire&lt;/TD&gt;
&lt;TD&gt;7.0&lt;/TD&gt;
&lt;TD&gt;2011-02-03&lt;/TD&gt;
&lt;TD&gt;&lt;/TD&gt;
&lt;/TR&gt;</pre>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Modifier le format de sortie] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="4206-6584" /><input type="submit" value="Modifier" class="button" title="Modifier le format de sortie" /></div></form></div>
<h3 class="sectionedit8" id="rappel_des_parametres">Rappel des paramètres</h3>
<div class="level3">
<pre class="code">sqlite&gt; .show</pre>

<p>
Affichera:
</p>
<pre class="code">     echo: off
  explain: off
  headers: off
     mode: list
nullvalue: &quot;&quot;
   output: stdout
separator: &quot;|&quot;
    width: </pre>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Rappel des paramètres] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="6585-6794" /><input type="submit" value="Modifier" class="button" title="Rappel des paramètres" /></div></form></div>
<h3 class="sectionedit9" id="manipuler_une_base">Manipuler une base</h3>
<div class="level3">

<p>
Vous pouvez par exemple
</p>
<ul>
<li class="level1"><div class="li"> <a href="sqlite#creer_une_base_-_ouvrir_une_base" title="sqlite ↵" class="wikilink1">Créer une base - ouvrir une base</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#creer_une_table" title="sqlite ↵" class="wikilink1">Créer une table</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#lister_les_tables" title="sqlite ↵" class="wikilink1">Lister les tables</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#inserer_des_valeurs_dans_la_table" title="sqlite ↵" class="wikilink1">Insérer des valeurs dans la table</a></div>
</li>
<li class="level1"><div class="li"> Faire une <a href="sqlite#simple_requete_pour_visualiser_le_contenu_de_la_table" title="sqlite ↵" class="wikilink1">simple requête pour visualiser le contenu de la table</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#effacer_une_valeur_dans_la_table" title="sqlite ↵" class="wikilink1">Effacer une valeur dans la table</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#ajouter_une_colonne_a_la_table" title="sqlite ↵" class="wikilink1">Ajouter une colonne à la table</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#mettre_a_jour_une_valeur_a_la_table" title="sqlite ↵" class="wikilink1">Mettre à jour une valeur à la table</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#modifier_le_nom_d_une_table" title="sqlite ↵" class="wikilink1">Modifier le nom d&#039;une table</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#ecrire_la_sortie_des_resultats_dans_un_fichier" title="sqlite ↵" class="wikilink1">Écrire la sortie des résultats dans un fichier</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#dumper_une_table_depuis_sqlite_en_format_sql_pour_sauvegarder_la_structure_et_les_donnees_sur_un_disque" title="sqlite ↵" class="wikilink1">Dumper une table depuis SQLite en format SQL pour sauvegarder la structure et les données sur un disque</a></div>
</li>
<li class="level1"><div class="li"> <a href="sqlite#dumper_une_base_en_format_sql_pour_sauvegarder_sa_structure_ses_tables_et_ses_donnees" title="sqlite ↵" class="wikilink1">Dumper une base en format SQL pour sauvegarder sa structure, ses tables et ses données</a></div>
</li>
</ul>

</div>

<h4 id="creer_une_base_-_ouvrir_une_base">Créer une base - ouvrir une base</h4>
<div class="level4">
<pre class="code">sqlite3 livres.db</pre>
<ul>
<li class="level1"><div class="li"> Si la base <code>livres.db</code> n&#039;existe pas déjà, elle sera créée. Cette commande, non seulement créé ou ouvre la base, mais place le curseur immédiatement dans l&#039;environnement <em>terminal</em> de SQLite. Toute commande tapée par la suite concernera cette base. Un fichier <code>livres.db</code> est créé.</div>
</li>
</ul>

</div>

<h4 id="detruire_une_base">Détruire une base</h4>
<div class="level4">

<p>
Il suffit de détruire le fichier correspondant. Par exemple 
</p>
<pre class="code">rm livres.db</pre>

<p>
.
</p>

</div>

<h4 id="creer_une_table">Créer une table</h4>
<div class="level4">

<p>
Il faut avoir ouvert ou créé une base avant de taper les commandes suivantes:
</p>
<pre class="code">sqlite&gt; CREATE TABLE bandedessinée (id integer primary key, titre VARCHAR(30), auteur VARCHAR(30), resume TEXT, num double, date_creation date);</pre>

<p>
<p><div class="noteclassic"> Si <code>   …&gt;</code> apparait après avoir tapé la commande, c&#039;est qu&#039;il manque tout simplement le <code>;</code> à la fin de la requête. Ajoutez-le juste après le <code>   …&gt;;</code> et validez.
</div></p>
<p><div class="noteclassic">Les types de données SQLite3 sont tels qu&#039;expliqué <a href="http://www.sqlite.org/datatype3.html" class="urlextern" title="http://www.sqlite.org/datatype3.html"  rel="nofollow">ici</a> à savoir: <em>NULL, INTEGER, REAL, TEXT</em> et <em>BLOB</em>. Ce qui donne par exemple :
</p>
<pre class="code">sqlite&gt; CREATE TABLE bandedessinée (id integer primary key, titre TEXT, auteur TEXT, resume TEXT, num REAL, date_creation INTEGER);</pre>

<p>

</div></p>
</p>

</div>

<h4 id="lister_les_tables">Lister les tables</h4>
<div class="level4">
<pre class="code">sqlite&gt; .tables</pre>

</div>

<h4 id="inserer_des_valeurs_dans_la_table">Insérer des valeurs dans la table</h4>
<div class="level4">

<p>
Un exemple d&#039;insertion de valeurs:
</p>
<pre class="code">sqlite&gt; INSERT INTO &quot;bandedessinée&quot; VALUES(1, &#039;tintin au congo&#039;, &#039;hergé&#039;, &#039;Tintin est au congo.&#039;, 5.0, NULL);
sqlite&gt; INSERT INTO &quot;bandedessinée&quot; VALUES(2, &#039;le nid des marsupilamis&#039;, &#039;franquin&#039;, &#039;Un reportage incroyable&#039;, 6.0, date(&#039;now&#039;));
sqlite&gt; INSERT INTO &quot;bandedessinée&quot; VALUES(3, &#039;la déesse&#039;, &#039;moebius&#039;, &#039;une aventure géniale&#039;, 7.0, strftime(&quot;%Y-%m-%d %H:%M:%S&quot;,&#039;now&#039;,&#039;localtime&#039;));</pre>

</div>

<h4 id="simple_requete_pour_visualiser_le_contenu_de_la_table">Simple requête pour visualiser le contenu de la table</h4>
<div class="level4">
<pre class="code">sqlite&gt; select * from bandedessinée;</pre>

<p>
Affichera:
</p>
<pre class="code">1|tintin au congo|hergé|Tintin est au congo.|5.0|
2|le nid des marsupilamis|franquin|Un reportage incroyable|6.0|2011-02-03
3|la déesse|moebius|une aventure extraordinaire|7.0|2011-02-03 18:36:25</pre>

</div>

<h5 id="requete_de_visualisation_d_une_table_formatee_en_sortie_comme_une_insertion_de_valeur">Requête de visualisation d&#039;une table formatée en sortie COMME une insertion de valeur</h5>
<div class="level5">
<pre class="code">sqlite&gt; .mode insert bandedessinée
sqlite&gt; select * from bandedessinée;</pre>

<p>
Affichera:
</p>
<pre class="code">INSERT INTO &#039;bandedessinée&#039; VALUES(1,&#039;tintin au congo&#039;,&#039;hergé&#039;,&#039;Tintin est au congo.&#039;,5.0,NULL);
INSERT INTO &#039;bandedessinée&#039; VALUES(2,&#039;le nid des marsupilamis&#039;,&#039;franquin&#039;,&#039;Un reportage incroyable&#039;,6.0,&#039;2011-02-03&#039;);
INSERT INTO &#039;bandedessinée&#039; VALUES(3,&#039;la déesse&#039;,&#039;moebius&#039;,&#039;une aventure extraordinaire&#039;,7.0,&#039;2011-02-03&#039;);</pre>

</div>

<h5 id="quelques_exemples_de_requetes">Quelques exemples de requêtes</h5>
<div class="level5">
<ul>
<li class="level1"><div class="li"> Limiter une requête par nombre d&#039;éléments: <pre class="code">sqlite&gt; sqlite&gt; select * from bandedessinée limit 2;</pre>
<pre class="code">1|tintin au congo|hergé|Tintin est au congo.|5.0||casterman
2|le nid des marsupilamis|franquin|Un reportage incroyable|6.0||</pre>
</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Sélectionner les titres de la table bandedessinée enregistrés depuis février: <pre class="code">sqlite&gt; select titre from bandedessinée where strftime(&#039;%m&#039;, date_creation)=&#039;02&#039;;</pre>
<pre class="code">le nid des marsupilamis
la déesse</pre>
</div>
</li>
</ul>

</div>

<h4 id="effacer_une_valeur_dans_la_table">Effacer une valeur dans la table</h4>
<div class="level4">
<pre class="code">sqlite&gt; DELETE FROM &quot;bandedessinée&quot; WHERE id = 3;</pre>

</div>

<h4 id="ajouter_une_colonne_a_la_table">Ajouter une colonne à la table</h4>
<div class="level4">
<pre class="code">sqlite&gt; ALTER TABLE &quot;bandedessinée&quot; add column &quot;éditeur&quot;;</pre>

</div>

<h4 id="mettre_a_jour_une_valeur_a_la_table">Mettre à jour une valeur à la table</h4>
<div class="level4">
<pre class="code">sqlite&gt; UPDATE &quot;bandedessinée&quot; SET éditeur =&#039;casterman&#039; WHERE id = 1;</pre>

</div>

<h4 id="modifier_le_nom_d_une_table">Modifier le nom d&#039;une table</h4>
<div class="level4">
<pre class="code">alter table &#039;bandedessinée&#039; rename to &#039;bd&#039;;</pre>

</div>

<h4 id="ecrire_la_sortie_des_resultats_dans_un_fichier">Écrire la sortie des résultats dans un fichier</h4>
<div class="level4">
<pre class="code">sqlite&gt; .output bd.txt
sqlite&gt; select * from bd;
sqlite&gt; .quit</pre>
<ul>
<li class="level1"><div class="li"> Visualiser dans le terminal le fichier créé:</div>
</li>
</ul>
<pre class="code">cat bd.txt</pre>

</div>

<h4 id="dumper_une_table_depuis_sqlite_en_format_sql_pour_sauvegarder_la_structure_et_les_donnees_sur_un_disque">Dumper une table depuis SQLite en format SQL pour sauvegarder la structure et les données sur un disque</h4>
<div class="level4">

</div>

<h5 id="voir_le_resultat_de_la_commande_dump">Voir le résultat de la commande .dump</h5>
<div class="level5">
<pre class="code">sqlite&gt; .dump bd

PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE &quot;bd&quot; (id integer primary key, titre VARCHAR(30), auteur VARCHAR(30), resume TEXT, num double, date_creation date);
INSERT INTO &quot;bd&quot; VALUES(1,&#039;tintin au congo&#039;,&#039;hergé&#039;,&#039;Tintin est au congo.&#039;,5.0,NULL);
INSERT INTO &quot;bd&quot; VALUES(2,&#039;le nid des marsupilamis&#039;,&#039;franquin&#039;,&#039;Un reportage incroyable&#039;,6.0,&#039;2011-02-04&#039;);
INSERT INTO &quot;bd&quot; VALUES(3,&#039;la déesse&#039;,&#039;moebius&#039;,&#039;une aventure géniale&#039;,7.0,&#039;2011-02-04 17:06:23&#039;);
COMMIT;</pre>

</div>

<h5 id="rediriger_la_sortie_vers_un_fichier_puis_dumper_la_table_depuis_sqlite">Rediriger la sortie vers un fichier puis dumper la table depuis SQLite</h5>
<div class="level5">
<pre class="code">sqlite&gt; .output bd.sql
sqlite&gt; .dump bd</pre>

<p>
Le résultat n&#039;est plus affiché dans le terminal, mais redirigé vers le fichier <code>bd.sql</code>. Pour le vérifier il suffit d&#039;afficher le contenu du fichier:
</p>
<pre class="code">sqlite&gt; .quit
cat bd.sql</pre>

</div>

<h5 id="lire_directement_un_fichier_dumpe_depuis_sqlite">Lire directement un fichier dumpé depuis sqlite</h5>
<div class="level5">

<p>
Tout d&#039;abord effacez la table de la base:
</p>
<pre class="code">sqlite&gt; drop table bd;</pre>

<p>
Puis lisez le fichier sauvegardé:
</p>
<pre class="code">sqlite&gt; .read bd.sql
sqlite&gt; select * from bd;</pre>

<p>
Affichera:
</p>
<pre class="code">1|tintin au congo|hergé|Tintin est au congo.|5.0|
2|le nid des marsupilamis|franquin|Un reportage incroyable|6.0|2011-02-04
3|la déesse|moebius|une aventure géniale|7.0|2011-02-04 17:06:23</pre>

</div>

<h4 id="dumper_une_base_en_format_sql_pour_sauvegarder_sa_structure_ses_tables_et_ses_donnees">Dumper une base en format SQL pour sauvegarder sa structure, ses tables et ses données</h4>
<div class="level4">

</div>

<h5 id="dumper_la_base">Dumper la base</h5>
<div class="level5">
<pre class="code">sqlite3 livres.db .dump &gt; livres.sql</pre>

</div>

<h5 id="recuperer_un_fichier_dumpe_pour_recreer_la_base">Récupérer un fichier dumpé pour recréer la base</h5>
<div class="level5">

<p>
Effacez le fichier original avant de procéder à la récupération de la base:
</p>
<pre class="code">rm -r livres.db				# Effacer la base originale
sqlite3 livres.db &lt; livres.sql		# Récuperer la base depuis le fichier de svg
sqlite3 livres.db			# Se connecter à la base

sqlite&gt; select * from bd;		# Faire un requête pour vérification</pre>

<p>
Affichera:
</p>
<pre class="code">1|tintin au congo|hergé|Tintin est au congo.|5.0|
2|le nid des marsupilamis|franquin|Un reportage incroyable|6.0|2011-02-04
3|la déesse|moebius|une aventure géniale|7.0|2011-02-04 17:06:23</pre>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Manipuler une base] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="6795-13656" /><input type="submit" value="Modifier" class="button" title="Manipuler une base" /></div></form></div>
<h2 class="sectionedit10" id="utilisation_avec_un_client_graphique">Utilisation avec un client graphique</h2>
<div class="level2">

<p>
Liste de clients graphiques libres disponibles sous Linux :
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://sqlitebrowser.sourceforge.net/" class="urlextern" title="http://sqlitebrowser.sourceforge.net/"  rel="nofollow">Sqlite Browser</a> (présent dans les dépôts Ubuntu paquet : <em>sqlitebrowser</em>)</div>
</li>
<li class="level1"><div class="li"> <a href="http://mbg-sqlclient.developpez.com/" class="urlextern" title="http://mbg-sqlclient.developpez.com/"  rel="nofollow">Ohraimeur</a>.</div>
</li>
<li class="level1"><div class="li"> <a href="https://addons.mozilla.org/fr/firefox/addon/sqlite-manager/" class="urlextern" title="https://addons.mozilla.org/fr/firefox/addon/sqlite-manager/"  rel="nofollow">Sqlite manager</a> (extension pour <a href="firefox" class="wikilink1" title="firefox">Firefox</a>).</div>
</li>
<li class="level1"><div class="li"> <a href="http://sqliteman.com" class="urlextern" title="http://sqliteman.com"  rel="nofollow">Sqliteman - Sqlite Databases Made Easy</a></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Utilisation avec un client graphique] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="13657-14130" /><input type="submit" value="Modifier" class="button" title="Utilisation avec un client graphique" /></div></form></div>
<h2 class="sectionedit11" id="utiliser_sqlite_avec_python">Utiliser Sqlite avec Python</h2>
<div class="level2">

<p>
Exemple d&#039;utilisation de SQLite avec un script python.<br/>

<a href="tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Créez un fichier</a> <strong>test-python.py</strong>. Par exemple avec <a href="gedit" class="wikilink1" title="gedit">gedit</a> vous saisirez dans un <a href="terminal" class="wikilink1" title="terminal">terminal</a>:
</p>
<pre class="code">gedit test-python.py</pre>

<p>
Et ajoutez le code ci-dessous:
</p>
<dl class="file">
<dt><a href="http://doc.ubuntu-fr.org/_export/code/sqlite?codeblock=48" title="Télécharger un extrait" class="mediafile mf_py">test-python.py</a></dt>
<dd><pre class="code file python"><span class="co1">#!/usr/bin/env python</span>
<span class="co1">#-*- coding: utf-8 -*-</span>
&nbsp;
<span class="kw1">import</span> sqlite3
&nbsp;
<span class="kw1">class</span> Mabase<span class="br0">&#40;</span><span class="br0">&#41;</span>:
&nbsp;
	<span class="kw1">def</span> <span class="kw4">__init__</span><span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
&nbsp;
		<span class="kw2">self</span>.<span class="me1">conn</span> <span class="sy0">=</span> sqlite3.<span class="me1">connect</span><span class="br0">&#40;</span><span class="st0">'mabase.db'</span><span class="br0">&#41;</span>
&nbsp;
	<span class="kw1">def</span> creer<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
		<span class="st0">&quot;&quot;&quot;	Créer une simple base.
			Renvoi True si reussie, False si déjà créée. &quot;&quot;&quot;</span>
&nbsp;
		<span class="co1"># Obtention d'un curseur</span>
		c <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">conn</span>.<span class="me1">cursor</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
		<span class="co1"># Créer une table</span>
		<span class="kw1">try</span>:
			c.<span class="me1">execute</span><span class="br0">&#40;</span><span class="st0">'create table comptes (id INTEGER PRIMARY KEY,signature VARCHAR(50), compteur INTEGER)'</span><span class="br0">&#41;</span>
			<span class="co1"># Inserer deux lignes de données</span>
			c.<span class="me1">execute</span><span class="br0">&#40;</span><span class="st0">'insert into comptes values (null,&quot;gffgdfgd&quot;,&quot;0&quot;)'</span><span class="br0">&#41;</span>
			c.<span class="me1">execute</span><span class="br0">&#40;</span><span class="st0">'insert into comptes values (null,&quot;Martin&quot;,&quot;1&quot;)'</span><span class="br0">&#41;</span>
&nbsp;
			<span class="co1"># Sauvegarder les modifications</span>
			<span class="kw2">self</span>.<span class="me1">conn</span>.<span class="me1">commit</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
			<span class="co1"># Fermer le curseur</span>
			c.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
			<span class="kw1">print</span> <span class="st0">&quot;Création de la base réussie.&quot;</span>
			<span class="kw1">return</span> <span class="kw2">True</span>
&nbsp;
		<span class="kw1">except</span>:
			<span class="co1"># Fermer le curseur</span>
			c.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
			<span class="kw1">return</span> <span class="kw2">False</span>
&nbsp;
	<span class="kw1">def</span> lire<span class="br0">&#40;</span><span class="kw2">self</span><span class="br0">&#41;</span>:
		<span class="st0">&quot;&quot;&quot;	&quot;&quot;&quot;</span>
		c <span class="sy0">=</span> <span class="kw2">self</span>.<span class="me1">conn</span>.<span class="me1">cursor</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
		c.<span class="me1">execute</span><span class="br0">&#40;</span><span class="st0">&quot;SELECT * FROM comptes&quot;</span><span class="br0">&#41;</span>
		<span class="kw1">for</span> row <span class="kw1">in</span> c:
			<span class="kw1">print</span> row
		c.<span class="me1">close</span><span class="br0">&#40;</span><span class="br0">&#41;</span>
&nbsp;
<span class="co1"># Création de l'instance de classe</span>
mabase <span class="sy0">=</span> Mabase<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="kw1">if</span> <span class="kw1">not</span> mabase.<span class="me1">creer</span><span class="br0">&#40;</span><span class="br0">&#41;</span>:	<span class="co1"># Si la méthode creer() renvoi False, lire la base</span>
	mabase.<span class="me1">lire</span><span class="br0">&#40;</span><span class="br0">&#41;</span></pre>
</dd></dl>

<p>
Modifiez les <a href="permissions" class="wikilink1" title="permissions">permissions</a> du script <code>test-python.py</code> afin de le rendre exécutable, puis lancez-le dans le terminal en tapant:
</p>
<pre class="code">./test-python.py</pre>
<hr />

<p>
<em>Contributeurs: <a href="http://doc.ubuntu-fr.org/utilisateurs/nuxos" class="wikilink1" title="utilisateurs:nuxos">nuxos</a></em>
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit" method="post" action="sqlite"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1386684916" /><input type="hidden" name="summary" value="[Utiliser Sqlite avec Python] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="14131-" /><input type="submit" value="Modifier" class="button" title="Utiliser Sqlite avec Python" /></div></form></div>
<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/a/a6f40d32dc13ec37dee53f42ddbd3556.xhtml used -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/sqlite?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/sqlite?do=edit&amp;rev=0"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/sqlite?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/sqlite?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/sqlite?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
