<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>laptop_mode</title>
<meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2015-04-03T23:13:57+0200"/>
<meta name="keywords" content="personnalisation,systeme,portable,bug,vetuste,brouillon"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="../../laptop_mode?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="../../feed.php?mode=list&amp;ns="/>
<link rel="alternate" type="text/html" title="HTML brut" href="laptop_mode"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="../raw/laptop_mode"/>
<link rel="canonical" href="../../laptop_mode"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"laptop_mode","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="laptop_mode#description">Description</a></div></li>
<li class="level1"><div class="li"><a href="laptop_mode#les_rumeurs_et_le_danger_reel">Les rumeurs et le danger réel</a></div></li>
<li class="level1"><div class="li"><a href="laptop_mode#detection_du_probleme">Détection du problème</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="laptop_mode#preparation">Préparation</a></div></li>
<li class="level2"><div class="li"><a href="laptop_mode#verification">Vérification</a></div></li>
<li class="level2"><div class="li"><a href="laptop_mode#diagnostic">Diagnostic</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="laptop_mode#correction_du_probleme">Correction du problème</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="laptop_mode#hdparm">Hdparm</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="../../personnalisation" class="wikilink1" title="personnalisation" rel="tag">personnalisation</a>,
	<a href="../../systeme" class="wikilink1" title="systeme" rel="tag">système</a>,
	<a href="../../portable" class="wikilink1" title="portable" rel="tag">portable</a>,
	<a href="../../bug" class="wikilink1" title="bug" rel="tag">bug</a>,
	<a href="../../vetuste" class="wikilink1" title="vetuste" rel="tag">vétuste</a>,
	<a href="../../brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>
<hr />

<h1 class="sectionedit1" id="parcage_des_tetes_de_lecture_et_gestion_d_energiedisques_durs_en_danger">Parcage des têtes de lecture et gestion d&#039;énergie  : disques durs en danger ?</h1>
<div class="level1">

<p>
<p><div class="noteimportant">Le problème de parcage des têtes de lecture <em class="u"><strong>a été partiellement corrigé</strong></em> dans Ubuntu (toutes versions) grâce à la mise à jour du 15 janvier 2009 (<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> source?). La correction complète arrivera bientôt (<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> source?). Maintenant (<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> source?), le parcage est effectué à une fréquence normale, plus ou moins élevée selon que l&#039;ordinateur soit sur batterie ou sur secteur, selon l&#039;utilisation intensive ou non…
</p>

<p>
Par contre on peut remarquer que la température du disque monte de 10°C pour certains modèles de l&#039;ordinateur comme les Toshiba Satellites (<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> source?).
</div></p>
</p>

</div>
<!-- EDIT1 SECTION "Parcage des têtes de lecture et gestion d'énergie  : disques durs en danger ?" [72-787] -->
<h2 class="sectionedit2" id="description">Description</h2>
<div class="level2">

<p>
Il y a eu d&#039;importantes discussions (cf section &quot;Voir aussi&quot; en bas de page) concernant certaines distributions Linux, y compris Ubuntu, au sujet de la défaillance des disques durs des ordinateurs portables. Dans certaines conditions, le disque dur se place de manière très – trop… – régulière en mode « tête parquée » (plusieurs fois par minute), ce qui conduit à une usure prématurée de la mécanique du disque. La durée de vie s&#039;en trouve parfois réduite à moins d&#039;un an.
</p>
<ul>
<li class="level1"><div class="li"> ce problème ne concerne que les ordinateurs portables et <strong>ne dépend pas</strong>, malgré certaines croyances populaires, de l&#039;utilisation ou de la non-utilisation <strong>du mode laptop</strong> ; l&#039;utilisation et une bonne configuration de ce dernier est d&#039;ailleurs la solution privilégiée pour remédier au problème (voir <span class="curid"><a href="../../laptop_mode#correction_du_probleme" class="wikilink1" title="laptop_mode">ci-dessous</a></span>),</div>
</li>
<li class="level1"><div class="li"> si vous entendez un bruit de claquement généré par votre disque, vous êtes probablement concerné. Toutefois, <strong>l&#039;absence de cliquetis ne signifie pas l&#039;absence du problème</strong>,</div>
</li>
<li class="level1"><div class="li"> il semble que ce problème soit lié :</div>
<ul>
<li class="level2"><div class="li"> à une configuration trop performante (agressive) de la gestion de l&#039;énergie,</div>
</li>
<li class="level2"><div class="li"> au mode de fonctionnement interne de certains disque durs,</div>
</li>
<li class="level2"><div class="li"> au <abbr title="Basic Input-Output System">BIOS</abbr>,</div>
</li>
<li class="level2"><div class="li"> au système d&#039;exploitation (Linux, Windows).</div>
</li>
</ul>
</li>
</ul>

<p>
<strong>Ce sont certaines combinaisons de tous ces paramètres qui conduisent parfois à une mauvaise gestion du parcage de la tête du disque</strong>. 
Sont concernés :
</p>
<ul>
<li class="level1"><div class="li"> certains ordinateurs portables,</div>
</li>
<li class="level1"><div class="li"> l&#039;EeeBox, car elle possède un disque dur de portable</div>
</li>
<li class="level1"><div class="li"> les installations Ubuntu de base (sans modification par l&#039;administrateur des paramètres de gestion d&#039;énergie), mais aussi certaines configuration Windows et autres Linux (Debian, Mandrake). </div>
</li>
</ul>

<p>
Pour votre information, surtout les débutants :
</p>
<ul>
<li class="level1"><div class="li"> d&#039;une manière générale, il n&#039;y a <strong>pas d&#039;urgence</strong> à traiter ce problème ; vous pouvez programmer une intervention <strong>à tête reposée</strong> et la planifier sur une semaine, évitez de travailler dans la panique. Le disque dur dispose d&#039;une grande capacité de parcage de sa tête. Il n&#039;est pas à quelques dizaine de milliers près, surtout quand on voit la quantité de parcage de certains (au delà de 300.000). <strong>Votre disque dur ne va pas mourir dans les quelques minutes qui suivent !</strong></div>
</li>
<li class="level1"><div class="li"> a priori, il n&#039;y a pas de risque imminent pour vos données ni pour le disque dur à effectuer les manipulations décrites ci-dessus (attention, certaines peuvent être obsolètes); nous allons vous aider à régler les paramètres de gestion d&#039;énergie, c&#039;est une opération sans danger comparativement à une installation de Linux ou la manipulation de partitions.</div>
</li>
</ul>

<p>
Nous allons voir par la suite comment détecter ce problème et y remédier de différentes manières.
</p>

</div>
<!-- EDIT2 SECTION "Description" [788-3597] -->
<h2 class="sectionedit3" id="les_rumeurs_et_le_danger_reel">Les rumeurs et le danger réel</h2>
<div class="level2">

<p>
Certains sites font état de <a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=1321247#p1321247" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=1321247#p1321247"  rel="nofollow">rumeurs</a> concernant ce problème. Vu l&#039;activité engendrée par cette affaire sur de nombreux sites, dont le site <a href="https://bugs.launchpad.net/ubuntu/+bugs?field.searchtext=Load_Cycle_Count&amp;orderby=-importance&amp;search=Search&amp;field.status%3Alist=NEW&amp;field.status%3Alist=INCOMPLETE_WITH_RESPONSE&amp;field.status%3Alist=CONFIRMED&amp;field.status%3Alist=TRIAGED&amp;field.status%3Alist=INPROGRESS&amp;field.status%3Alist=FIXCOMMITTED&amp;field.assignee=&amp;field.bug_reporter=&amp;field.omit_dupes=on&amp;field.has_patch=&amp;field.has_no_package=" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+bugs?field.searchtext=Load_Cycle_Count&amp;orderby=-importance&amp;search=Search&amp;field.status%3Alist=NEW&amp;field.status%3Alist=INCOMPLETE_WITH_RESPONSE&amp;field.status%3Alist=CONFIRMED&amp;field.status%3Alist=TRIAGED&amp;field.status%3Alist=INPROGRESS&amp;field.status%3Alist=FIXCOMMITTED&amp;field.assignee=&amp;field.bug_reporter=&amp;field.omit_dupes=on&amp;field.has_patch=&amp;field.has_no_package="  rel="nofollow">launchpad</a> on peut être sûr que ce n&#039;est pas seulement une rumeur, mais un risque matériel et aussi un risque fort de perdre vos données personnelles si vous ne vous occupez pas de ce problème dans les semaines qui suivent.
</p>

<p>
Ce n&#039;est pas parce que vous n&#039;êtes pas concernés par votre configuration matérielle que ce problème n&#039;existe pas. Les circonstances exactes de ce défaut de fonctionnement ne sont pour l&#039;instant pas précisément connues. Afin de cerner le problème, il serait intéressant d&#039;écrire des scripts de supervision des valeurs considérées et de les insérer sur un site communautaire en base de données avec la configuration matérielle et logicielle. Il est fort probable qu&#039;on voit apparaitre des petits logiciels de supervision sous forme d&#039;applet gnome directement accessibles sur le bureau gnome ; cela vous donnera la possibilité de voir l&#039;évolution graphiquement et de configurer simplement le fonctionnement de l&#039;<a href="../../tutoriel/comment_afficher_statut_batterie_acpi" class="wikilink1" title="tutoriel:comment_afficher_statut_batterie_acpi">ACPI</a> de votre ordinateur.
</p>

</div>
<!-- EDIT3 SECTION "Les rumeurs et le danger réel" [3598-5283] -->
<h2 class="sectionedit4" id="detection_du_probleme">Détection du problème</h2>
<div class="level2">

<p>
La détection du problème repose sur la lecture d&#039;informations inscrites dans une zone mémoire non volatile embarquée sur le disque dur. Ces informations sont gérées de manière autonome par le disque qui répond aux spécifications du standard <a href="../../smart" class="wikilink2" title="smart" rel="nofollow">SMART</a>. C&#039;est la commande <strong>smartctl</strong> du paquet <strong>smartmontools</strong> qui permet d&#039;extraire ces informations.
</p>

</div>
<!-- EDIT4 SECTION "Détection du problème" [5284-5686] -->
<h3 class="sectionedit5" id="preparation">Préparation</h3>
<div class="level3">

<p>
Afin de lire ces informations, commencez par <a href="../../tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://smartmontools" class="urlextern" title="apt://smartmontools"  rel="nofollow">smartmontools</a></strong>.
</p>

</div>
<!-- EDIT5 SECTION "Préparation" [5687-5862] -->
<h3 class="sectionedit6" id="verification">Vérification</h3>
<div class="level3">

<p>
Ensuite, vérifiez si vous pouvez accéder aux informations <a href="../../smart" class="wikilink2" title="smart" rel="nofollow">SMART</a> sur notre disque dur :
</p>
<pre class="code">sudo smartctl -a /dev/sda  # ou sdb, si vous avez un disque dur de type SATA (récent)
sudo smartctl -a /dev/hda  # ou hdb, si vous avez un disque dur de type PATA (plus ancien)</pre>

<p>
Il est possible de trouver de manière automatique l&#039;emplacement du périphérique contenant la partition racine de la manière suivante :
</p>
<pre class="code">device=$(mount | sed -n &#039;/\/ /s/[0-9].*//p&#039;)
sudo smartctl -a $device</pre>

<p>
Si ces dernières commandes semblent ne pas fonctionner, sachez que les principales sources d&#039;erreur lors d&#039;une telle manipulation sont :
</p>
<ul>
<li class="level1"><div class="li"> que vous n&#039;accédez pas au bon périphérique (device) pour votre disque,</div>
</li>
<li class="level1"><div class="li"> que votre disque dur n&#039;est pas du bon type et n&#039;est pas géré correctement par les librairies SMART.</div>
</li>
</ul>

<p>
Il est donc possible de simplement copier coller la ligne suivante dans un <a href="../../terminal" class="wikilink1" title="terminal">terminal</a> pour obtenir le résultat :
</p>
<pre class="code">sudo smartctl -a $(mount | sed -n &#039;/\/ /s/[0-9].*//p&#039;) | grep &#039;Cycle\|Power&#039;</pre>

<p>
voici un exemple de ce qu&#039;on peut apercevoir quand on lance cette commande :
</p>
<pre class="code">sudo smartctl -a $(mount | sed -n &#039;/\/ /s/[0-9].*//p&#039;) | grep &#039;Cycle\|Power&#039;
  9 Power_On_Hours          0x0012   100   100   000    Old_age   Always       -       345
 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       249
193 Load_Cycle_Count        0x0012   094   094   000    Old_age   Always       -       62251</pre>

<p>
dans ce cas :
</p>
<ul>
<li class="level1"><div class="li"> le disque a été arrêté et redémarré électriquement (Power_Cycle_Count) 249 fois,</div>
</li>
<li class="level1"><div class="li"> la tête a été parquée (Load_Cycle_Count) 62251 fois,</div>
</li>
<li class="level1"><div class="li"> le disque dur a fonctionné pendant 345 heures (Power_On_Hours)</div>
</li>
<li class="level1"><div class="li"> le rapport Load_Cycle_Count / Power_Cycle_Count est de 250. S&#039;il est souvent de 1 sur un PC fixe ou la tête du disque dur n&#039;est jamais parquée, il est normal qu&#039;il soit de plus de 10 sur un portable; mais dans notre exemple, ce rapport semble particulièrement élevé.</div>
</li>
<li class="level1"><div class="li"> le nombre de parcages à l&#039;heure est de 180 (62251/345). C&#039;est trop.</div>
</li>
<li class="level1"><div class="li"> lorsque Load_Cycle_Count est supérieur à 10 millions, c&#039;est probablement que l&#039;information extraite par <strong>smartctl</strong> depuis le disque dur est inexacte.</div>
</li>
<li class="level1"><div class="li"> dans ce cas, on peut se référer aux 3 colonnes (094, 094, 000) pour essayer de déterminer l&#039;espérance de vie du disque. Les deux premières colonnes ont des valeurs commençant à 100 pour un disque neuf (parfois à 200), et qui descendent vers 0 en fonction de l&#039;augmentation du nombre de parcages. C&#039;est le <abbr title="Basic Input-Output System">BIOS</abbr> du disque dur qui fait une estimation en pourcentage du temps restant d&#039;utilisation. Dans notre exemple, les données &quot;(094, 094)&quot; signifient qu&#039;il reste au disque dur 94% de sa durée de vie. On peut en déduire par le calcul suivant la durée de vie potentielle du disque dur si la fréquence des parcages reste constante : ici ce serait 345 heures * 100 / (100-94) soit 5750 heures. On peut estimer qu&#039;un Load_Cycle_Count supérieur à 1 million ne correspond à une donnée exacte que si les résultats indiqués dans les deux premières colonnes sont proches de zéro (par exemple (001, 001). Dans ce cas, le disque dur est très proche de sa fin de vie…</div>
</li>
</ul>

<p>
Cause des erreurs de lecture :
</p>
<ul>
<li class="level1"><div class="li"> il est possible que l&#039;adresse lue sur le disque ne soit pas la bonne ,</div>
</li>
<li class="level2"><div class="li"> ou alors le format de représentation des données n&#039;est pas le bon (nombre en little ou big <a href="http://fr.wikipedia.org/wiki/Endianness" class="urlextern" title="http://fr.wikipedia.org/wiki/Endianness"  rel="nofollow">endian</a>). Sur certains disques, on récupère la juxtaposition de 2 entiers 32 bits, La conversion est donc assez simple.</div>
</li>
</ul>

</div>

<h5 id="si_vous_n_avez_acces_a_aucune_de_ces_informations">Si vous n&#039;avez accès à aucune de ces informations:</h5>
<div class="level5">

<p>
Dans certains cas, il se peut que la commande précédente vous retourne quelques informations sans qu&#039;il y ait trace des variables &quot;techniques&quot; de votre disque.
Si vous apercevez ceci (et uniquement dans ce cas)
</p>
<pre class="code">SMART support is: Available - device has SMART capability.
SMART support is: Disabled</pre>

<p>
Vous pouvez lancer la commande suivante pour activer l&#039;enregistrement des paramètres (non persistant en cas de redémarrage):
</p>
<pre class="code">sudo smartctl -a $(mount | sed -n &#039;/\/ /s/[0-9].*//p&#039;) -s on</pre>

<p>
Vous pouvez maintenant reprendre ce tutoriel en tapant
</p>
<pre class="code">sudo smartctl -a $(mount | sed -n &#039;/\/ /s/[0-9].*//p&#039;) | grep &#039;Cycle\|Power&#039;</pre>

</div>
<!-- EDIT6 SECTION "Vérification" [5863-10177] -->
<h3 class="sectionedit7" id="diagnostic">Diagnostic</h3>
<div class="level3">

<p>
Si les commandes précédentes ont bien fonctionné, vous devriez obtenir, dans votre terminal, toute une série d&#039;informations. La valeur qui nous intéresse en particulier est intitulée <strong>Load_Cycle_Count</strong> (LCC = nombre de parcages). Si pour un ordinateur fixe, cette valeur devrait être en théorie assez proche du nombre d&#039;extinctions, donnée par le <strong>Power_Cycle_Count</strong>, il n&#039;en va pas de même pour un portable. Le rapport entre ces deux valeurs pour le disque dur d&#039;un portable dépend de la fréquence des arrêts et des redémarrages de l&#039;ordinateur (c&#039;est à dire de la durée des sessions). Il est bien sûr plus important pour un ordinateur fonctionnant 24h/24 ou presque… et ce n&#039;est pas un problème en soi.
</p>

<p>
<p><div class="noteclassic">Il arrive que les données smart ne comportent aucune ligne &quot;Load_Cycle_Count&quot; : le fabriquant du disque dur n&#039;a pas prévu l&#039;enregistrement de cette valeur. S&#039;il s&#039;agit du disque dur d&#039;un portable, c&#039;est dommage : dans ce cas, vous ne pouvez établir de diagnostic.
</div></p>
</p>
<ul>
<li class="level1"><div class="li"> pour établir le diagnostic, il est préférable de calculer le rapport entre le nombre de <strong>Load_Cycle_Count</strong> et la durée de fonctionnement du disque dur :  <strong>Power_On_Hours</strong> (ou <strong>Power_On_Minutes</strong> ou  <strong>Power_On_Seconds</strong> selon les disques durs). Un rapport LCC/heure inférieur à 30 indique un fonctionnement assez correct de la fonction de parcage. S&#039;il est supérieur, voire très supérieur, il y a une anomalie à corriger. On a cité des cas avec une moyenne de plus de 400 LCC/heure.</div>
</li>
</ul>

<p>
<p><div class="noteclassic">Dans quelques rares cas, les données Smart de durée de fonctionnement (Power_On_Hours - Minutes ou Seconds) sont aberrantes… Dans ces cas, une autre méthode de diagnostic est disponible… (voir plus bas).
</div></p>
</p>
<ul>
<li class="level1"><div class="li"> si la valeur Load_Cycle_Count est supérieure a 100.000, la durée de vie du disque est déjà quelque peu entamée… Mais si le disque dur a déjà fonctionné plusieurs milliers d&#039;heures, c&#039;est assez normal. Pour les ordinateurs portables, les disques durs ont une capacité évaluée de 300.000 à 600.000 parcages (certains disques durs Seagate pour portables sont &quot;tarés&quot; pour 200.000 parcages). Ceci dit, ces valeurs sont indicatives.</div>
</li>
</ul>

<p>
<p><div class="noteimportant"><strong>Les données smart :</strong>
Dans <strong>la colonne &quot;type&quot;</strong>, les indications &quot;Old_age&quot; et &quot;Pre_fail&quot; inquiètent beaucoup de monde. Mais ces mentions indiquent seulement le type de données fournies, et ne sont pas des alertes.
</p>

<p>
<strong>Les données de type &quot;Old_age&quot;</strong> indiquent l&#039;usure normale liée au vieillissement du disque dur… c&#039;est le cas par exemple du nombre de démarrages/arrêts du pc (Start_Stop_Count). Ce sont des indications de durée de vie validées par le contructeur. Elles ne signifient pas toujours grand chose : un disque peut lacher avant d&#039;être &quot;vieux&quot; ou tenir encore pas mal de temps en étant &quot;agé&quot;. Ce ne sont que des données indicatives qui permettent d&#039;évaluer s&#039;il faut prévoir de remplacer le disque.
</p>

<p>
<strong>Les données de type &quot;Pre_fail&quot;</strong> sont des indications pouvant laisser suspecter une usure anormale ou une panne… au-delà de certaines valeurs. Elles indiquent des problèmes sur le fonctionnement normal du disque. C&#039;est le cas par exemple du nombre de secteurs réalloués (Reallocated_Sector_Ct). Ce sont les valeurs &quot;Pre_fail&quot; qui déclenchent des alertes smart.
</p>

<p>
Ceci étant dit, la colonne &quot;type&quot; indiquant seulement le type de données, les mentions &quot;Pre_fail&quot; et &quot;Old_age&quot; apparaissent dans cette colonne même sur un disque dur neuf. <strong>Une alerte est signifiée par la mention &quot;FAILING_NOW&quot;
</strong>.
Enfin, beaucoup de disques lâchent sans que smart ne relève quoi que ce soit, par contre un disque où smart détecte des problèmes ne dure en général pas longtemps.
</div></p>
</p>
<ul>
<li class="level1"><div class="li"> Une autre indication est très utile pour aider au dignostic. Sur la ligne Load_Cycle_Count, il y a non seulement la donnée brute du nombre de parcages (en fin de ligne), mais des nombres dans les colonnes &quot;THRESH&quot; (seuil), &quot;VALUE&quot; (valeur) et &quot;WORST&quot; (pire valeur). Les valeurs &quot;WORST&quot; et &quot;VALUE&quot; partent de 100 pour un disque neuf (de 200 dans quelques rares cas) et diminuent. Quand VALUE=THRESH le disque est considéré comme en fin de vie selon le constructeur. Pour le nombre de parcages des têtes (LCC), l&#039;indication de la colonne &quot;VALUE&quot; est précieuse, surtout si la valeur brute numérique de Load_Cycle_Count est aberrante ou si vous ne disposez pas d&#039;indication de &quot;Power_On_Hours&quot; pour établir le rapport entre nombre de parcages et durée de fonctionnement du disque. Une valeur de 094 par exemple indique que la durée de vie du disque dur n&#039;est entamée que de 6% (pour ce critère &quot;parcage des têtes&quot;). Alors qu&#039;une valeur de 001 indique que la durée de vie du disque dur est entamée de 99%… et qu&#039;il ne lui reste plus que 1%.</div>
</li>
</ul>

<p>
<p><div class="notetip">Pour ceux qui disposent d&#039;une donnée &quot;Power_On_Hours&quot; (Minutes ou Seconds), une autre comparaison est instructive : tant que les valeurs &quot;VALUE&quot; de &quot;Power On Hours&quot; et &quot;Load Cycle Count&quot; restent proches, a priori c&#039;est que tout est en règle.
Dans les cas à problèmes, le &quot;VALUE&quot; de Load_cycle_Count est très supérieur à celui de &quot;Power_On_Hours&quot;. Ceci est logique : si le disque parque trop les têtes par rapport à sa durée de fonctionnement, il y a une usure prématurée donc des valeurs avec un écart important. Quand tout va bien, les valeurs d&#039;usures (colonne &quot;VALUE&quot;) doivent rester proches.

</div></p>
</p>

<p>
<strong>Si le diagnostic de votre disque dur montre que vous êtes touché par le problème, PAS DE PANIQUE, nous allons maintenant régler le problème pour ralentir la fréquence du parcage des têtes (et donc la réduction des LCC).</strong>
</p>

</div>
<!-- EDIT7 SECTION "Diagnostic" [10178-15839] -->
<h2 class="sectionedit8" id="correction_du_probleme">Correction du problème</h2>
<div class="level2">

<p>
La manière la plus simple de régler le problème est de changer la valeur d&#039;un paramètre.
</p>

<p>
<p><div class="notewarning"><img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> Ces paragraphes sont anciens, vérifier qu&#039;ils ne sont pas obsolètes, et indiquez sur quelle version d&#039;Ubuntu et quel matériel ils ont fonctionné.
</div></p>
</p>

</div>
<!-- EDIT8 SECTION "Correction du problème" [15840-16154] -->
<h3 class="sectionedit9" id="hdparm">Hdparm</h3>
<div class="level3">

<p>
Cette solution a été proposée sur <a href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=448673" class="urlextern" title="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=448673"  rel="nofollow">http://bugs.debian.org/</a>.
Elle permet de changer les paramètres de gestion de l&#039;alimentation du disque dur, ce qui évite le parcage intempestif de la tête de lecture. 
</p>

<p>
Nous allons donc modifier un paramètre du module hdparm grâce à cette ligne de commande.
</p>
<pre class="code">sudo hdparm -B 254 /dev/hda</pre>

<p>
ou
</p>
<pre class="code">sudo hdparm -B 254 /dev/sda</pre>

<p>
faites attention à cette différence.
<p><div class="noteimportant">Si vous trouvez que la température de votre disque dur est trop élevée, baissez la valeur du paramètre à une valeur permettant à votre disque dur de ne pas trop chauffer, mais pas trop pour éviter le parcage intempestif de votre tête de lecture.(<em class="u">note:</em> pour mon disque dur j&#039;ai mis une valeur de <strong>200</strong>)
</div></p>
<p><div class="noteclassic">
extrait manpages hdparm : -B modifie les paramètres de gestion d&#039;énergie APM (Advanced Power Management), si le disque le supporte. Une petite valeur spécifie une gestion d&#039;énergie agressive, tandis qu&#039;une valeur élevée configure le disque pour de meilleures performances. La valeur 255 (maximale) désactive la gestion APM du disque.)
</div></p>
<p><div class="notetip">Il est possible de consulter la valeur utilisé par votre système en utilisant :
</p>
<pre class="code">sudo hdparm -B /dev/sda</pre>

<p>
Pour en vérifier le bon fonctionnement, tapez à différents intervalles de temps, cette ligne de commande.
</p>
<pre class="code">sudo smartctl -a $(mount | sed -n &#039;/\/ /s/[0-9].*//p&#039;) | grep &#039;Cycle\|Power&#039;</pre>

<p>
Le nombre au bout de la ligne Load_Cycle_Count ne devrait plus bouger. (Ce nombre est fixe lorsque j&#039;utilise mon ordinateur)
</p>

<p>
<p><div class="notetip">Si après un redémarrage, le problème réapparait, il existe une petite solution.
</p>

<p>
Source : <a href="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695"  rel="nofollow">launchpad</a>
</div></p>
</p>

<p>
<a href="../../tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">Créez le fichier</a> <strong>99-hdd-spin-fix.sh</strong> ( ne pas modifier le nom de fichier ) et mettez-y :
<p><div class="noteimportant">Pensez à modifier le chiffre en fonction de la chaleur que pourrait dégager votre disque dur. 
Le chemin du disque dur peut-être soit, <strong>/dev/hda</strong> soit, <strong>/dev/sda</strong>. Si l&#039;un des deux ne fonctionne pas, essayez l&#039;autre.

</div></p>
</p>
<pre class="code bash"><span class="co0">#!/bin/sh</span>
hdparm <span class="re5">-B</span> <span class="nu0">254</span> <span class="sy0">/</span>dev<span class="sy0">/</span>hda</pre>

<p>
Enfin, copiez le fichier créé dans les 3 emplacements suivants:
</p>
<pre class="code">sudo install 99-hdd-spin-fix.sh /etc/acpi/start.d/
sudo install 99-hdd-spin-fix.sh /etc/acpi/suspend.d/
sudo install 99-hdd-spin-fix.sh /etc/acpi/resume.d/</pre>

<p>
====Le fix en 10 secondes ====
</p>

<p>
=== Nouvelle méthode ===
<p><div class="notewarning">Ne fonctionne pas sous Ubuntu 14.04.
</div></p>
Pour que le fix fonctionne dans tous les cas (également lors d&#039;une mise en veille), il est préférable d&#039;utiliser cette commande :
</p>
<pre class="code">cmd=&#039;hdparm -B 254 /dev/sda&#039;;sudo $cmd &amp;&amp; echo -e &#039;#!/bin/sh\n&#039;&quot;$cmd&quot; &gt; /tmp/hdfix &amp;&amp; sudo install /tmp/hdfix /etc/pm/power.d/99-hdparm.sh &amp;&amp; sudo install /tmp/hdfix /etc/pm/sleep.d/99-hdparm.sh</pre>

<p>
Pour supprimer les effets de cette méthode :
</p>
<pre class="code">sudo rm /etc/pm/power.d/99-hdparm.sh /etc/pm/sleep.d/99-hdparm.sh</pre>

<p>
=== Ancienne méthode ===
Cette méthode fonctionne, sauf lors d&#039;une mise en veille. Préférez la nouvelle méthode qui prend en compte ce cas également.
</p>
<pre class="code">sudo hdparm -B 254 /dev/sda &amp;&amp; echo -e &#039;#!/bin/sh\nhdparm -B 254 /dev/sda&#039; &gt; /tmp/99-hdd-spin-fix.sh &amp;&amp; for i in start suspend resume; do sudo install /tmp/99-hdd-spin-fix.sh /etc/acpi/$i.d; done</pre>

<p>
Pour supprimer les effets de cette ancienne méthode :
</p>
<pre class="code">sudo rm /etc/acpi/*.d/99-hdd-spin-fix.sh</pre>

<p>
==== Autres solutions ====
</p>

<p>
Une autre manière pour résoudre ce problème est d&#039;utiliser les outils que nous avons à disposition pour régler les fonctions de gestion d&#039;énergie des disques dur. Un paquet est spécialement conçu dans ce but, il s&#039;agit du <strong>laptop-mode-tools</strong>.
Par défaut, le laptop-mode est relativement agressif, mais les réglages sont entièrement paramétrables pour obtenir le résultat que vous souhaitez.
</p>

<p>
Dans ce fichier vous pourrez gérer le délais d&#039;inactivité avant le parcage des têtes du dique dur, mais également beaucoup d&#039;autres paramètres.
</p>

<p>
Pour améliorer encore la durée de vie du disque, il est aussi possible d&#039;aller plus loin. En effet, par défaut, un système linux accède très fréquemment au HDD (les systèmes de fichiers journalisés, les logs des différents process et du système, etc.). Il convient donc de s&#039;assurer que le système limitera le nombre d&#039;accès au disque pour ne pas le réveiller inutilement.
</p>

<p>
=== Installer le laptop-mode ===
</p>

<p>
Tout d&#039;abord, <a href="../../tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installons le paquet</a> <strong>laptop-mode-tools</strong>.
</p>

<p>
Pour qu&#039;il soit activé, <a href="../../tutoriel/comment_editer_un_fichier" class="wikilink1" title="tutoriel:comment_editer_un_fichier">modifions le fichier</a> <strong>/etc/default/acpi-support</strong>. La ligne 
</p>
<pre class="code">ENABLE_LAPTOP_MODE=false</pre>

<p>
doit être changée en 
</p>
<pre class="code">ENABLE_LAPTOP_MODE=true</pre>

<p>
<strong>Pour vérifier</strong> (au prochain redémarrage) <strong>que le laptop-mode est actif, exécutons</strong>
</p>
<pre class="code">cat /proc/sys/vm/laptop_mode</pre>

<p>
Si la valeur retournée est 0, laptop-mode ne fonctionne pas. Si la valeur est différente de 0, alors laptop-mode est en fonction. (faire le test avec le pc sur batterie!)
</p>

<p>
Pour démarrer le laptop-mode sans redémarrer le PC :
</p>
<pre class="code">sudo /etc/init.d/laptop-mode start</pre>

<p>
=== Configurer le laptop-mode ===
</p>

<p>
Avant de commencer à modifier le fichier, il est bon d&#039;en faire une sauvegarde :
</p>
<pre class="code">cd /etc/laptop-mode/
sudo cp laptop-mode.conf laptop-mode.conf.`date +%Y%m%d-%H%M%S`</pre>

<p>
Le fichier <strong>/etc/laptop-mode/laptop-mode.conf</strong> contient toute la configuration de laptop-mode. Il est relativement clair et est séparé en différentes sections distinctes. Pour l&#039;éditer :
</p>
<pre class="code">gksudo gedit /etc/laptop-mode/laptop-mode.conf</pre>

<p>
Jetons d&#039;abord un coup d&#039;oeil aux valeurs suivantes:
</p>
<pre class="code">ENABLE_LAPTOP_MODE_ON_BATTERY=1
ENABLE_LAPTOP_MODE_ON_AC=0 #ou 1 (lire ci-dessous)
ENABLE_LAPTOP_MODE_WHEN_LID_CLOSED=0 #ou 1 (lire ci-dessous)</pre>

<p>
Comme leurs noms l&#039;indique, ces variables permettent d&#039;activer (ou non) le laptop-mode quand l&#039;ordinateur fonctionne respectivement sur <strong>batterie</strong>, sur <strong>secteur</strong> ou quand le <strong>couvercle est fermé</strong>. Un <strong>1</strong> signifie l&#039;activation de cette option, un <strong>0</strong> signifie sa désactivation.
</p>

<p>
<p><div class="noteimportant">
Il faut que vous testiez votre disque pour vérifier si le <strong>Load_Cycle_count</strong> varie fortement (plus de 5 par quart d&#039;heure) seulement sur batterie, auquel cas il suffit d&#039;activer le laptop-mode sur batterie. Dans le cas contraire, activer le laptop-mode sur secteur et avec le couvercle fermé, selon les cas, peut s&#039;avérer nécessaire.

</div></p>
</p>
<pre class="code">LM_BATT_MAX_LOST_WORK_SECONDS=1200
LM_AC_MAX_LOST_WORK_SECONDS=360</pre>

<p>
Ces deux dernières valeurs permettent de déterminer à quel moment au minimum un redémarrage du disque doit avoir lieu, sur batterie et sur secteur respectivement. La valeur est à indiquer en secondes. Avec une valeur à 1200 en mode batterie (comme indiqué au dessus) le disque redémarrera au bout de 20 minutes d&#039;inactivité (même si rien ne l&#039;y oblige) de manière à écrire les petites modifications qui ont été mémorisées mais pas encore appliquées.
</p>
<pre class="code">CONTROL_HD_IDLE_TIMEOUT=1  </pre>

<p>
Il est <strong>très important</strong> que cette valeur soit activée (égale à 1). Ce paramètre autorise le laptop-mode à gérer la fréquence de parcage des têtes.
</p>
<pre class="code">LM_AC_HD_IDLE_TIMEOUT_SECONDS=20 #durée d&#039;inactivité (en secondes) avant parcage des têtes sur secteur avec le laptop-mode actif
LM_BATT_HD_IDLE_TIMEOUT_SECONDS=60 #durée d&#039;inactivité (en secondes) avant parcage des têtes sur batterie avec le laptop-mode actif
NOLM_HD_IDLE_TIMEOUT_SECONDS=1200 #durée d&#039;inactivité (en secondes) avant parcage des têtes lorsque laptop-mode se désactive</pre>

<p>
C&#039;est avec ces valeurs qu&#039;il faut jouer si vous voulez simplement désactiver le parcage des têtes. Mettez tout à 1200 (soit 20 minutes d&#039;inactivité avant l&#039;arrêt du HDD) si vous voulez vous assurer que le disque ne s&#039;arrêtera quasiment jamais ; ça n&#039;est évidemment pas bon pour la gestion d&#039;énergie, mais il s&#039;agit parfois de la seule solution efficace. Testez différentes valeurs et choisissez-en une qui convient à votre machine!
</p>
<pre class="code">CONTROL_HD_WRITECACHE=1 #permet d&#039;autoriser la gestion du cache du HDD par LM
NOLM_AC_HD_WRITECACHE=1 #force l&#039;utilisation du cache du HDD lorsque LM se désactive et que le pc est sur secteur
NOLM_BATT_HD_WRITECACHE=0 #stoppe l&#039;utilisation du cache du HDD lorsque LM se désactive et que le pc est sur batterie
LM_HD_WRITECACHE=1 #force l&#039;utilisation du cache du HDD lorsque LM est actif, cela limite le réveil du hdd en travaillant dans son cache plutôt que directement en dur</pre>

<p>
Pour <strong>limiter les accès au HDD du système de fichier (pour un système de fichier ext3)</strong> :
</p>

<p>
Le système ext3 accède, par défaut, au disque dur toutes les 5 secondes pour mettre à jour certaines données de journalisation dont on peut, la plupart du temps, se passer (certains rares logiciels comme MUTT par exemple ont toutefois besoin de cette journalisation pour fonctionner). Pour désactiver cette journalisation trop régulière qui réveillera votre disque à longueur de temps, il faut monter les partitions ext3 avec l&#039;option noatime. Ceci peut être fait en activant l&#039;option :
</p>
<pre class="code">CONTROL_NOATIME=1</pre>

<p>
<em class="u"><strong>Si tout cela ne change rien</strong></em> (ou pas assez), vous pouvez aussi modifier les options du power-management, dont la fameuse option hdparm :
</p>
<pre class="code">#
# Should laptop mode tools control the hard drive power management settings?
#
CONTROL_HD_POWERMGMT=1

#
# Power management for HD (hdparm -B values)
#
BATT_HD_POWERMGMT=0 # testez des valeur entre 120 et 190 ici
LM_AC_HD_POWERMGMT=255 # mettez 254 ici pour avoir un nombre de parquage minimal tout en laissant la gestion d&#039;énergie activée
NOLM_AC_HD_POWERMGMT=255 # vous pouvez mettre 254 ici aussi</pre>

<p>
=== Limiter les accès au HDD du système de log ===
</p>

<p>
<em>Syslog</em> gère la création et le remplissage des fichiers /var/log. Par défaut, linux logge énormément de choses, ce qui provoque aussi des accès disque permanents, qui empêchent votre HDD de rester arrêté longtemps. Pour régler le problème, laptop-mode propose un outil qui va reconfigurer syslog.
</p>

<p>
Utilisez le script
</p>
<pre class="code">sudo lm-syslog-setup</pre>

<p>
Cela va créer 3 nouveau fichiers de configuration de syslog placés dans /etc:   
</p>
<pre class="code">syslog-on-battery.conf , syslog-on-ac-with-lm.conf, et syslog-on-ac-without-lm.conf</pre>

<p>
qui sont normalement automatiquement configurés correctement. 
</p>

<p>
Il faut ensuite paramétrer laptop-mode pour utiliser et activer ces 3 fichiers selon que l&#039;on soit sur batterie ou sur secteur. pour cela, retour dans <strong>/etc/laptop-mode/laptop-mode.conf</strong>.
</p>

<p>
On vérifie que <code>CONTROL_SYSLOG_CONF=1</code>.
</p>

<p>
=== Dernière optimisation ===
</p>

<p>
Certains démons peuvent également acceder au HDD de manière régulière. Laptop-mode-tools contient un script capable de détecter ces processus, de les lister et de créer une configuration qui les coupe et les redémarre automatiquement selon que l&#039;on soit sur batterie ou sur secteur. Pour le lancer :
</p>
<pre class="code">sudo lm-profiler</pre>

<p>
Le script va lire l&#039;activité de votre pc pendant 10 minutes et vous proposera ensuite tout une liste de modifications qu&#039;il préconise. Certaine modifications seront de forte recommandations (qu&#039;il vaut mieux accepter) d&#039;autre ne seront que de simple possibilités (à vous de choisir).
Une fois les choix validés, ce script rajoutera des scripts supplémentaires dans /etc/laptop-mode/start ou stop qui arrêteront et démarreront ces daemons automatiquement.
</p>

<p>
La création de certains de ces script est assez longue (plus de 3 ou 4 minutes pour certains), donc assurez vous de ne pas arrêter <strong>lm-profiler</strong> avant qu&#039;il ait réellement fini tout son travail de configuration.
</p>

<p>
===== Liens =====
</p>

<p>
==== Sur le forum ====
</p>
<ul>
<li class="level1"><div class="li"> Discussion d&#039;où proviennent beaucoup de solutions décrites ici : <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=158753" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=158753"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=158753</a></div>
</li>
<li class="level1"><div class="li"> Une rumeur ? <a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=1321247#p1321247" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=1321247#p1321247"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?pid=1321247#p1321247</a></div>
</li>
<li class="level1"><div class="li"> Rechercher « Load_Cycle_Count » sur le forum pour visualiser tous les messages à ce sujet.</div>
</li>
<li class="level1"><div class="li"> Un script a été proposé pour suivre l&#039;évolution de Load_Cycle_Count: <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=191813" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=191813"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=191813</a></div>
</li>
</ul>

<p>
==== Sur Launchpad ====
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://bugs.launchpad.net/ubuntu/+bugs?field.searchtext=Load_Cycle_Count&amp;orderby=-importance&amp;search=Search&amp;field.status%3Alist=NEW&amp;field.status%3Alist=INCOMPLETE_WITH_RESPONSE&amp;field.status%3Alist=CONFIRMED&amp;field.status%3Alist=TRIAGED&amp;field.status%3Alist=INPROGRESS&amp;field.status%3Alist=FIXCOMMITTED&amp;field.assignee=&amp;field.bug_reporter=&amp;field.omit_dupes=on&amp;field.has_patch=&amp;field.has_no_package=" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+bugs?field.searchtext=Load_Cycle_Count&amp;orderby=-importance&amp;search=Search&amp;field.status%3Alist=NEW&amp;field.status%3Alist=INCOMPLETE_WITH_RESPONSE&amp;field.status%3Alist=CONFIRMED&amp;field.status%3Alist=TRIAGED&amp;field.status%3Alist=INPROGRESS&amp;field.status%3Alist=FIXCOMMITTED&amp;field.assignee=&amp;field.bug_reporter=&amp;field.omit_dupes=on&amp;field.has_patch=&amp;field.has_no_package="  rel="nofollow">En recherchant</a>, on voit un lien sur Mandriva qui serait aussi concerné.</div>
</li>
<li class="level1"><div class="li"> <a href="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695"  rel="nofollow">Le bogue est confirmé</a> ; de nombreux bogues sont liés ; voir le commentaire <a href="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695/comments/185" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695/comments/185"  rel="nofollow">185</a>.</div>
</li>
<li class="level1"><div class="li"> <a href="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/74394" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/74394"  rel="nofollow">https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/74394</a>, attention, le script &quot;power.sh&quot; peut modifier les réglages hdparm qui sont fixés dans laptop-mode.conf. Soit lorsqu&#039;on passe de AC/batterie, soit lorsqu&#039;on sort de veille…</div>
</li>
</ul>

<p>
==== Divers ====
</p>
<ul>
<li class="level1"><div class="li"> Sur LinuxFr : <a href="http://linuxfr.org/~Lorifix/25545.html" class="urlextern" title="http://linuxfr.org/~Lorifix/25545.html"  rel="nofollow">http://linuxfr.org/~Lorifix/25545.html</a> ; article mettant en cause Canonical et donc Ubuntu par rapport à ce problème. Est-ce justifié ? voir en particulier l&#039;article de gronk34t qui donne des informations particulièrement circonstanciées.</div>
</li>
<li class="level1"><div class="li"> Sur <a href="http://ubuntudemon.wordpress.com/2007/10/30/ubuntu-is-not-causing-aggressive-power-management/" class="urlextern" title="http://ubuntudemon.wordpress.com/2007/10/30/ubuntu-is-not-causing-aggressive-power-management/"  rel="nofollow">ce blog</a>, ça cogite pas mal on dirait.</div>
</li>
<li class="level1"><div class="li"> <a href="https://eshu.ubuntu-eu.org/pipermail/ubuntu_wiki-fr/2007-November/thread.html#3960" class="urlextern" title="https://eshu.ubuntu-eu.org/pipermail/ubuntu_wiki-fr/2007-November/thread.html#3960"  rel="nofollow">Ce sujet</a> sur la liste de diffusion du wiki.</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.presence-pc.com/actualite/ubuntu-26346/" class="urlextern" title="http://www.presence-pc.com/actualite/ubuntu-26346/"  rel="nofollow">Article sur « Présence PC »</a>.</div>
</li>
</ul>

<p>
===== Discussions =====
</p>
<blockquote><div class="no">
 Houch, mon disque dur est monté a 65°C au repos alors qu&#039;il ne doit pas depasser les 55° d&#039;apres les constructeurs. comment se fait-i-il qêue pour le meme nombre de parcage, ça ne depasse pas les 50 sous windows? On ne peux pas faire en sorte que sous linux, des que le disque n&#039;est plus solicité, il met sa tete pres de la piste de parquage (alimentation de la bobine minimal) au lieu de le laisser sur en position la plis eloignée que la position parquée (conso maxi, perte effet joule maxi). avant de le parquer?</div></blockquote>
<blockquote><div class="no">
 maintenant il existe des clés usb dont la capacitée va jusqu&#039;a 64Gio, donc on peut installer ubuntu sur ces medias, et avec les peripheries flash, on n&#039;a plus de problemes mecaniques que sont les parcages.</div></blockquote>
<blockquote><div class="no">
 À la lecture de ce qui a été récemment posté sur <a href="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695/comments/211" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695/comments/211"  rel="nofollow">launchpad par Canonical</a>, peut-être devrions-nous changer entièrement cette doc?<blockquote><div class="no">
 non, il y a des cas ou les valeurs remontées par SMART sont fausses, dans ce cas, il faut les ignorer ou changer le pilote SMART ; dans le cas général, il semble que ce que nous avons indiqué ici est plutôt une bonne synthèse / <a href="../../utilisateurs/marc31" class="wikilink1" title="utilisateurs:marc31">marc31</a><blockquote><div class="no">
 Pour info, mon smartctl indique &quot;751 234&quot; parcages de tête pour 9300 heures de fonctionnement, avec laptop-mode désactivé. Le chiffre augmente régulièrement quelle que soit la config. Le disque a 1 an et demi et il ne présente aucun signe de faiblesse jusque là. Donc ces chiffres ne veulent souvent pas dire grand chose. (BohwaZ)</div></blockquote>
</div></blockquote>
</div></blockquote>
<blockquote><div class="no">
 que veut dire &quot;(voir infra)&quot; tout en haut de page ? <a href="../../utilisateurs/marc31" class="wikilink1" title="utilisateurs:marc31">marc31</a><blockquote><div class="no">
 &quot;voir infra&quot;, ça signifie &quot;voir plus bas dans le texte&quot;. &quot;Voir supra&quot;, c&#039;est le contraire! /<a href="../../utilisateurs/fde" class="wikilink1" title="utilisateurs:fde">fde</a><blockquote><div class="no">
 « cf. infra » ou « cf. supra » conviendrait mieux, non ? — <em><a href="../../utilisateurs/ner0lph" class="wikilink1" title="utilisateurs:ner0lph">Ner0lph</a> Le 24/11/2007, à  19:15</em></div></blockquote>
</div></blockquote>
</div></blockquote>
<blockquote><div class="no">
 sur la <a href="https://eshu.ubuntu-eu.org/pipermail/ubuntu_wiki-fr/2007-November/003960.html" class="urlextern" title="https://eshu.ubuntu-eu.org/pipermail/ubuntu_wiki-fr/2007-November/003960.html"  rel="nofollow">liste de discussion</a>, nous ne sommes pas tous d&#039;accords concernant cette  page …<blockquote><div class="no">
 ok pour la page, on laisse comme ça tant qu&#039;on a pas plus de nouvelles /<a href="../../utilisateurs/fde" class="wikilink1" title="utilisateurs:fde">fde</a></div></blockquote>
</div></blockquote>
<blockquote><div class="no">
 Je suis plutôt d&#039;accord avec la proposition de <a href="../../utilisateurs/jahwork" class="wikilink1" title="utilisateurs:jahwork">Matthias Hawran (jahwork)</a> de faire de cette page un tutoriel &quot;tutoriel/gestion_energie_et_parcage_des_tetes_de_lecture&quot;, et de garder la page sur laptop-mode pour les explications de bases sur le laptop-mode (même si ça risque fortement de recouper cette page-ci). /<a href="../../utilisateurs/fde" class="wikilink1" title="utilisateurs:fde">fde</a><blockquote><div class="no">
 Il ne faut pas dupliquer l&#039;info. On garde tout ce qui concerne laptop-mode sur la dite page, avec une section &quot;gerer le parcage intempestif…&quot; et la section &quot;laptop-mode&quot; de la page tutoriel pointe seulement sur cette section. /<a href="../../utilisateurs/jahwork" class="wikilink1" title="utilisateurs:jahwork">jahwork</a></div></blockquote>
</div></blockquote>

<p>
===== <abbr title="Foire Aux Questions">FAQ</abbr> =====
</p>
<ol>
<li class="level1"><div class="li"> le problème ne touche que les portables — Vrai, ou en tout cas, il ne touche que les HDD de portable (personne n&#039;a confirmé ou infirmé que les HDD de portable dans un boitier externe sont touchés ou pas).</div>
</li>
</ol>

<p>
Note d&#039;un visiteur: Il semble que mon disque dur externe (de portable) soit touché sur mon portable et sur mon fixe.
</p>
<ol>
<li class="level1"><div class="li"> Le problème n&#039;existe que si on a activé laptop-mode — Faux ; Il y a une confusion entre le fait que laptop-mode, par défaut, défini un réglage agréssif de la gestion du hdd sur batterie et ce &quot;bug&quot; qui n&#039;a rien a voir avec laptop-mode mais avec une combinaison bios/firmware /os malheureuse.</div>
</li>
<li class="level1"><div class="li"> Gutsy ne présente pas ce problème — Faux, mais il semble que certaines personnes qui avaient ce bug avant Gutsy ne l&#039;aient plus avec une Gutsy à jour (pourquoi? j&#039;en sais rien).</div>
</li>
<li class="level1"><div class="li"> Seul ubuntu et debian sont touchés – Faux, et Windows (2000 en tout cas) l&#039;est aussi – [Edit de Thibault : mon windows vista aussi sur un dell inspiron 1525 !]. Windows 7 également (sur  Dell latitude e5410).</div>
</li>
<li class="level1"><div class="li"> Le problème n&#039;existe que sur batterie – Faux. Selon les portables/configuration, le problème peut exister que sur batterie ou sur secteur aussi, la majorité des cas semble montrer que les personnes touchées le sont sur batterie et sur secteur.</div>
</li>
</ol>
<hr />

<p>
<em>Contributeurs : <a href="../../utilisateurs/marc31" class="wikilink1" title="utilisateurs:marc31">marc31</a>, <a href="../../utilisateurs/fde" class="wikilink1" title="utilisateurs:fde">fde</a>, <a href="../../utilisateurs/teke" class="wikilink1" title="utilisateurs:teke">teke</a>,  <a href="../../utilisateurs/sorbus" class="wikilink1" title="utilisateurs:sorbus">Sorbus</a>, <a href="../../utilisateurs/xxkirastarothxx" class="wikilink1" title="utilisateurs:xxkirastarothxx">xXKirastarotHXx</a> , <a href="../../utilisateurs/malizor" class="wikilink1" title="utilisateurs:malizor">Malizor</a>. Merci à <a href="http://forum.ubuntu-fr.org/profile.php?id=39" class="urlextern" title="http://forum.ubuntu-fr.org/profile.php?id=39"  rel="nofollow">DiCiCat</a>, fournisseur quasi-exclusif des solutions proposées ici.</em>
</p>

</div>
<!-- EDIT9 SECTION "Hdparm" [16155-] -->
<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/1/1946bc1de74e59264f3a5b168b06a49d.xhtml used -->
</div>
</body>
</html>
