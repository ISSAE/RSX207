<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>zsh - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2014-11-10T10:05:00+0100"/>
<meta name="keywords" content="console,shell,brouillon"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/zsh?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/zsh?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/zsh"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/zsh"/>
<link rel="canonical" href="zsh"/>
<link rel="stylesheet" type="text/css" href="lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"zsh","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="zsh#main" tabindex="1">Contenu</a> | <a href="zsh#qsearch__in" tabindex="2">Rechercher</a> | <a href="zsh#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="zsh" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="zsh" >zsh</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <div class="notetag">Cette page est en cours de rédaction.<br />
<a href="wiki/participer_wiki">Apportez votre aide…</a>
</div>
<!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="zsh#installation">Installation</a></div></li>
<li class="level1"><div class="li"><a href="zsh#utilisation">Utilisation</a></div></li>
<li class="level1"><div class="li"><a href="zsh#les_fichiers_de_configuration">Les fichiers de configuration</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="zsh#completion">Complétion</a></div></li>
<li class="level2"><div class="li"><a href="zsh#le_prompt">Le prompt</a></div></li>
<li class="level2"><div class="li"><a href="zsh#globbing">Globbing</a></div></li>
<li class="level2"><div class="li"><a href="zsh#zle">ZLE</a></div></li>
<li class="level2"><div class="li"><a href="zsh#alias">Alias</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="zsh#un_exemple_de_fichier_zshrc">Un exemple de fichier zshrc</a></div></li>
<li class="level1"><div class="li"><a href="zsh#une_configuration_avancee">Une configuration avancée</a></div></li>
<li class="level1"><div class="li"><a href="zsh#resolution_de_problemes">Résolution de problèmes</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="zsh#raccourcis_clavier_du_terminal">Raccourcis clavier du terminal</a></div></li>
<li class="level2"><div class="li"><a href="zsh#completion_pour_la_commande_killall">Complétion pour la commande killall</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="zsh#voir_aussi">Voir aussi</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="console" class="wikilink1" title="console" rel="tag">console</a>,
	<a href="http://doc.ubuntu-fr.org/shell" class="wikilink1" title="shell" rel="tag">shell</a>,
	<a href="brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>
<hr />

<h1 class="sectionedit1" id="zsh">ZSH</h1>
<div class="level1">

<p>
<strong>Zsh</strong> est un interpréteur de commandes (shell), tout comme bash.
Il fournit une interface entre l&#039;utilisateur et le système. Il est indispensable d&#039;avoir un interpréteur de commandes pour utiliser un système <abbr title="GNU&#039;s Not Unix">GNU</abbr>/Linux (et même tous les autres systèmes).
Le shell par défaut dans Ubuntu est bash, c&#039;est un shell qui a bien des avantages (notamment pour les scripts), mais il est assez limité dans certaines fonctionnalités comme l&#039;autocomplétion.
Zsh est plutôt orienté pour l&#039;interactivité avec l&#039;utilisateur.
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[ZSH] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="40-584" /><input type="submit" value="Modifier" class="button" title="ZSH" /></div></form></div>
<h2 class="sectionedit2" id="installation">Installation</h2>
<div class="level2">

<p>
<a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">Installez le paquet</a> <strong><a href="apt://zsh" class="urlextern" title="apt://zsh"  rel="nofollow">zsh</a></strong>.
</p>

</div>

<h4 id="en_mode_console">En mode console :</h4>
<div class="level4">
<pre class="code bash"><span class="kw2">sudo</span> <span class="kw2">apt-get install</span> <span class="kw2">zsh</span></pre>

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Installation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="585-762" /><input type="submit" value="Modifier" class="button" title="Installation" /></div></form></div>
<h2 class="sectionedit3" id="utilisation">Utilisation</h2>
<div class="level2">

<p>
Vous pouvez le lancer comme ceci : 
</p>
<pre class="code">zsh</pre>

<p>
Pour définir zsh comme shell par défaut (lorsque vous vous connectez dans un terminal (ou un émulateur de terminal), on peut utiliser l&#039;utilitaire chsh :
</p>
<pre class="code">chsh</pre>

<p>
On vous demande quel shell utiliser, répondez /bin/zsh (en toutes lettres).
<p><div class="noteimportant">Vérifiez bien votre saisie avant de valider, sinon vous risquez d&#039;avoir un terminal non fonctionnel.
</div></p>
Puis déconnectez vous et reconnectez vous. Et voilà, vous êtes sur zsh !
</p>

<p>
Si vous ne possédez pas les droits d&#039;administration sur l&#039;ordinateur que vous utilisez, il vous suffit d&#039;inscrire ceci dans votre fichier <strong>~/.bashrc</strong>
</p>
<pre class="code">exec zsh</pre>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Utilisation] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="763-1440" /><input type="submit" value="Modifier" class="button" title="Utilisation" /></div></form></div>
<h2 class="sectionedit4" id="les_fichiers_de_configuration">Les fichiers de configuration</h2>
<div class="level2">

<p>
Les fichiers utilisés pour la configuration sont les suivants :
</p>
<pre class="code">/etc/zsh/zshrc  ## Ce fichier s&#039;applique à tous les utilisateurs du système
~/.zshrc ## Ce fichier s&#039;applique à un utilisateur du système (~ veut dire /home/utilisateur)</pre>

<p>
Il est possible que les distributions fournissent un <code>/etc/zshrc</code> donc je vous conseille d&#039;aller voir ce qu&#039;il y a dans ce fichier.
Pour toutes les modifications que vous ferez dans les fichiers de configuration, il faut lancer la commande &quot;source&quot; sur les fichiers que vous avez modifiés pour que ça prenne effet, par exemple :
</p>
<pre class="code">source ~/.zshrc</pre>

<p>
Toutes les commandes qui vont être données peuvent être tapées directement dans le shell, mais pour qu&#039;elles prennent effet lors de la connexion au shell il faut les écrire dans un des fichiers de configuration (/etc/zsh/zshrc ou ~/.zshrc)
</p>

<p>
Pour les feignants, il y a un fichier de configuration tout prêt en fin de page. <img src="lib/images/smileys/icon_lol.gif" class="icon" alt="LOL" />
</p>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Les fichiers de configuration] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="1441-2417" /><input type="submit" value="Modifier" class="button" title="Les fichiers de configuration" /></div></form></div>
<h3 class="sectionedit5" id="completion">Complétion</h3>
<div class="level3">

<p>
La complétion sous Zsh est très avancée. Par défaut, vous avez par exemple :
</p>
<ul>
<li class="level1"><div class="li"> Complétion sur les noms de domaines. Par exemple, après ssh &lt;TAB&gt;, zsh complétera parmi les noms de domaines dans /etc/hosts, .ssh/ etc. , et même après</div>
</li>
</ul>

<p>
scp fichier user@domaine:~/ &lt;TAB&gt;, zsh complètera par les noms de fichiers sur le serveur
</p>
<ul>
<li class="level1"><div class="li"> Complétion après make par les cibles possible du makefile</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Complétion sur les options des programmes, avec la description de celles-ci. Essayez par exemple mplayer -v &lt;TAB&gt;</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Complétion sur les pages de manuel</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> … et bien d&#039;autres</div>
</li>
</ul>

<p>
Ajoutons que cette complétion est entièrement configurable :
</p>

<p>
Pour activer la complétion :
</p>
<pre class="code">autoload -U compinit
compinit</pre>

<p>
La complétion est très modifiable.
Pour améliorer l&#039;apparence de l&#039;auto complétion :
</p>
<pre class="code">zstyle &#039;:completion:*:descriptions&#039; format &#039;%U%B%d%b%u&#039;
zstyle &#039;:completion:*:warnings&#039; format &#039;%BDésolé, pas de résultats pour : %d%b&#039;
zstyle &#039;:completion:*&#039; menu select=2
zstyle &#039;:completion:*&#039; select-prompt %SScrolling active: current selection at %p%s</pre>

<p>
Pour éviter de proposer un élément déjà présent lors d&#039;un cp, mv ou rm :
</p>
<pre class="code">zstyle &#039;:completion:*:rm:*&#039; ignore-line yes
zstyle &#039;:completion:*:mv:*&#039; ignore-line yes
zstyle &#039;:completion:*:cp:*&#039; ignore-line yes</pre>

<p>
Sur Ubuntu, on utilise souvent <code>sudo</code>, donc il peut être intéressant d&#039;avoir la complétion lorsque la commande n&#039;est pas dans votre $PATH :
</p>
<pre class="code">zstyle &#039;:completion:*:sudo:*&#039; command-path /usr/local/sbin /usr/local/bin \
                           /usr/sbin /usr/bin /sbin /bin /usr/X11R6/bin</pre>

<p>
Zsh supporte aussi les fonctions de complétion de bash, pour les utiliser :
</p>
<pre class="code">autoload -U bashcompinit
bashcompinit</pre>

<p>
Ensuite il suffit de &quot;sourcer&quot; les fichiers de configuration de bash. (/etc/profile  ou ~/.bashrc)
</p>

<p>
Zsh peut aussi vous corriger si vous tapez sl à la place de ls (sauf si vous avez installé sl <img src="lib/images/smileys/icon_lol.gif" class="icon" alt="LOL" /> )
</p>
<pre class="code">setopt correctall</pre>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Complétion] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="2418-4377" /><input type="submit" value="Modifier" class="button" title="Complétion" /></div></form></div>
<h3 class="sectionedit6" id="le_prompt">Le prompt</h3>
<div class="level3">

<p>
Le prompt est ce que vous voyez, par exemple :
</p>
<pre class="code">vous@machine ~/src %</pre>

<p>
Ce prompt est contenu dans une (ou plusieurs) variables d&#039;environnements. La plus utilisée est certainement $PS1
</p>

<p>
Zsh fournit des prompts prêt à l&#039;emploi dans /usr/share/zsh/functions/Prompts.
Pour les activer :
</p>
<pre class="code">autoload -U promptinit
promptinit</pre>

<p>
Vous pouvez avoir une liste des themes comme ceci :
</p>
<pre class="code">prompt -l</pre>

<p>
Mais aussi un aperçu de tous les prompts disponibles :
</p>
<pre class="code">prompt -p</pre>

<p>
Vous pouvez choisir un prompt comme ceci :
</p>
<pre class="code">prompt NOM_DU_THEME</pre>

<p>
Si vous voulez faire votre prompt vous mêmes, voyez cette page : <a href="http://www.gentoo.org/doc/fr/zsh.xml#doc_chap2" class="urlextern" title="http://www.gentoo.org/doc/fr/zsh.xml#doc_chap2"  rel="nofollow">http://www.gentoo.org/doc/fr/zsh.xml#doc_chap2</a>
et cette page : <a href="https://wiki.archlinux.org/index.php/zsh" class="urlextern" title="https://wiki.archlinux.org/index.php/zsh"  rel="nofollow">https://wiki.archlinux.org/index.php/zsh</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Le prompt] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="4378-5100" /><input type="submit" value="Modifier" class="button" title="Le prompt" /></div></form></div>
<h3 class="sectionedit7" id="globbing">Globbing</h3>
<div class="level3">

<p>
La fonctionnalité qui vous fera oublier find <img src="lib/images/smileys/icon_cool.gif" class="icon" alt="8-)" />
</p>

<p>
Un exemple : 
</p>
<pre class="code">rm **/*toto*</pre>

<p>
 supprimera tous les fichiers comprenant le mot toto dans le répertoire courant, et ensuite en cherchant récursivement dans tous les sous-dossiers.
</p>

<p>
Il y a toute une syntaxe pour faire d&#039;autres choses, bien sûr.
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Globbing] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="5101-5425" /><input type="submit" value="Modifier" class="button" title="Globbing" /></div></form></div>
<h3 class="sectionedit8" id="zle">ZLE</h3>
<div class="level3">

<p>
ZLE désigne la zone dans laquelle vous tapez vos commandes. Vous pouvez utiliser les raccourcis claviers de vi ou d&#039;emacs, au choix, et définir très facilement vos propres raccourcis. 
En vrac, quelques raccourcis par défaut :
</p>
<ul>
<li class="level1"><div class="li"> &lt;Echap&gt;h va appeler la page de manuel du premier mot que vous êtes en train de taper</div>
</li>
<li class="level1"><div class="li"> &lt;Echap&gt;q va copier la ligne que vous étiez en train de taper en mémoire, pour vous laisser devant une ligne vide. Vous pouvez alors rentrer une nouvelle commande, lorsque celle-ci sera terminée, zsh vous affichera la ligne en mémoire.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[ZLE] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="5426-6007" /><input type="submit" value="Modifier" class="button" title="ZLE" /></div></form></div>
<h3 class="sectionedit9" id="alias">Alias</h3>
<div class="level3">

<p>
ZSH permet, comme bash, de définir des &quot;alias&quot;, c&#039;est à dire des commandes définies à partir d&#039;autres commandes, par exemple :
</p>
<pre class="code">alias la=&quot;ls -a&quot;</pre>

<p>
Permet de définir une commande &#039;la&#039; qui seras identique à &#039;ls -a&#039; (liste les fichiers du répertoire passé en paramètre, en incluant les fichiers cachés).
</p>

<p>
Pour pouvoir se servir en permanence de ces alias il faut qu&#039;ils soient inscrits dans le fichier ~/.zshrc.
</p>

</div>

<h4 id="alias_suffixe">Alias suffixe</h4>
<div class="level4">

<p>
Mais zsh va plus loin en permettant des alias sur les suffixes. L&#039;idée initiale vient du fait que pour certains types de fichiers nous exécutons toujours la même commande. Par exemple, un fichier PDF sera généralement lu avec votre lecteur PDF favori. Passons à la pratique afin d&#039;être plus clair.
</p>
<pre class="code">alias -s pdf=&quot;evince &quot;</pre>

<p>
Voici la création de l&#039;alias pour tous les fichiers dont le nom est <code>nom.pdf</code>
Ensuite il suffit de l&#039;utiliser comme s&#039;il s&#039;agissait un exécutable.
</p>
<pre class="code">./fichier.pdf</pre>

<p>
Cela va lancer evince pour ouvrir votre fichier PDF.
</p>

</div>

<h4 id="alias_globaux">Alias globaux</h4>
<div class="level4">

<p>
Zsh permet également de définir des alias &quot;globaux&quot; qui s’exécuteront quelque soit leurs position dans la ligne de commande, ainsi 
</p>
<pre class="code"> alias -g G=&#039; | grep &#039;</pre>

<p>
remplacera la commande  
</p>
<pre class="code"> ls /bin G zsh</pre>

<p>
par
</p>
<pre class="code"> ls /bin | grep zsh</pre>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Alias] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="6008-7319" /><input type="submit" value="Modifier" class="button" title="Alias" /></div></form></div>
<h2 class="sectionedit10" id="un_exemple_de_fichier_zshrc">Un exemple de fichier zshrc</h2>
<div class="level2">
<pre class="code bash"><span class="co0">#!/usr/bin/env zsh</span>
<span class="co0">#   _________  _   _ ____   ____ </span>
<span class="co0">#  |__  / ___|| | | |  _ \ / ___|</span>
<span class="co0">#    / /\___ \| |_| | |_) | |    </span>
<span class="co0"># _ / /_ ___) |  _  |  _ &lt;| |___ </span>
<span class="co0">#(_)____|____/|_| |_|_| \_\\____|</span>
<span class="co0">#</span>
&nbsp;
<span class="co0"># Complétion </span>
autoload <span class="re5">-U</span> compinit
compinit
zstyle <span class="st_h">':completion:*:descriptions'</span> format <span class="st_h">'%U%B%d%b%u'</span>
zstyle <span class="st_h">':completion:*:warnings'</span> format <span class="st_h">'%BSorry, no matches for: %d%b'</span>
zstyle <span class="st_h">':completion:*:sudo:*'</span> command-path <span class="sy0">/</span>usr<span class="sy0">/</span>local<span class="sy0">/</span>sbin <span class="sy0">/</span>usr<span class="sy0">/</span>local<span class="sy0">/</span>bin \
                             <span class="sy0">/</span>usr<span class="sy0">/</span>sbin <span class="sy0">/</span>usr<span class="sy0">/</span>bin <span class="sy0">/</span>sbin <span class="sy0">/</span>bin <span class="sy0">/</span>usr<span class="sy0">/</span>X11R6<span class="sy0">/</span>bin
<span class="co0"># Crée un cache des complétion possibles</span>
<span class="co0"># très utile pour les complétion qui demandent beaucoup de temps</span>
<span class="co0"># comme la recherche d'un paquet aptitude install moz&lt;tab&gt;</span>
zstyle <span class="st_h">':completion:*'</span> use-cache on
zstyle <span class="st_h">':completion:*'</span> cache-path ~<span class="sy0">/</span>.zsh_cache
<span class="co0"># des couleurs pour la complétion</span>
<span class="co0"># faites un kill -9 &lt;tab&gt;&lt;tab&gt; pour voir :)</span>
zmodload zsh<span class="sy0">/</span>complist
setopt extendedglob
zstyle <span class="st_h">':completion:*:*:kill:*:processes'</span> list-colors <span class="st0">&quot;=(#b) #([0-9]#)*=36=31&quot;</span>
&nbsp;
<span class="co0"># Correction des commandes</span>
setopt correctall
&nbsp;
<span class="co0"># Un petit prompt sympa</span>
autoload <span class="re5">-U</span> promptinit
promptinit
prompt adam2
&nbsp;
<span class="co0"># Les alias marchent comme sous bash</span>
<span class="kw3">alias</span> <span class="re2">ls</span>=<span class="st_h">'ls --color=auto'</span>
<span class="kw3">alias</span> <span class="re2">ll</span>=<span class="st_h">'ls --color=auto -lh'</span>
<span class="kw3">alias</span> <span class="re2">lll</span>=<span class="st_h">'ls --color=auto -lh | less'</span>
<span class="co0"># marre de se faire corriger par zsh ;)</span>
<span class="kw3">alias</span> <span class="re2">xs</span>=<span class="st_h">'cd'</span>
<span class="kw3">alias</span> <span class="re2">sl</span>=<span class="st_h">'ls'</span>
<span class="co0"># mplayer en plein framme buffer ;)</span>
<span class="kw3">alias</span> <span class="re2">mplayerfb</span>=<span class="st_h">'mplayer -vo fbdev -vf scale=1024:768'</span>
<span class="co0"># Un grep avec des couleurs :</span>
<span class="kw3">export</span> <span class="re2">GREP_COLOR</span>=<span class="nu0">31</span>
<span class="kw3">alias</span> <span class="re2">grep</span>=<span class="st_h">'grep --color=auto'</span>
<span class="kw3">alias</span> <span class="re2">xte</span>=<span class="st_h">'nohup xterm &amp;'</span> <span class="co0"># xte lancera un xterm qui ne se fermera pas si on ferme le terminal</span>
<span class="co0"># Pareil pour les variables d'environement :</span>
<span class="co0">#export http_proxy=&quot;http://hostname:8080/&quot;</span>
<span class="co0">#export HTTP_PROXY=$http_proxy</span>
<span class="co0"># un VRAI éditeur de texte ;)</span>
<span class="kw3">export</span> <span class="re2">EDITOR</span>=<span class="sy0">/</span>usr<span class="sy0">/</span>bin<span class="sy0">/</span><span class="kw2">vim</span></pre>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Un exemple de fichier zshrc] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="7320-9113" /><input type="submit" value="Modifier" class="button" title="Un exemple de fichier zshrc" /></div></form></div>
<h2 class="sectionedit11" id="une_configuration_avancee">Une configuration avancée</h2>
<div class="level2">

<p>
Pour ceux qui ne souhaitent pas se plonger dans les fichiers de configurations de zsh, mais qui souhaitent tout de même avoir une configuration agréable à utiliser, je vous propose la configuration suivante :
</p>
<pre class="code">wget http://formation-debian.via.ecp.fr/fichiers-config/zshrc
wget http://formation-debian.via.ecp.fr/fichiers-config/zshenv
wget http://formation-debian.via.ecp.fr/fichiers-config/zlogin
wget http://formation-debian.via.ecp.fr/fichiers-config/zlogout
wget http://formation-debian.via.ecp.fr/fichiers-config/dir_colors
sudo mv zshrc zshenv zlogin zlogout dir_colors /etc/zsh</pre>

<p>
Vous aurez un prompt en couleur, des raccourcis clavier similaires à ceux d&#039;<a href="emacs" class="wikilink1" title="emacs">Emacs</a>, ainsi qu&#039;à ceux de <a href="vim" class="wikilink1" title="vim">Vim</a>, et de nombreuses autres possibilités.
</p>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Une configuration avancée] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="9114-9911" /><input type="submit" value="Modifier" class="button" title="Une configuration avancée" /></div></form></div>
<h2 class="sectionedit12" id="resolution_de_problemes">Résolution de problèmes</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> les touches home, fin, ctrl+[aerl] et autres ne fonctionnent pas correctement, affichent des caractères bizarre: <br/>
peut etre en pensant bien faire vous avez selectionner lors de la configuration initiales les raccourcis type vi, et trouverez donc certainement dans votre ~/.zshrc la directive bindkey -v . dans ce cas essayez de remplacer cette directive par bindkey -e qui correspond aux raccourcis de type emacs et qui devraient restaurer le comportement attendu.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Résolution de problèmes] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="9912-10421" /><input type="submit" value="Modifier" class="button" title="Résolution de problèmes" /></div></form></div>
<h3 class="sectionedit13" id="raccourcis_clavier_du_terminal">Raccourcis clavier du terminal</h3>
<div class="level3">

<p>
Si ça ne résout pas le bug (cf « résolution de problèmes »), insérer les lignes suivantes dans ~/.zshrc :
</p>
<pre class="code bash"><span class="co0"># Touche de commande</span>
bindkey <span class="st0">&quot;\e[H&quot;</span> beginning-of-line <span class="co0"># Début</span>
bindkey <span class="st0">&quot;\e[F&quot;</span> end-of-line <span class="co0"># Fin</span>
bindkey <span class="st0">&quot;\e[3~&quot;</span> delete-char
bindkey <span class="st0">&quot;^R&quot;</span> history-incremental-search-backward <span class="co0"># Rechercher</span></pre>

<p>
<p><div class="notetip">Astuce, pour connaître les raccourcis clavier de votre terminal, taper la commande :
</p>
<pre class="code bash"><span class="kw2">cat</span> <span class="re5">-v</span></pre>

<p>
 et taper sur la touche du clavier désirée pour connaître son bindkey, vous verrez que ce dernier ne correspond pas à ceux listés par :
</p>
<pre class="code bash">bindkey</pre>

<p>
À noter, que vous pouvez directement connaître le bindkey via Vim : passer en mode insertion et taper Ctrl V
</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Raccourcis clavier du terminal] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="10422-11184" /><input type="submit" value="Modifier" class="button" title="Raccourcis clavier du terminal" /></div></form></div>
<h3 class="sectionedit14" id="completion_pour_la_commande_killall">Complétion pour la commande killall</h3>
<div class="level3">

<p>
Pour ceux qui viennent de bash ils seront dérouté de voir que la commande killall ne propose pas de complétion, ce bogue a été corrigé :  <a href="https://bugs.launchpad.net/ubuntu/+source/zsh/+bug/204234" class="urlextern" title="https://bugs.launchpad.net/ubuntu/+source/zsh/+bug/204234"  rel="nofollow">zsh&#039;s killall process tab completion should match bash&#039;s </a>
</p>

<p>
Pour faire simple, il suffit de rajouter dans le fichier /etc/zsh/zshrc  les lignes suivantes :
</p>
<pre class="code bash">zstyle <span class="st_h">':completion:*:processes'</span> <span class="kw3">command</span> <span class="st_h">'ps -ax'</span>
zstyle <span class="st_h">':completion:*:processes-names'</span> <span class="kw3">command</span> <span class="st_h">'ps -aeo comm='</span>
zstyle <span class="st_h">':completion:*:*:kill:*:processes'</span> list-colors <span class="st_h">'=(#b) #([0-9]#)*=0=01;31'</span>
zstyle <span class="st_h">':completion:*:*:kill:*'</span> menu <span class="kw2">yes</span> <span class="kw1">select</span>
zstyle <span class="st_h">':completion:*:*:killall:*:processes-names'</span> list-colors <span class="st_h">'=(#b) #([0-9]#)*=0=01;31'</span>
zstyle <span class="st_h">':completion:*:*:killall:*'</span> menu <span class="kw2">yes</span> <span class="kw1">select</span></pre>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Complétion pour la commande killall] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="11185-11993" /><input type="submit" value="Modifier" class="button" title="Complétion pour la commande killall" /></div></form></div>
<h2 class="sectionedit15" id="voir_aussi">Voir aussi</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <strong>(fr)</strong> <a href="http://wiki.gcu.info/doku.php?id=unix:zsh_le_z_shell" class="urlextern" title="http://wiki.gcu.info/doku.php?id=unix:zsh_le_z_shell"  rel="nofollow">unix:zsh le z shell</a></div>
</li>
<li class="level1"><div class="li"> <strong>(fr)</strong> <a href="http://www.gentoo.org/doc/fr/zsh.xml" class="urlextern" title="http://www.gentoo.org/doc/fr/zsh.xml"  rel="nofollow">Guide sur l&#039;installation et la configuration de zsh</a> sur Gentoo.org</div>
</li>
<li class="level1"><div class="li"> <strong>(en)</strong> <a href="http://zshwiki.org/home/" class="urlextern" title="http://zshwiki.org/home/"  rel="nofollow">http://zshwiki.org/home/</a></div>
</li>
<li class="level1"><div class="li"> <strong>(fr)</strong> <a href="http://cli.asyd.net/home/shell/zsh/racine" class="urlextern" title="http://cli.asyd.net/home/shell/zsh/racine"  rel="nofollow">http://cli.asyd.net/home/shell/zsh/racine</a></div>
</li>
</ul>
<hr />

<p>
<em>Contributeurs : <a href="http://doc.ubuntu-fr.org/utilisateurs/yannick_lm" class="wikilink1" title="utilisateurs:yannick_lm">yannick_lm</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/philpep-tlse" class="wikilink1" title="utilisateurs:philpep-tlse">philpep-tlse</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/geenux" class="wikilink1" title="utilisateurs:geenux">geenux</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/malko25" class="wikilink2" title="utilisateurs:malko25" rel="nofollow">malko25</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/david96" class="wikilink1" title="utilisateurs:david96">david96</a>.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit" method="post" action="zsh"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1415610300" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="11994-" /><input type="submit" value="Modifier" class="button" title="Voir aussi" /></div></form></div>
<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/6/6b38225a9b3f6fe21a2001c72eaec890.xhtml used -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/zsh?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/zsh?do=edit&amp;rev=0"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/zsh?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/zsh?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/zsh?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
