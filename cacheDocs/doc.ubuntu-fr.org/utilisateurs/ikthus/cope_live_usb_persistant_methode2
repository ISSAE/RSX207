<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>utilisateurs:ikthus:cope_live_usb_persistant_methode2 - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2012-06-30T18:00:22+0200"/>
<meta name="keywords" content="brouillon"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/utilisateurs/ikthus/cope_live_usb_persistant_methode2?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="http://doc.ubuntu-fr.org/feed.php?mode=list&amp;ns=utilisateurs:ikthus"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/utilisateurs/ikthus/cope_live_usb_persistant_methode2"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/utilisateurs/ikthus/cope_live_usb_persistant_methode2"/>
<link rel="canonical" href="cope_live_usb_persistant_methode2"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='utilisateurs:ikthus';var JSINFO = {"id":"utilisateurs:ikthus:cope_live_usb_persistant_methode2","namespace":"utilisateurs:ikthus"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="cope_live_usb_persistant_methode2#main" tabindex="1">Contenu</a> | <a href="cope_live_usb_persistant_methode2#qsearch__in" tabindex="2">Rechercher</a> | <a href="cope_live_usb_persistant_methode2#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="../../index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="cope_live_usb_persistant_methode2" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="cope_live_usb_persistant_methode2" >utilisateurs:ikthus:cope_live_usb_persistant_methode2</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="cope_live_usb_persistant_methode2#introduction">Introduction</a></div></li>
<li class="level1"><div class="li"><a href="cope_live_usb_persistant_methode2#preparation">Préparation :</a></div></li>
<li class="level1"><div class="li"><a href="cope_live_usb_persistant_methode2#partitionnement">Partitionnement</a></div></li>
<li class="level1"><div class="li"><a href="cope_live_usb_persistant_methode2#le_formatagela_copiel_amorce">Le formatage / La copie / L&#039;amorce</a></div></li>
<li class="level1"><div class="li"><a href="cope_live_usb_persistant_methode2#les_petits_plus">Les petits plus :</a></div></li>
<li class="level1"><div class="li"><a href="cope_live_usb_persistant_methode2#references">Références</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="../../brouillon" class="wikilink1" title="brouillon" rel="tag">BROUILLON</a>
</span></div>
<hr />

<p>
<img src="../../lib/images/smileys/fixme.gif" class="icon" alt="FIXME" /> documentation à mettre à jour avec jaunty
</p>

<h1 class="sectionedit1" id="comment_installer_ubuntu_sur_une_cle_manuellement">Comment installer Ubuntu sur une clé manuellement</h1>
<div class="level1">

<p>
Ce tutoriel est réécrit depuis le site <a href="http://www.pendrivelinux.com/2007/09/28/usb-ubuntu-710-gutsy-gibbon-install/" class="urlextern" title="http://www.pendrivelinux.com/2007/09/28/usb-ubuntu-710-gutsy-gibbon-install/"  rel="nofollow">http://www.pendrivelinux.com/2007/09/28/usb-ubuntu-710-gutsy-gibbon-install/</a> et dans le cadre d&#039;une installation personnalisé.
Ce tutoriel détaille toutes les étapes manuelles et doit être adapté pour votre cas. Cependant la méthode est des plus détaillés.
</p>

<p>
Ce tutoriel utilise une partition sur la clefs usb.
</p>

</div>

<h2 class="sectionedit2" id="introduction">Introduction</h2>
<div class="level2">

<p>
Le principe d&#039;un système live (Live CD ou <a href="../../live_usb" class="wikilink1" title="live_usb">Live USB</a>) est de ne pas toucher aux disques de la machine. Ce qui fait qu&#039;à l&#039;arrêt de la machine vous perdez toutes vos données accumulées pendant la session &quot;live&quot;.
</p>

<p>
Avec le mode persistant il est possible de garder vos modifications (patchs, applications installées, etc.)
</p>

<p>
Avantages :
</p>
<ul>
<li class="level1"><div class="li"> Ubuntu peut être transporté partout (pour les travaux, les démonstrations…)</div>
</li>
<li class="level1"><div class="li"> Pas de complications avec grub</div>
</li>
</ul>

<p>
Inconvénients :
</p>
<ul>
<li class="level1"><div class="li"> Impossible de créer de nouveaux utilisateurs</div>
</li>
<li class="level1"><div class="li"> Impossible de restreindre les actions (Mode Root permanent)</div>
</li>
<li class="level1"><div class="li"> Très sensible à certaines mises à jour (noyau ou librairies)</div>
</li>
</ul>

<p>
Fonctionnement théorique :
</p>
<ul>
<li class="level1"><div class="li"> fonctionnement d&#039;un liveCD ou live <abbr title="Universal Serial Bus">USB</abbr> : les données du système d&#039;exploitation qui sont sur le CD sont compressées et accessibles qu&#039;en lecture, or le système d&#039;exploitation a besoin d&#039;écrire. Pour cela au démarrage un ramdrive (disque virtuel dans la ram) est monté. et avec le système de <a href="http://en.wikipedia.org/wiki/UnionFS" class="interwiki iw_wp" title="http://en.wikipedia.org/wiki/UnionFS">UnionFS (en)</a> on assemble les 2 systèmes de fichiers : les lectures se feront sur le cd et les écritures dans le ramdrive. Coté utilisation tout est transparent.</div>
</li>
<li class="level1"><div class="li"> avec le mode persistant au lieu d&#039;utiliser un ramdrive on utilise un système de fichiers sur un disque dur ou une clé <abbr title="Universal Serial Bus">USB</abbr>. Du coup ces données pourront être retrouvées après le redémarrage de la machine.</div>
</li>
</ul>

</div>

<h2 class="sectionedit3" id="preparation">Préparation :</h2>
<div class="level2">

<p>
Nous considérons que vous travaillez à partir de votre répertoire &quot;home&quot;, ce qui implique que je ne fasse référence à cet endroit que via ~/ (alt-gr + 2). donc par principe.
</p>
<pre class="code">cd ## Sans paramètre, c&#039;est vers le fichier ~</pre>

<p>
Il s&#039;agit de procéder à l&#039;installation d&#039;un liveusb à partir de la Gutsy Gibbon (Ubuntu 7.10) nous allons donc récupérer l&#039;image iso de la distribution en question.
</p>
<pre class="code">wget ftp://ftp.free.fr/mirrors/ftp.ubuntu.com/releases/gutsy/ubuntu-7.10-desktop-i386.iso</pre>

<p>
(je travaille chez free alors je ne vais pas vous mettre un miroir russe)
</p>

<p>
Vous devez donc disposer d&#039;une image iso appelée ubuntu-7.10-desktop-i386.iso.
A partir de là, il nous faut quelques outils qui ne sont pas compris de base : 
- syslinux
- mtools
</p>
<pre class="code">sudo aptitude install syslinux mtools</pre>

<p>
nous allons aussi récupérer le fichier U710fix.zip chargé de corriger l&#039;amorçage du système avec la persistance (fichier qu&#039;il serait bon d&#039;avoir sur ce serveur).
</p>
<pre class="code">wget http://pendrivelinux.com/downloads/U710fix.zip</pre>

<p>
Vous devez donc disposer d&#039;un fichier U710fix.zip que nous décompresserons plus tard.
<p><div class="noteimportant">Si le lien ne fonctionne pas/plus rendez-vous directement sur la page suivante pour y récupérer le fichier U710fix.zip
<a href="http://www.pendrivelinux.com/2007/09/28/usb-ubuntu-710-gutsy-gibbon-install/" class="urlextern" title="http://www.pendrivelinux.com/2007/09/28/usb-ubuntu-710-gutsy-gibbon-install/"  rel="nofollow">http://www.pendrivelinux.com/2007/09/28/usb-ubuntu-710-gutsy-gibbon-install/</a> 
</div></p>
</p>

</div>

<h2 class="sectionedit4" id="partitionnement">Partitionnement</h2>
<div class="level2">

<p>
Nous devons identifier notre clé usb et la partitionner pour avoir un espace de 750 Mo de système et le reste de stockage.
</p>

<p>
Pour identifier la clé nous allons procéder par déduction : sans que la clé soit insérée, nous allons lister les disques. 
<p><div class="noteimportant"> Attention, la commande &quot;grep &#039;^Disque&#039;&quot; ne fonctionnera que sur un système francisé, adaptez à la localisation de votre système (pour une version anglaise : sudo fdisk -l | grep &#039;^Disk&#039;)

</div></p>
</p>
<pre class="code">sudo fdisk -l | grep &#039;^Disque&#039;  </pre>

<p>
 * va nous retourner un résultat du type
</p>
<pre class="code">Disque /dev/sda: 60.0 Go, 60011642880 octets</pre>

<p>
 * Nous allons maintenant insérer la clé usb et relister les disques
</p>
<pre class="code">sudo fdisk -l | grep &#039;^Disque&#039;</pre>

<p>
 * qui va nous retourner un résultat du type
</p>
<pre class="code">Disque /dev/sda: 60.0 Go, 60011642880 octets
Disque /dev/sdb: 2047 Mo, 2047681024 octets</pre>

<p>
 * Une ligne vient d&#039;apparaître entre les deux manipulations (Disque /dev/sdb: 2047 Mo, 2047681024 octets) et il s&#039;agit bien de ma clé de 2 Go (2047 Mo) dont le chemin est /dev/sdb.
Il vous faut bien sûr adapter le chemin que retourne fdisk et modifier /dev/sdb par le chemin réel de votre clé dans le reste de ce tuto.
</p>

<p>
<p><div class="notetip">Le partitionnement se faisant via fdisk, si vous deviez rater une étape vous pourrez quitter fdisk sans aucune incidence tant que vous n&#039;avez pas validé avec la commande q.
</div></p>
</p>

<p>
 * lancez fdisk avec le chemin de votre clé
</p>
<pre class="code">sudo fdisk /dev/sdb</pre>

<p>
 * à l&#039;invite de fdisk
</p>
<pre class="code">Commande (m pour l&#039;aide):</pre>

<p>
 * tapez p pour lister les partitions présentes
</p>
<pre class="code">Commande (m pour l&#039;aide): p</pre>

<p>
 * fdisk va alors afficher les informations de la ou des partitions présentes sur la clé.
</p>
<pre class="code">Disque /dev/sdb: 2047 Mo, 2047681024 octets
64 heads, 63 sectors/track, 991 cylinders
Units = cylindres of 4032 * 512 = 2064384 bytes
Disk identifier: 0x00000000

Périphérique Amorce    Début         Fin      Blocs    Id  Système
/dev/sdb1   *           1         751     1513984+   6  FAT16
/dev/sdb2             752         991      483840   83  Linux</pre>

<p>
 * dans mon cas il y a deux partitions mais cela n&#039;a rien d&#039;anormal de n&#039;en trouver qu&#039;une.
 * tapez d pour supprimer la ou les partitions.
</p>
<pre class="code">Commande (m pour l&#039;aide): d</pre>

<p>
 * si c&#039;est la dernière partition ou la seule fdisk répondra qu&#039;il a automatiquement sélectionné la partition
</p>
<pre class="code">Partition sélectionnée 1</pre>

<p>
 * sinon il faut lui indiquer quelle partition supprimer
</p>
<pre class="code">Numéro de partition (1-4):</pre>

<p>
 * et recommencer cette opération jusqu&#039;à ce que toutes les partitions soient supprimées.
</p>

<p>
 * maintenant qu&#039;il n&#039;y a plus de partitions sur la clé nous allons créer la partition principale du système en tapant n
</p>
<pre class="code">Commande (m pour l&#039;aide): n</pre>

<p>
 * fdisk nous demande alors le type de partition (primaire ou étendue)
</p>
<pre class="code">Action de commande
  e   étendue
  p   partition primaire (1-4)</pre>

<p>
 * nous répondons par p pour une partition primaire, fdisk nous demande donc le numéro de partition
</p>
<pre class="code">Numéro de partition (1-4):</pre>

<p>
 * nous tapons 1 pour la première partition, ici fdisk nous demande oû mettre le premier cylindre, nous taperons entrée afin de laisser le premier cylindre.
</p>
<pre class="code">Premier cylindre (1-991, par défaut 1):</pre>

<p>
 * ensuite il nous faut indiquer la taille de la partition (750 Mo est un bon choix) donc nous allons taper +750M afin d&#039;indiquer à fdisk qu&#039;il s&#039;agit d&#039;une taille et non pas d&#039;un cylindre.
</p>
<pre class="code">Dernier cylindre ou +taille or +tailleM ou +tailleK (1-991, par défaut 991): +750M</pre>

<p>
 * nous revenons à l&#039;invite fdisk où nous tapons a pour activer la partition (la rendre bootable).
</p>
<pre class="code">Commande (m pour l&#039;aide): a</pre>

<p>
 * fdisk nous demande donc quelle partition activer même s&#039;il n&#039;y en a qu&#039;une, nous répondons 1 pour la première partition.
</p>
<pre class="code">Numéro de partition (1-4): 1</pre>

<p>
 * de retour à l&#039;invite nous taperons t pour déterminer le type de partition, dans notre cas c&#039;est une partition ms-dos en FAT16
</p>
<pre class="code">Commande (m pour l&#039;aide): t</pre>

<p>
 * fdisk nous demande donc le type de partition auquel nous répondons 6 (ce qui correspond à FAT) vous pouvez taper l pour connaître les types de partition disponible mais cela n&#039;est pas l&#039;objet de ce tutoriel.
</p>
<pre class="code">Partition sélectionnée 1
Code Hex (taper L pour lister les codes): 6</pre>

<p>
 * fdisk nous confirme la manipulation et le type de partition
</p>
<pre class="code">Type de partition système modifié de 1 à 6 (FAT16)</pre>

<p>
 * la partition système est maintenant créée. Il nous reste a créer la partition de persistance en tapant de nouveau n
</p>
<pre class="code">Commande (m pour l&#039;aide): n</pre>

<p>
 * puis p pour une partition primaire
</p>
<pre class="code">Action de commande
  e   étendue
  p   partition primaire (1-4)[/code]</pre>

<p>
 * puis 2 pour le numéro de partition
</p>
<pre class="code">Numéro de partition (1-4): 2</pre>

<p>
 * ensuite entrée pour sélectionner le cylindre par défaut
</p>
<pre class="code">Premier cylindre (752-991, par défaut 752):</pre>

<p>
 * et de nouveau entrée pour le dernier cylindre (tout l&#039;espace restant)
</p>
<pre class="code">Utilisation de la valeur par défaut 752
Dernier cylindre ou +taille or +tailleM ou +tailleK (752-991, par défaut 991):</pre>

<p>
* de retour à l&#039;invite nous taperons t pour déterminer le type de la deuxième partition, dans notre cas c&#039;est une partition Linux en EXT 2 ou 3.
</p>
<pre class="code">Commande (m pour l&#039;aide): t</pre>

<p>
 * fdisk nous demande donc le type de partition auquel nous répondons 83 (ce qui correspond à EXT2 ou 3) vous pouvez taper l pour connaître les types de partition disponible comme précédemment.
</p>
<pre class="code">Partition sélectionnée 2
Code Hex (taper L pour lister les codes): 83</pre>

<p>
 * Si tout s&#039;est bien passé vous pouvez maintenant taper w pour écrire les modifications et les rendre effectives sur la clé usb
</p>
<pre class="code">Commande (m pour l&#039;aide): w</pre>

<p>
 * sinon tapez q pour quitter sans enregistrer les modifications et retentez le partitionnement dans son ensemble
</p>
<pre class="code">Commande (m pour l&#039;aide): q</pre>

<p>
 * A ce stade du tutoriel, je conseille de déconnecter la clé <abbr title="Universal Serial Bus">USB</abbr> et de la reconnecter, et enfin de vérifier les partitions crées avec la commande précédente  
 * sudo fdisk -l 
Cette commande me retourne
 * Périphérique Amorce    Début         Fin      Blocs    Id  Système
</p>
<pre class="code">/dev/sdb1   *           1         189       771104   6  FAT16
/dev/sdb2             190         987      3255840   83  Linux</pre>

<p>
<p><div class="notetip">
On peut aussi utiliser gparted, si on tient aux utilitaires graphiques…
Il est clair que c&#039;est plus simple, mais il y a aussi ceux qui tiennent aux lignes de commande (comme moi <img src="../../lib/images/smileys/icon_biggrin.gif" class="icon" alt=":-D" />).

</div></p>
</p>

</div>

<h2 class="sectionedit5" id="le_formatagela_copiel_amorce">Le formatage / La copie / L&#039;amorce</h2>
<div class="level2">

<p>
 * Avant de formater nous allons nous assurer que les partitions nouvellement créées sont bien démontées 
</p>
<pre class="code">sudo umount /dev/sdb1;
sudo umount /dev/sdb2;</pre>

<p>
 * Puis on lance le formatage de la première partition en FAT16 avec pour nom ubuntu710
</p>
<pre class="code">sudo mkfs.vfat -F 16 -n ubuntu710 /dev/sdb1</pre>

<p>
 * Et ensuite celui de la deuxième en ext2 avec comme nom casper-rw (c&#039;est important car c&#039;est grace à ce nom qu&#039;ubuntu pourra utiliser la persistance)
</p>
<pre class="code">sudo mkfs.ext2 -b 4096 -L casper-rw /dev/sdb2</pre>

<p>
 * Rendez ensuite la première partition bootable avec syslinux
</p>
<pre class="code">sudo syslinux -f /dev/sdb1</pre>

<p>
<p><div class="notetip">
 * Il se peut qu&#039;il faille utiliser l&#039;argument &quot;s&quot; ici mais uniquement pour des <abbr title="Basic Input-Output System">BIOS</abbr> bogués : on amorcera la clé par une méthode, je cite le man &quot;sûre, lente et stupide&quot;. On est prié d&#039;envoyer des infos aux développeurs de syslinux si on y est confronté.

</div></p>
 * Retirez et réinsérez la clé. Ce qui devrait vous monter les deux partitions automatiquement.
 * Nous allons maintenant monter l&#039;image iso du système afin de copier les fichiers de la Gutsy Gibbon :
</p>
<pre class="code">sudo mkdir /media/gutsycd;
sudo mount -o loop ~/ubuntu-7.10-desktop-i386.iso /media/gutsycd;</pre>

<p>
 * Nous nous déplaçons vers le point de montage et nous faisons la copie des fichiers et démonter l&#039;image dans la foulée.
</p>
<pre class="code">cd /media/gutsycd;
cp -rf casper disctree dists install pics pool preseed .disk isolinux/* md5sum.txt README.diskdefines ubuntu.ico casper/vmlinuz casper/initrd.gz /media/ubuntu710/;
cd ~/; sudo umount /media/gutsycd; FIXME a mettre à jour</pre>

<p>
 * Ensuite nous allons dézipper le fichier correctif pour la persitance vers la clé usb :
</p>
<pre class="code">sudo unzip -o -d /media/ubuntu710/ ~/U710fix.zip FIXME procédure à jour ?</pre>

<p>
 * Et voilà, si tout s&#039;est bien déroulé vous devriez disposer d&#039;une clé usb ubuntu Gutsy Gibbon fonctionnelle. Ce tutoriel peut paraître long car j&#039;ai essayé de le détailler un maximum pour ceux qui débutent cependant j&#039;ai réalisé l&#039;installation complète en 15 minutes montre en main.
</p>

<p>
N&#039;hésitez pas à me corriger ou à me faire part de vos avis.
</p>

<p>
<p><div class="notetip">
Il semblerait qu&#039;installer le MBR sur la clé permette de démarrer sur certaines configurations où le bios ne gère pas les choses de la même manière.
</p>
<pre class="code">sudo aptitude install mbr;
install-mbr /dev/sdb</pre>

<p>
Attention de mettre le bon device (correspondance point de montage / device en exécutant la commande &#039;df&#039;)

</div></p>
</p>

</div>

<h2 class="sectionedit6" id="les_petits_plus">Les petits plus :</h2>
<div class="level2">

<p>
Si vous ne souhaitez pas retaper à chaque démarrage la sélection de la langue et/ou de la résolution de l&#039;écran démarrez une première fois en sélectionnant correctement langue et résolution puis quand le système est démarré complètement, faites un cat de /proc/cmdline :
</p>
<pre class="code">cat /proc/cmdline</pre>

<p>
vous allez récupérer la ligne de commande qui a été passée au noyau pour démarrer : 
</p>
<pre class="code">BOOT_IMAGE=vmlinuz file=/preseed/ubuntu.seed boot=casper persistent initrd=initrd.gz quiet splash -- vga=0x317 locale=fr_FR console-setup/layoutcode=fr console-setup/variantcode=oss</pre>

<p>
ensuite ouvrez le /cdrom/isolinux.cfg pour modifier les options de démarrage par défaut
</p>
<pre class="code">sudo gedit /cdrom/isolinux.cfg</pre>

<p>
Ajoutez à la fin de la première ligne commençant par APPEND ( c&#039;est le seul en majuscule ) les options récupérées par le cat de /proc/cmdline après les deux tirets ( ex : – )
</p>
<pre class="code">BOOT_IMAGE=vmlinuz file=/preseed/ubuntu.seed boot=casper persistent initrd=initrd.gz quiet splash -- vga=0x317 locale=fr_FR console-setup/layoutcode=fr console-setup/variantcode=oss</pre>

<p>
La  ligne &quot;APPEND  file=/cdrom/preseed/ubuntu.seed boot=casper initrd=/casper/initrd.gz quiet splash –&quot; vas devenir &quot;APPEND  file=/cdrom/preseed/ubuntu.seed boot=casper initrd=/casper/initrd.gz quiet splash – vga=0x317 locale=fr_FR console-setup/layoutcode=fr console-setup/variantcode=oss&quot;
Enregistrez et voila, un simple &quot;ENTRER&quot; au démarrage suffira …
</p>

<p>
<p><div class="noteimportant">Oopss : Bien sûr je ne suis absolument pas responsable d&#039;éventuels dommages matériels ou logiciels que ces manipulations pourraient engendrer. Cette manipulation a fonctionné sur un Latitude D520 mais je ne saurais me porter garant que cela fonctionne sur toutes les configurations.
</div></p>
</p>

</div>

<h2 class="sectionedit7" id="references">Références</h2>
<div class="level2">

<p>
Divers liens pour créer une clé bootable avec Ubuntu (ou une autre distribution):
</p>

<p>
Smo: <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=132294" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=132294"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=132294</a>
</p>

<p>
Frafa: <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=343634" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=343634"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=343634</a>
</p>

<p>
Slym: <a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=1888386" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=1888386"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?pid=1888386</a>
</p>

<p>
Unetbootin: <a href="../../unetbootin" class="urlextern" title="http://doc.ubuntu-fr.org/unetbootin"  rel="nofollow">http://doc.ubuntu-fr.org/unetbootin</a>
</p>

<p>
Live <abbr title="Universal Serial Bus">USB</abbr> Creator (fedora uniquement): <a href="https://fedorahosted.org/liveusb-creator" class="urlextern" title="https://fedorahosted.org/liveusb-creator"  rel="nofollow">https://fedorahosted.org/liveusb-creator</a>
</p>

<p>
CD de boot pour démarrer Ubuntu Drapper sur une clef <abbr title="Universal Serial Bus">USB</abbr> (utile pour les bios ne bootant pas sur l&#039;<abbr title="Universal Serial Bus">USB</abbr>): <a href="http://fausse-piste.net/piste1/spip.php?article157" class="urlextern" title="http://fausse-piste.net/piste1/spip.php?article157"  rel="nofollow">http://fausse-piste.net/piste1/spip.php?article157</a>
</p>
<hr />

<p>
<em>Contributeurs : <a href="http://doc.ubuntu-fr.org/utilisateurs/ouranos999" class="wikilink2" title="utilisateurs:ouranos999" rel="nofollow">Ouranos999</a> , <a href="http://doc.ubuntu-fr.org/utilisateurs/honeyshell" class="wikilink1" title="utilisateurs:honeyshell">honeyshell</a> .
</p>

</div>

<!-- no cachefile used, but created /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/d/d870a9a267933fa3b4e41a621d501b20.xhtml -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="../../index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/ikthus/cope_live_usb_persistant_methode2?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/ikthus/cope_live_usb_persistant_methode2?do=edit&amp;rev=0"  class="action source" accesskey="v" rel="nofollow" title="Afficher le texte source [V]">Afficher le texte source</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/ikthus/cope_live_usb_persistant_methode2?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/ikthus/cope_live_usb_persistant_methode2?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/ikthus/cope_live_usb_persistant_methode2?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="../../wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="../../documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
