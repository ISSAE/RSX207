<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>utilisateurs:cortex:essai_easycap - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2009-01-08T20:03:28+0100"/>
<meta name="keywords" content="materiel,gutsy,carte tv,brouillon"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="../../index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/utilisateurs/cortex/essai_easycap?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="../../feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="http://doc.ubuntu-fr.org/feed.php?mode=list&amp;ns=utilisateurs:cortex"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/utilisateurs/cortex/essai_easycap"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/utilisateurs/cortex/essai_easycap"/>
<link rel="canonical" href="essai_easycap"/>
<link rel="stylesheet" type="text/css" href="../../lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='utilisateurs:cortex';var JSINFO = {"id":"utilisateurs:cortex:essai_easycap","namespace":"utilisateurs:cortex"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../../lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="essai_easycap#main" tabindex="1">Contenu</a> | <a href="essai_easycap#qsearch__in" tabindex="2">Rechercher</a> | <a href="essai_easycap#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="../../index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="essai_easycap" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="essai_easycap" >utilisateurs:cortex:essai_easycap</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="essai_easycap#particularite">Particularité</a></div></li>
<li class="level1"><div class="li"><a href="essai_easycap#compatibilite">Compatibilité</a></div></li>
<li class="level1"><div class="li"><a href="essai_easycap#pre-requis">Pré-requis</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="essai_easycap#installation">Installation</a></div></li>
<li class="level2"><div class="li"><a href="essai_easycap#utilisation">Utilisation</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<p>
<p><div class="noteclassic">Le wiki est accessible aux utilisateurs relativement débutants mais les explications (pas toujours claires) nécessitent d&#039;avoir un peu plus d&#039;experience. Si vous avez le m^eme matériel que moi, aucun probléme, il suffit de suivre les instructions de modifications
</div></p>
</p>
<div class="tags"><span>
	<a href="../../materiel" class="wikilink1" title="materiel" rel="tag">matériel</a>,
	<a href="../../gutsy" class="wikilink1" title="gutsy" rel="tag">gutsy</a>,
	<a href="http://doc.ubuntu-fr.org/carte_tv" class="wikilink1" title="carte_tv" rel="tag">carte tv</a>,
	<a href="../../brouillon" class="wikilink1" title="brouillon" rel="tag">brouillon</a>
</span></div>
<hr />

<h1 class="sectionedit1" id="easycap_et_autre_materiel_em28xx_generique">EasyCAP et autre materiel em28xx générique</h1>
<div class="level1">

</div>

<h2 class="sectionedit2" id="particularite">Particularité</h2>
<div class="level2">

<p>
Ce peripherique d&#039;acquisition vidéo ne dispose pas de tuner, ce qui n&#039;est malheureusement pas commun et les aides à l&#039;installation sont plus rares.
</p>

</div>

<h2 class="sectionedit3" id="compatibilite">Compatibilité</h2>
<div class="level2">

<p>
Le matériel qui a donné lieu à cette &quot;bidouille&quot; est le suivant : 
<a href="http://www.szforwardvideo.com/en/Skins009/products/show.asp?ProID=145&amp;SearchMaxID=12" class="urlextern" title="http://www.szforwardvideo.com/en/Skins009/products/show.asp?ProID=145&amp;SearchMaxID=12"  rel="nofollow">http://www.szforwardvideo.com/en/Skins009/products/show.asp?ProID=145&amp;SearchMaxID=12</a>
</p>

<p>
ID fabricant: 0xeb1a et ID produit: 0x2861
</p>

<p>
Il semble que l&#039;ID fabricant &quot;0xeb1a&quot; désigne les produits génériques et l&#039; ID produit &quot;0x2861&quot;, le type de chip (dans mon cas c&#039;est un em2861). Je pense que la méthode qui suit s&#039;applique à n&#039;importe quel peripherique générique em28xx.
</p>

<p>
NB: des versions d&#039;easyCAP DC60 (plus recente ?) comportent un chipset bridge de type syntek1160. Aucun module kernel n&#039;est pour l&#039;instant disponible pour cette version de bridge. un projet est en cours : <a href="http://syntekdriver.sourceforge.net/" class="urlextern" title="http://syntekdriver.sourceforge.net/"  rel="nofollow">http://syntekdriver.sourceforge.net/</a>
</p>

</div>

<h2 class="sectionedit4" id="pre-requis">Pré-requis</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Disposer des <a href="../../sudo" class="wikilink1" title="sudo">droits d&#039;administration</a> ;</div>
</li>
<li class="level1"><div class="li"> Disposer d&#039;une connexion à Internet configurée et activée ;</div>
</li>
<li class="level1"><div class="li"> Avoir une source du noyau linux et état pour compiler des pilotes (cf <a href="http://doc.ubuntu-fr.org/tutoriel???" class="wikilink1" title="tutoriel">Préparer linux-source pour compiler un pilote</a> « A faire ?)</div>
</li>
</ul>

</div>

<h3 class="sectionedit5" id="installation">Installation</h3>
<div class="level3">

<p>
C&#039;est la méthode &quot;classique&quot; d&#039;installation des peripheriques vidéos <abbr title="Universal Serial Bus">USB</abbr> sauf qu&#039;il vas faloir modifier la source du pilote avant de compiler.
</p>

</div>

<h5 id="telechargement">Téléchargement</h5>
<div class="level5">
<pre class="code">sudo apt-get install mercurial
cd ~/
hg clone http://mcentral.de/hg/~mrec/v4l-dvb-kernel/</pre>

</div>

<h5 id="modification_de_la_source">Modification de la source</h5>
<div class="level5">

<p>
Edition du fichier em28xx-cards.c:
</p>
<pre class="code">gedit ~/v4l-dvb-kernel/linux/drivers/media/video/em28xx/em28xx-cards.c</pre>

<p>
Lignes 1934 et suivantes, il y a la liste des peripheriques en fonction des ID fabricant et produit. Dans mon cas, la ligne interessante est:
</p>
<pre class="code">{ USB_DEVICE(0xeb1a, 0x2861), .driver_info = EM2861_BOARD_GENERIC },</pre>

<p>
On retrouve ID fabricant: 0xeb1a et ID produit: 0x2861.
Il faut que je modifie les propriétés de EM2861_BOARD_GENERIC : ça se trouve ligne 61 : 
</p>
<pre class="code">[EM2861_BOARD_GENERIC] = {
		.name         = &quot;Generic EM2861 video grabber&quot;,
	},</pre>

<p>
Si on compare avec les autres cartes, on constate qu&#039;il n&#039;y a aucun descriptif du produit, le pilote ne sait pas ce que la carte est capable de faire et ne vas rien prendre en charge. 
On specifie donc les caracteristiques de notre péripherique : 
</p>
<pre class="code">[EM2861_BOARD_GENERIC] = {
		.name         = &quot;Generic EM2861 video grabber&quot;,
		.vchannels     = 2,
		.norm          = V4L2_STD_PAL,
		.decoder       = EM28XX_SAA7113,
		.has_tuner     = 0,
		.dev_modes      = EM28XX_VIDEO,
		.input           = {{
			.type     = EM28XX_VMUX_COMPOSITE1,
			.vmux     = SAA7115_COMPOSITE0,
			.amux     = 1,
		},{
			.type     = EM28XX_VMUX_SVIDEO,
			.vmux     = SAA7115_SVIDEO3,
			.amux     = 1,
		}},
		.tvnorms	= {
			{
				.name = &quot;NTSC&quot;,
				.id = V4L2_STD_NTSC,
		},{
				.name = &quot;PAL&quot;,
				.id = V4L2_STD_PAL,
		}},
	},</pre>

<p>
Voila ma configuration. Je l&#039;ai faite en copiant/modifiant les autres configurations présentes dans le fichier.
Le décodeur est un SAA7113 (un &quot;dmesg&quot; aprés branchement de la clé avec le pilote em28xx d&#039;origine detecte ce décodeur).
Je peux avoir l&#039;image depuis l&#039;entré composite, en PAL et NTSC.
Je n&#039;ai rien pour tester l&#039;entré svidéo donc les propositions de modifications sont les bienvenues. En ce qui concerne le son, il est actif mais de trés mauvaise qualité, là aussi si vous avez mieux…
</p>

<p>
Une fois le fichier modifié, enregistrez le.
</p>

</div>

<h5 id="compilation">Compilation</h5>
<div class="level5">
<pre class="code">cd ~/v4l-dvb-kernel/
make
sudo make install</pre>

</div>

<h3 class="sectionedit6" id="utilisation">Utilisation</h3>
<div class="level3">

<p>
Au cas où une autre version d&#039;em28xx soit déjà chargée,
</p>
<pre class="code">sudo rmmod em28xx</pre>

<p>
Ensuite, il suffit de blancher l&#039; EasyCAP.
Une petite verification s&#039;impose: 
</p>
<pre class="code">cortex@ubuntu:~$dmesg | grep em28xx
...
V4L2 device registered as /dev/video0
...</pre>

<p>
Cette ligne permet de savoir quel &quot;device&quot; est utilisé.
</p>

<p>
Maintenant ce n&#039;est plus qu&#039;un problème logiciel. Il faut lire la vidéo à partir de &quot;video for linux 2&quot; (v4l2). J&#039;utilise mplayer (disponible dans les <a href="../../depots" class="wikilink1" title="depots">dépôts APT</a> <code>universe</code> et <code>multiverse</code>).
</p>
<pre class="code">mplayer tv:// -tv driver=v4l2</pre>

</div>

<!-- no cachefile used, but created /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/4/425570c50f4bb426d479a37e6cccd74c.xhtml -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="../../index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/cortex/essai_easycap?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/cortex/essai_easycap?do=edit&amp;rev=0"  class="action source" accesskey="v" rel="nofollow" title="Afficher le texte source [V]">Afficher le texte source</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/cortex/essai_easycap?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/cortex/essai_easycap?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/utilisateurs/cortex/essai_easycap?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="../../wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="../../documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
