<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <meta http-equiv="Content-Style-Type" content="text/css"/>
    <meta http-equiv="Content-Language" content="fr"/>
    <title>synthese_vocale - Documentation Ubuntu Francophone</title>
    <meta name="Description" content="Documentation francophone pour la distribution Ubuntu" lang="fr" />
    <meta name="language" content="fr-FR" />

    <!--[if IE 8]>
    <meta http-equiv="X-UA-Compatible" content="IE=8" />
    <![endif]-->
        <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="date" content="2015-03-11T20:08:22+0100"/>
<meta name="keywords" content="portail,accessibilite,audio,multimedia"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="Documentation Ubuntu Francophone"/>
<link rel="start" href="index.html"/>
<link rel="contents" href="http://doc.ubuntu-fr.org/synthese_vocale?do=index" title="Plan du site"/>
<link rel="alternate" type="application/rss+xml" title="Derniers changements" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Namespace actuel" href="feed.php?mode=list&amp;ns="/>
<link rel="edit" title="Modifier cette page" href="http://doc.ubuntu-fr.org/synthese_vocale?do=edit"/>
<link rel="alternate" type="text/html" title="HTML brut" href="http://doc.ubuntu-fr.org/_export/xhtml/synthese_vocale"/>
<link rel="alternate" type="text/plain" title="Wiki balise" href="http://doc.ubuntu-fr.org/_export/raw/synthese_vocale"/>
<link rel="canonical" href="synthese_vocale"/>
<link rel="stylesheet" type="text/css" href="lib/exe/css.php?t=ubuntu-2010&amp;tseed=4af22dedc19f28c99fa67afabbb173df"/>
<script type="text/javascript">/*<![CDATA[*/var NS='';var JSINFO = {"id":"synthese_vocale","namespace":""};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php?tseed=4af22dedc19f28c99fa67afabbb173df"></script>
    <link rel="shortcut icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/icone.png" type="image/x-icon" />
    <link rel="apple-touch-icon" href="http://www-static.ubuntu-fr.org/theme2010/images/commun/ubuntu/touch-ico.png" />

    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc.css" />
    <link rel="stylesheet" media="screen" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-ubuntu.css" />
    <link rel="stylesheet" media="print" type="text/css" title="Design Ubuntu-fr" href="http://www-static.ubuntu-fr.org/theme2010/css/doc-print.css" />

    <script type="text/javascript">
      var menu_hidden;
      var static_url = "UFR_STATIC";
    </script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/menu.js" type="text/javascript"></script>
    <script src="http://www-static.ubuntu-fr.org/theme2010/js/common.js" type="text/javascript"></script>
  </head>
  <body>

    <div id="accessibar">
      <a href="synthese_vocale#main" tabindex="1">Contenu</a> | <a href="synthese_vocale#qsearch__in" tabindex="2">Rechercher</a> | <a href="synthese_vocale#navigation" tabindex="3">Menus</a>
    </div>

    <div id="page">

      <div id="header">

        <div id="logo">
          <h1>Ubuntu-fr</h1>
          <a href="index.html" title="Accueil de la documentation">Communauté francophone d'utilisateurs d'Ubuntu</a>
        </div>

        <form action="http://ubuntu-fr.org/recherche" accept-charset="utf-8" id="search" onsubmit="if (document.getElementById('qsearch__in').value == 'Recherche rapide....') {document.getElementById('qsearch__in').value = '';}">
          <fieldset>
            <label for="qsearch__in">Recherche : </label><input type="text" value="Recherche rapide...." id="qsearch__in" accesskey="f" name="sk_q" alt="[F]" size="34" tabindex="4" />
            <label for="tsearch_field">Chercher dans : </label><select name="sk_engine" tabindex="5" id="tsearch_field" title="Chercher dans">
              <option value="all">Site</option>
              <option selected="selected" value="doc">Documentation</option>
              <option value="forum">Forum</option>
              <option value="planet">Planet</option>
            </select>
            <input type="submit" value="ok" class="button" alt="Lancer la recherche" tabindex="5" />
          </fieldset>
        </form>
        <!--[if lte IE 7]><div class="clear"></div><![endif]-->

        <form action="synthese_vocale" accept-charset="utf-8" id="login_top" method="post">
          <fieldset>
            <label for="u_field">Identifiant : </label><input type="text" value="Identifiant" name="u" id="u_field" size="9" /><label for="p_field">Mot de passe : </label><input type="password" value="Mot de passe" name="p" id="p_field" size="9" alt="Mot de passe" /><input type="submit" value="connexion" id="connect" /> / <a href="http://forum.ubuntu-fr.org/register.php">inscription</a>
          </fieldset>
        </form>
 

      </div>

      <div id="navbar">
          <h2 id="pagetitle"><a href="synthese_vocale" >synthese_vocale</a></h2>
      </div>

      
      <div id="main" class="dokuwiki">

        <div id="hidemenu" title="Masquer le menu"></div>

        <div id="pagerror"></div>
                <!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table des matières</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="synthese_vocale#integration_dans_des_logiciels">Intégration dans des logiciels</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="synthese_vocale#logiciels_avec_synthese_vocale">Logiciels avec synthèse vocale</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#synthese_vocale_dans_pidgin_simple">Synthèse vocale dans Pidgin (simple)</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#dans_le_dictionnaire_stardict_simple">Dans le dictionnaire Stardict (simple)</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#synthese_vocale_dans_libreoffice_ou_apache_openoffice_simple">Synthèse vocale dans LibreOffice ou Apache Openoffice  (simple)</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#synthese_vocale_dans_firefox">Synthèse vocale dans Firefox</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="synthese_vocale#integration_dans_l_environnement_de_bureau">Intégration dans l&#039;environnement de bureau</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="synthese_vocale#pour_gnome_-_avec_des_scripts_utilisateur_avance">Pour Gnome - avec des scripts (utilisateur avancé)</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#pour_kde">Pour KDE</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#programme_console">Programme console</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#autres_environnements">Autres environnements</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="synthese_vocale#les_logiciels_de_synthese_vocale_en_detail">Les logiciels de synthèse vocale en détail</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="synthese_vocale#festival">Festival</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#svox_pico_tts">SVOX pico TTS</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#espeak">Espeak</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#mbrola">MBROLA</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="synthese_vocale#voir_aussi">Voir aussi</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="synthese_vocale#liens">Liens</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#tutoriaux">Tutoriaux</a></div></li>
<li class="level2"><div class="li"><a href="synthese_vocale#ressourcesdes_voix">Ressources : des voix</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="synthese_vocale#pages_en_rapport">Pages en rapport</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->
<div class="tags"><span>
	<a href="portail" class="wikilink1" title="portail" rel="tag">portail</a>,
	<a href="accessibilite" class="wikilink1" title="accessibilite" rel="tag">accessibilité</a>,
	<a href="http://doc.ubuntu-fr.org/audio" class="wikilink1" title="audio" rel="tag">audio</a>,
	<a href="multimedia" class="wikilink1" title="multimedia" rel="tag">multimédia</a>
</span></div>
<hr />

<h1 class="sectionedit1" id="synthese_vocale">Synthèse vocale</h1>
<div class="level1">

<p>
La <strong>synthèse vocale</strong> (ou TTS, pour <em>Text To Speech</em>) consiste à transformer un texte en suite de sons se rapprochant autant que possible de la parole humaine. Une des applications les plus évidentes de la synthèse vocale est l&#039;accessibilité pour les mal-voyants. Il existe plusieurs synthétiseurs vocaux sous Linux, cette page ne se veut pas exhaustive.
</p>

<p>
La synthèse vocale procède en trois temps :
</p>
<ol>
<li class="level1"><div class="li"> transformation du texte en <a href="http://fr.wikipedia.org/wiki/Phonème" class="interwiki iw_wpfr" title="http://fr.wikipedia.org/wiki/Phonème">phonèmes</a> ;</div>
</li>
<li class="level1"><div class="li"> <a href="http://fr.wikipedia.org/wiki/Prosodie" class="interwiki iw_wpfr" title="http://fr.wikipedia.org/wiki/Prosodie">prosodie</a> (ajout d&#039;informations de  prononciation : accents toniques, indication de durée, etc.) ;</div>
</li>
<li class="level1"><div class="li"> assembler des sons pré-enregistrés en suivant les règles établies par les deux premières étapes.</div>
</li>
</ol>

<p>
Pour en savoir plus : <a href="http://fr.wikipedia.org/wiki/Synthèse_vocale" class="interwiki iw_wpfr" title="http://fr.wikipedia.org/wiki/Synthèse_vocale">Wikipedia</a> (fr), <a href="http://download.gna.org/lliaphon/devguide.pdf" class="urlextern" title="http://download.gna.org/lliaphon/devguide.pdf"  rel="nofollow">Llia_Phon</a> (fr).
</p>

<p>
Ce document a pour but de présenter la mise en œuvre de quelques solutions. 
</p>

<p>
Comme la <a href="reconnaissance_vocale" class="wikilink1" title="reconnaissance_vocale">reconnaissance vocale</a> va de pair avec la <strong>synthèse vocale</strong> vous serez sans doute intéressé par le site <a href="http://www.voxforge.org/fr" class="urlextern" title="http://www.voxforge.org/fr"  rel="nofollow">VoxForge.org</a>. Vous pouvez y enregistrer un texte qui permettra d&#039;intégrer votre voix dans les modèles de reconnaissance vocale, et ainsi les améliorer.
</p>

<p>
<p><div class="notetip">Certains logiciels open source sont compatibles avec les voix windows (dont certaines peuvent être libres, ou gratuites pour une utilisation non commerciale, voir <span class="curid"><a href="synthese_vocale#ressources_des_voix" class="wikilink1" title="synthese_vocale">ressources</a></span> ).

</div></p>
</p>

<p>
<p><div class="notetip">Il serait utile de continuer la page dans une vision simple en tirant les idées manquantes de :
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://blinuxman.net/edu/fr/EduVocale.txt" class="urlextern" title="http://blinuxman.net/edu/fr/EduVocale.txt"  rel="nofollow">La fiche EDU pour une solution vocale en Français sous la console GNU/Linux</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://vinux.org.uk/" class="urlextern" title="http://vinux.org.uk/"  rel="nofollow">Vinux- distribution et live CD destiné au déficient visuel</a>.</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.culte.org/projets/biglux/install/lao/festival.shtml" class="urlextern" title="http://www.culte.org/projets/biglux/install/lao/festival.shtml"  rel="nofollow">projet biglux</a></div>
</li>
</ul>

<p>

</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_1'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Synthèse vocale] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="57-1965" /><input type="submit" value="Modifier" class="button" title="Synthèse vocale" /></div></form></div>
<h2 class="sectionedit2" id="integration_dans_des_logiciels">Intégration dans des logiciels</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_2'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Intégration dans des logiciels] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="1966-2009" /><input type="submit" value="Modifier" class="button" title="Intégration dans des logiciels" /></div></form></div>
<h3 class="sectionedit3" id="logiciels_avec_synthese_vocale">Logiciels avec synthèse vocale</h3>
<div class="level3">

<p>
Il ne s&#039;agit en fait souvent que d&#039;interface se basant sur un moteur de synthèse vocale (festival, espeak, etc.) :
</p>
<ul>
<li class="level1"><div class="li"> <a href="orca" class="wikilink1" title="orca">Orca</a> : outil par défaut d&#039;Ubuntu, fonctionne avec les programmes couramment utilisés (Navigateur web, Office, Client mail, terminal, etc.)</div>
</li>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/abuledu-volubil" class="wikilink1" title="abuledu-volubil">Volubil</a> : outil destiné aux enfants.</div>
</li>
<li class="level1"><div class="li"> <a href="http://doc.ubuntu-fr.org/gespeaker" class="wikilink1" title="gespeaker">Gespeaker</a> : Faire lire ou lire le texte que vous tapez dans une case texte.</div>
</li>
<li class="level1"><div class="li"> <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=108430" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=108430"  rel="nofollow">Pico</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://linuxinnovations.blogspot.fr/2012/05/jspeak-ultimate-in-linux-text-to-speach.html" class="urlextern" title="http://linuxinnovations.blogspot.fr/2012/05/jspeak-ultimate-in-linux-text-to-speach.html"  rel="nofollow">Jspeak, lecteur de presse-papier (GPLv3)</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.letime.net/vocale" class="urlextern" title="http://www.letime.net/vocale"  rel="nofollow">http://www.letime.net/vocale</a> : destiné aux enfants pour jouer avec la musique. Il donne aussi la possibilité de modifier la voix en fichier texte.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_3'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Logiciels avec synthèse vocale] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="2010-2836" /><input type="submit" value="Modifier" class="button" title="Logiciels avec synthèse vocale" /></div></form></div>
<h3 class="sectionedit4" id="synthese_vocale_dans_pidgin_simple">Synthèse vocale dans Pidgin (simple)</h3>
<div class="level3">

<p>
La synthèse vocale dans Pidgin avec :
</p>
<ul>
<li class="level1"><div class="li"> <a href="apt://pidgin-festival" class="urlextern" title="apt://pidgin-festival"  rel="nofollow">pidgin-festival</a> : s&#039;installe en 1 clic (installe Festival et Pidgin s&#039;ils ne sont pas déjà installés). Vous pouvez déjà activer le plugin dans Pidgin, mais vous n&#039;aurez qu&#039;une voix anglaise. Il vous reste donc à installer une voix française et la sélectionner.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_4'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Synthèse vocale dans Pidgin (simple)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="2837-3226" /><input type="submit" value="Modifier" class="button" title="Synthèse vocale dans Pidgin (simple)" /></div></form></div>
<h3 class="sectionedit5" id="dans_le_dictionnaire_stardict_simple">Dans le dictionnaire Stardict (simple)</h3>
<div class="level3">

<p>
Vous pouvez installer :
</p>
<ul>
<li class="level1"><div class="li"> <a href="apt://stardict-plugin-festival" class="urlextern" title="apt://stardict-plugin-festival"  rel="nofollow">le plugin Festival</a></div>
</li>
<li class="level1"><div class="li"> <a href="apt://stardict-plugin-espeak" class="urlextern" title="apt://stardict-plugin-espeak"  rel="nofollow">le plugin Espeak</a></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_5'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Dans le dictionnaire Stardict (simple)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="3227-3413" /><input type="submit" value="Modifier" class="button" title="Dans le dictionnaire Stardict (simple)" /></div></form></div>
<h3 class="sectionedit6" id="synthese_vocale_dans_libreoffice_ou_apache_openoffice_simple">Synthèse vocale dans LibreOffice ou Apache Openoffice  (simple)</h3>
<div class="level3">

<p>
Il suffit d&#039;installer l&#039;<a href="http://extensions.services.openoffice.org/project/Read_Text" class="urlextern" title="http://extensions.services.openoffice.org/project/Read_Text"  rel="nofollow">extension readtext</a> (compatible Festival, Pico et Espeak).
</p>

<p>
Voir <a href="libreoffice#installer_une_extension" class="wikilink1" title="libreoffice">comment installer une extension dans Libreoffice</a>.
</p>

</div>
<div class='secedit editbutton_section editbutton_6'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Synthèse vocale dans LibreOffice ou Apache Openoffice  (simple)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="3414-3732" /><input type="submit" value="Modifier" class="button" title="Synthèse vocale dans LibreOffice ou Apache Openoffice  (simple)" /></div></form></div>
<h3 class="sectionedit7" id="synthese_vocale_dans_firefox">Synthèse vocale dans Firefox</h3>
<div class="level3">

<p>
<a href="http://www.firevox.clcworld.net/clc-4-tts_bundle_v4.0_release.xpi" class="urlextern" title="http://www.firevox.clcworld.net/clc-4-tts_bundle_v4.0_release.xpi"  rel="nofollow">Cliquer ici pour installer l&#039;extension FIREVOX, pour firefox</a> (clicspeak y est intégré)
</p>

<p>
Basé sur <a href="http://clickspeak.clcworld.net/installation_linux.html" class="urlextern" title="http://clickspeak.clcworld.net/installation_linux.html"  rel="nofollow">Clickspeak</a>.
</p>

<p>
Compatible :SAPI 5, Java FreeTTS, et ORCA
</p>

<p>
Voir le forum Ubuntu anglais pour l&#039;installation de <a href="http://ubuntuforums.org/archive/index.php/t-363915.html" class="urlextern" title="http://ubuntuforums.org/archive/index.php/t-363915.html"  rel="nofollow">clicspeak</a> : et mettre à jour cette partie. Merci.
</p>

<p>
Vous pouvez également utiliser Mathspeak pour la lecture de formule mathématique.
</p>

</div>
<div class='secedit editbutton_section editbutton_7'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Synthèse vocale dans Firefox] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="3733-4309" /><input type="submit" value="Modifier" class="button" title="Synthèse vocale dans Firefox" /></div></form></div>
<h2 class="sectionedit8" id="integration_dans_l_environnement_de_bureau">Intégration dans l&#039;environnement de bureau</h2>
<div class="level2">

<p>
Il est possible d&#039;intégrer ces solutions dans votre environnement de bureau, afin de faire lire le contenu des répertoires ou des pages internet par exemple.
</p>

</div>
<div class='secedit editbutton_section editbutton_8'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Intégration dans l'environnement de bureau] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="4310-4526" /><input type="submit" value="Modifier" class="button" title="Intégration dans l'environnement de bureau" /></div></form></div>
<h3 class="sectionedit9" id="pour_gnome_-_avec_des_scripts_utilisateur_avance">Pour Gnome - avec des scripts (utilisateur avancé)</h3>
<div class="level3">

<p>
Voici quelques exemples d&#039;intégration pour l&#039;environnement Gnome. Pensez à adapter la configuration du script à votre convenance.
</p>

</div>

<h4 id="lire_le_texte_selectionne_a_l_ecran">Lire le texte sélectionné à l&#039;écran</h4>
<div class="level4">

<p>
<p><div class="noteimportant">L&#039;utilisation du premier script décrit ci-dessous nécessite l&#039;activation de Compiz.
Vous pouvez néanmoins utiliser comme alternative un lanceur intégré au tableau de bord.
</div></p>
</p>

<p>
Pour faire marcher ce script, enregistrez-le où vous voulez et rendez-le exécutable. Il faut <a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://xclip" class="urlextern" title="apt://xclip"  rel="nofollow">xclip</a></strong>.
Ensuite, aller dans les préférences générales de Compiz (Menu S<em>ystème → Préférences → Advanced Desktop Effects Settings → General Option</em>). Sous l&#039;onglet « Commands », choisissez une ligne vide et rentrez-y le chemin vers votre script, sous la forme « /chemin/vers/le/script/nom_du_script ».
Ensuite, sous l&#039;onglet « Actions » et la sous-partie « Commands », éditez le raccourci correspondant à la ligne où vous avez rentré le script (personnellement, j&#039;utilise Ctrl–D en raccourci clavier, mais c&#039;est vous qui voyez).
L&#039;utilisation est simple, vous sélectionnez du texte à l&#039;écran, puis vous tapez votre raccourci. Une seconde pression sur le raccourci pendant la lecture l&#039;interrompt.
</p>
<pre class="code bash"><span class="co0">#!/bin/bash</span>
&nbsp;
<span class="co0">######### Début de la section de configuration #########</span>
&nbsp;
<span class="co0"># définition de la voix à utiliser par Mbrola, à adapter selon la voix choisie et son chemin</span>
<span class="re2">VOIX</span>=<span class="sy0">/</span>opt<span class="sy0">/</span>fr2<span class="sy0">/</span>fr2
<span class="co0"># TYPE=mb/mb-fr4 # à décommenter si vous avez téléchargé une voix de femme</span>
<span class="co0"># TYPE=mb/mb-fr1 # à décommenter si vous avez téléchargé une voix d'homme</span>
&nbsp;
<span class="co0">######### Fin de la section de configuration #########</span>
&nbsp;
<span class="co0"># on teste si la lecture est en cours, pour l'arrêter le cas échéant</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="sy0">!</span> <span class="re5">-z</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
     <span class="kw2">kill</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span>
&nbsp;
<span class="kw1">else</span>
	<span class="co0"># On traduit la sélection en phonèmes grâce à espeak, et on l'envoie à Mbrola</span>
	xclip <span class="re5">-o</span> <span class="sy0">|</span> espeak <span class="re5">-v</span> <span class="re1">$TYPE</span> <span class="re5">-s</span> <span class="nu0">150</span> <span class="re5">-p</span> <span class="nu0">40</span> <span class="st0">&quot;$@&quot;</span> <span class="sy0">|</span> mbrola <span class="re1">$VOIX</span> - -.au <span class="sy0">|</span> <span class="kw2">aplay</span>
<span class="kw1">fi</span></pre>

<p>
Edit d&#039;un autre utilisateur : Ou bien ci-dessous, une alternative avec un menu Zenity pour choisir la langue. Il faut bien sûr ne pas oublier de télécharger cette langue (us1 dans mon exemple) comme vous l&#039;avez fait pour la langue fr4.
J&#039;ai aussi changé la boucle &quot;if-else&quot; pour un meilleur fonctionnement si Mbrola est déjà en cours.
</p>
<pre class="code bash"><span class="co0">#!/bin/bash</span>
&nbsp;
<span class="co0">##### Affiche le menu Zenity #####</span>
&nbsp;
<span class="re2">choix</span>=<span class="sy0">`</span>zenity <span class="re5">--list</span> <span class="re5">--title</span>=<span class="st0">&quot;Choisissez la langue&quot;</span> <span class="re5">--column</span>=<span class="st0">&quot;N°&quot;</span> <span class="re5">--column</span>=<span class="st0">&quot;Langue&quot;</span> <span class="re5">--height</span>=<span class="st0">&quot;200&quot;</span> \
<span class="nu0">1</span> français \
<span class="nu0">2</span> anglais <span class="sy0">`</span>
&nbsp;
<span class="co0">##### Sélection automatique de la langue choisie dans le menu Zenity ##### </span>
&nbsp;
<span class="kw1">case</span> <span class="re1">$choix</span> <span class="kw1">in</span>
 <span class="nu0">1</span> <span class="br0">&#41;</span> <span class="re2">VOIX</span>=<span class="sy0">/</span>opt<span class="sy0">/</span>fr2<span class="sy0">/</span>fr2 <span class="sy0">&amp;&amp;</span> <span class="re2">TYPE</span>=mb<span class="sy0">/</span>mb-fr4 <span class="sy0">;;</span> <span class="co0"># pour une voix de femme en français</span>
 <span class="nu0">2</span> <span class="br0">&#41;</span> <span class="re2">VOIX</span>=<span class="sy0">/</span>opt<span class="sy0">/</span>us1<span class="sy0">/</span>us1 <span class="sy0">&amp;&amp;</span> <span class="re2">TYPE</span>=mb<span class="sy0">/</span>mb-us1  <span class="sy0">;;</span> <span class="co0"># pour une voix de femme en anglais</span>
<span class="kw1">esac</span>
&nbsp;
<span class="co0"># on teste si la lecture est en cours, pour l'arrêter le cas échéant</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="sy0">!</span> <span class="re5">-z</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
     <span class="kw2">kill</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">sleep</span> <span class="nu0">2</span>
<span class="kw1">fi</span>
&nbsp;
<span class="co0"># On traduit la sélection en phonèmes grâce à Espeak, et on l'envoie à Mbrola</span>
xclip <span class="re5">-o</span> <span class="sy0">|</span> espeak <span class="re5">-v</span> <span class="re1">$TYPE</span> <span class="re5">-s</span> <span class="nu0">150</span> <span class="re5">-p</span> <span class="nu0">40</span> <span class="st0">&quot;$@&quot;</span> <span class="sy0">|</span> mbrola <span class="re1">$VOIX</span> - -.au <span class="sy0">|</span> <span class="kw2">aplay</span></pre>

</div>

<h4 id="lire_le_contenu_d_un_fichier_texte">Lire le contenu d&#039;un fichier texte</h4>
<div class="level4">

<p>
Placez ce script dans « /home/VOTRE_LOGIN/.gnome2/nautilus-scripts/ » et le rendre exécutable. Il permet, par un clic droit sur un fichier, menu <em>Scripts → nom_de_votre_script</em>, de lire le contenu de ce fichier. Refaire cette opération pendant la lecture en cours interrompra la lecture.
</p>
<pre class="code bash"><span class="co0">#!/bin/bash</span>
&nbsp;
<span class="co0">######### Début de la section de configuration #########</span>
&nbsp;
<span class="co0"># définition de la voix à utiliser par Mbrola, à adapter selon la voix choisie et son chemin :</span>
<span class="re2">VOIX</span>=<span class="sy0">/</span>opt<span class="sy0">/</span>fr2<span class="sy0">/</span>fr2
<span class="re2">TYPE</span>=mb<span class="sy0">/</span>mb-fr4
<span class="co0"># TYPE=mb/mb-fr1 # à décommenter si vous avez téléchargé une voix d'homme</span>
&nbsp;
<span class="co0">######### Fin de la section de configuration #########</span>
&nbsp;
<span class="co0"># on teste si la lecture est en cours, pour l'arrêter le cas échéant</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="sy0">!</span> <span class="re5">-z</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
     <span class="kw2">kill</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span>
&nbsp;
<span class="kw1">else</span>
	<span class="co0"># On traduit le fichier en phonèmes grâce à espeak, et on l'envoie à Mbrola</span>
	espeak <span class="re5">-v</span> <span class="re1">$TYPE</span> <span class="re5">-s</span> <span class="nu0">150</span> <span class="re5">-f</span> <span class="st0">&quot;$@&quot;</span> <span class="sy0">|</span> mbrola <span class="re1">$VOIX</span> - -.au <span class="sy0">|</span> <span class="kw2">aplay</span>
<span class="kw1">fi</span></pre>

</div>

<h4 id="lire_la_liste_des_elements_contenus_dans_un_repertoire">Lire la liste des éléments contenus dans un répertoire</h4>
<div class="level4">

<p>
Placez ce script dans /home/VOTRE_LOGIN/.gnome2/nautilus-scripts/ et le rendre exécutable. Il permet par un clic droit sur un répertoire, menu scripts / nom_de_votre_script de lire le contenu de ce répertoire. Refaire cette opération pendant la lecture en cours interrompra la lecture.
</p>
<pre class="code bash"><span class="co0">#!/bin/bash</span>
&nbsp;
<span class="co0">######### Début de la section de configuration #########</span>
&nbsp;
<span class="co0"># définition de la voix à utiliser par Mbrola, à adapter selon la voix choisie et son chemin</span>
<span class="re2">VOIX</span>=<span class="sy0">/</span>opt<span class="sy0">/</span>fr2<span class="sy0">/</span>fr2
<span class="co0"># TYPE=mb/mb-fr4 # à décommenter si vous avez téléchargé une voix de femme</span>
<span class="co0"># TYPE=mb/mb-fr1 # à décommenter si vous avez téléchargé une voix d'homme</span>
&nbsp;
<span class="co0">######### Fin de la section de configuration #########</span>
&nbsp;
<span class="co0"># on teste si la lecture est en cours, pour l'arrêter le cas échéant</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="sy0">!</span> <span class="re5">-z</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
     <span class="kw2">kill</span> $<span class="br0">&#40;</span><span class="kw2">ps</span> <span class="re5">-A</span> <span class="sy0">|</span> <span class="kw2">grep</span> mbrola <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span> <span class="br0">&#41;</span>
&nbsp;
<span class="kw1">else</span>
&nbsp;
   <span class="co0">#On liste les fichiers contenus dans le répertoire ou bien ceux sélectionnés par la souris</span>
   <span class="re2">FICHIERS</span>=<span class="sy0">`</span><span class="kw2">ls</span> <span class="re5">-1</span> <span class="re5">--quoting-style</span>=c <span class="st0">&quot;$@&quot;</span><span class="sy0">`</span>
&nbsp;
   <span class="kw1">for</span> TEXTE <span class="kw1">in</span> <span class="re1">$FICHIERS</span>
   <span class="kw1">do</span>
&nbsp;
	<span class="co0"># On traduit le fichier texte temporaire en phonèmes grâce à Espeak, et on l'envoie à Mbrola</span>
        espeak <span class="re5">-v</span> <span class="re1">$TYPE</span> <span class="re5">-s</span> <span class="nu0">140</span> <span class="re5">-p</span> <span class="nu0">40</span> <span class="re1">$TEXTE</span> <span class="sy0">|</span> mbrola <span class="re1">$VOIX</span> - -.au <span class="sy0">|</span> <span class="kw2">aplay</span>
   <span class="kw1">done</span>
&nbsp;
<span class="kw1">fi</span></pre>

</div>

<h4 id="lire_le_contenu_du_presse_papier">Lire le contenu du presse papier</h4>
<div class="level4">

<p>
(ou de la sélection, à l&#039;aide d&#039;un raccourci clavier)
</p>

</div>

<h5 id="version_amelioree_sans_besoin_de_compiz">Version améliorée, sans besoin de Compiz</h5>
<div class="level5">

<p>
Au préalable, <a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installez les paquets</a> <strong><a href="apt://xclip,recode,xbindkeys" class="urlextern" title="apt://xclip,recode,xbindkeys"  rel="nofollow">xclip recode xbindkeys</a></strong>
</p>

<p>
Ensuite <a href="synthese_vocale#installation_du_script_diphorect" title="synthese_vocale ↵" class="wikilink1">Installation du script diphorect</a> ⇐cliquez ici, ou voir plus haut
</p>

<p>
Une fois ces paquets et le script installé, faites :
</p>
<pre class="code">gedit &quot;$HOME/.gnome2/nautilus-scripts/Lit le presse papier par synthèse vocale&quot;</pre>

<p>
Copiez-y le script suivant :
<a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=3686193#p3686193" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=3686193#p3686193"  rel="nofollow">Lien vers le forum</a>
</p>

<p>
Sauvegardez et rendez le script exécutable par un :
</p>
<pre class="code">sudo chmod +X &quot;$HOME/.gnome2/nautilus-scripts/Lit le presse papier par synthèse vocale&quot;</pre>

<p>
À partir de là vous pouvez faire lire votre sélection de texte ou le contenu du presse-papier (texte copié par [Ctrl+C] par exemple) en cliquant avec le bouton droit sur le bureau ou une fenêtre nautilus et en choisissant &quot;scripts / lit le contenu…&quot;
</p>

<p>
Pour définir un raccourci clavier regardez la section xbindkeys de la page <a href="tutoriel/comment_creer_raccourcis_clavier" class="wikilink1" title="tutoriel:comment_creer_raccourcis_clavier">comment_creer_raccourcis_clavier</a>
Pour utiliser par exemple [ctrl+F12] pour démarrer arrêter la lecture, utilisez :
</p>
<pre class="code">&quot;$HOME&#039;/.gnome2/nautilus-scripts/Lit le presse papier par synthèse vocale&#039;&quot;
    Control+Mod2 + F12</pre>

<p>
 dans le fichier de configuration de xbindkeys.
</p>

<p>
Et voilà, en principe tout marche !
</p>

<p>
Que ce soit pour me le faire savoir ou parce qu&#039;au contraire vous avez un problème… N&#039;hésitez pas à m&#039;envoyer un message par ici : <a href="http://doc.ubuntu-fr.org/utilisateurs/mysteroid" class="wikilink1" title="utilisateurs:mysteroid">mysteroid</a>.
</p>

<p>
Voici une liste de fil traitant de divers scripts comportant tous une synthèse vocale.
</p>

</div>

<h4 id="script_de_diction_de_l_heure">Script de diction de l&#039;heure</h4>
<div class="level4">

<p>
<a href="http://forum.ubuntu-fr.org/viewtopic.php?id=413946" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=413946"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=413946</a>
</p>

</div>

<h4 id="script_de_diction_du_pourcentage_de_batterie_restant">Script de diction du pourcentage de batterie restant</h4>
<div class="level4">

<p>
<a href="http://forum.ubuntu-fr.org/viewtopic.php?id=413943" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=413943"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=413943</a>
</p>

</div>

<h4 id="reglage_du_volume_avec_assistance_vocale">Réglage du volume avec assistance vocale</h4>
<div class="level4">

<p>
<a href="http://forum.ubuntu-fr.org/viewtopic.php?id=413944" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=413944"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=413944</a>
</p>

</div>

<h4 id="consultation_de_la_boite_gmail">Consultation de la boite Gmail</h4>
<div class="level4">

<p>
<a href="http://forum.ubuntu-fr.org/viewtopic.php?id=413945" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=413945"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=413945</a>
</p>

</div>

<h4 id="aide_a_la_navigation_nautilus">Aide à la navigation Nautilus</h4>
<div class="level4">

<p>
<a href="http://forum.ubuntu-fr.org/viewtopic.php?id=413950" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=413950"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=413950</a>
</p>

<p>
Voilà en espérant que tout cela pourra servir à d&#039;autre…
</p>

</div>
<div class='secedit editbutton_section editbutton_9'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Pour Gnome - avec des scripts (utilisateur avancé)] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="4527-12463" /><input type="submit" value="Modifier" class="button" title="Pour Gnome - avec des scripts (utilisateur avancé)" /></div></form></div>
<h3 class="sectionedit10" id="pour_kde">Pour KDE</h3>
<div class="level3">

<p>
KDE offre une manière élégante et simple <sup><a href="synthese_vocale#fn__1" id="fnt__1" class="fn_top">1)</a></sup><sup><a href="synthese_vocale#fn__2" id="fnt__2" class="fn_top">2)</a></sup> de lire du texte affiché à l&#039;écran : KTTS . 
</p>

<p>
Pour le mettre en place il suffit d&#039;<a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer les paquets</a> <strong><a href="apt://kttsd,ksayit" class="urlextern" title="apt://kttsd,ksayit"  rel="nofollow">kttsd ksayit</a></strong>.
</p>
<ul>
<li class="level1"><div class="li"> kttsd est le démon.</div>
</li>
<li class="level2"><div class="li"> KSayIt une application permettant de lire un document copié ou que l&#039;on tape.</div>
</li>
<li class="level2"><div class="li"> La synthèse vocale sera également intégrée dans Konqueror et dans Kate[3]</div>
</li>
</ul>

<p>
Commençons par créer un script qui enchaîne les différentes étapes, créer /opt/mbrola/tts et insérer :
</p>
<pre class="code =bash"><span class="co0">#!/bin/sh</span>
<span class="kw3">echo</span> <span class="re4">$1</span> <span class="sy0">|</span> iconv <span class="re5">-f</span> UTF-<span class="nu0">8</span> <span class="re5">-t</span> ISO_8859-<span class="nu0">1</span> <span class="sy0">&gt;</span> <span class="re4">$2</span>
<span class="sy0">/</span>opt<span class="sy0">/</span>mbrola<span class="sy0">/</span>lliaphon<span class="sy0">/</span>bin<span class="sy0">/</span>lliaphon <span class="re4">$2</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>log <span class="nu0">2</span><span class="sy0">&gt;&amp;</span><span class="nu0">1</span>
<span class="sy0">/</span>opt<span class="sy0">/</span>mbrola<span class="sy0">/</span>mbrola <span class="re5">-e</span> <span class="re5">-t</span> <span class="nu0">0.75</span> \
      <span class="re5">-I</span> <span class="sy0">/</span>opt<span class="sy0">/</span>mbrola<span class="sy0">/</span>lliaphon<span class="sy0">/</span>share<span class="sy0">/</span>lliaphon<span class="sy0">/</span>initfile.lia \
      <span class="sy0">/</span>opt<span class="sy0">/</span>mbrola<span class="sy0">/</span>fr2<span class="sy0">/</span>fr2 \
      <span class="sy0">`</span><span class="kw3">echo</span> <span class="re4">$2</span><span class="sy0">|</span><span class="kw2">sed</span> s<span class="sy0">/</span>\.txt$<span class="sy0">/</span>\.ola<span class="sy0">/`</span> <span class="re4">$3</span> <span class="sy0">&gt;&gt;</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>log <span class="nu0">2</span><span class="sy0">&gt;&amp;</span><span class="nu0">1</span></pre>

<p>
Sans oublier de donner les droits d&#039;éxecution : 
</p>
<pre class="code"> chmod u+x /opt/mbrola/tts</pre>

<p>
Pour configurer ktts, deux solutions :
</p>
<ul>
<li class="level1"><div class="li"> à partir de KSayIt : Settings/Configure KSayIt/Launch Control Center</div>
</li>
<li class="level2"><div class="li"> en lançant kttsmgr à partir de la ligne de commande</div>
</li>
</ul>

<p>
Puis nous allons configurer kttsmgr pour qu&#039;il utilise le couple lliaphon/mbrola :
</p>
<ul>
<li class="level1"><div class="li"> Talkers / Ajouter / Langue: autre / Synthesizer: Show all - commande</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Choisir la langue dans la fenêtre qui apparaît</div>
</li>
<li class="level1"><div class="li"> Entrez la commande : /opt/mbrola/tts %t %f %w</div>
</li>
<li class="level1"><div class="li">Et voila, relancez Konqueror et vous avez maintenant une option pour lire le texte sélectionné.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_10'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Pour KDE] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="12464-14006" /><input type="submit" value="Modifier" class="button" title="Pour KDE" /></div></form></div>
<h3 class="sectionedit11" id="programme_console">Programme console</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> yasr</div>
</li>
<li class="level1"><div class="li"> screader</div>
</li>
<li class="level1"><div class="li"> eflite (emacspeak)</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_11'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Programme console] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="14007-14080" /><input type="submit" value="Modifier" class="button" title="Programme console" /></div></form></div>
<h3 class="sectionedit12" id="autres_environnements">Autres environnements</h3>
<div class="level3">

<p>
<img src="lib/images/smileys/fixme.gif" class="icon" alt="FIXME" />
</p>

</div>
<div class='secedit editbutton_section editbutton_12'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Autres environnements] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="14081-14119" /><input type="submit" value="Modifier" class="button" title="Autres environnements" /></div></form></div>
<h2 class="sectionedit13" id="les_logiciels_de_synthese_vocale_en_detail">Les logiciels de synthèse vocale en détail</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_13'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Les logiciels de synthèse vocale en détail] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="14120-14178" /><input type="submit" value="Modifier" class="button" title="Les logiciels de synthèse vocale en détail" /></div></form></div>
<h3 class="sectionedit14" id="festival">Festival</h3>
<div class="level3">

<p>
<strong><a href="http://www.cstr.ed.ac.uk/projects/festival/" class="urlextern" title="http://www.cstr.ed.ac.uk/projects/festival/"  rel="nofollow">Festival</a></strong> est un synthétiseur vocal, pour lequel il n&#039;existe apparemment pas de voix française directement pour l&#039;instant (<a href="http://phantomsdad.blogspot.com/2005/06/ktts-and-french-connection.html" class="urlextern" title="http://phantomsdad.blogspot.com/2005/06/ktts-and-french-connection.html"  rel="nofollow">avis aux amateurs</a>…). 
</p>

<p>
Mais il existe un patch (ou un fork) pour festival afin d&#039;avoir les voix françaises : <a href="http://www.culte.org/projets/biglux/install/lao/festival.shtml#InstallV" class="urlextern" title="http://www.culte.org/projets/biglux/install/lao/festival.shtml#InstallV"  rel="nofollow">Franfest</a>.
</p>

<p>
De même festival peut utiliser les voix française de Mbrola - (et Sapi).
</p>

<p>
Il peut fonctionner en mode interactif, même si ça n&#039;a pas l&#039;air très intuitif de prime abord…
</p>

<p>
Site officiel : <a href="http://www.cstr.ed.ac.uk/projects/festival/" class="urlextern" title="http://www.cstr.ed.ac.uk/projects/festival/"  rel="nofollow">http://www.cstr.ed.ac.uk/projects/festival/</a>
</p>

<p>
Pour l&#039;installer, il suffit d&#039;<a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://festival" class="interwiki iw_apt" title="apt://festival">festival</a></strong>, et <a href="apt://festvox-rablpc16k" class="urlextern" title="apt://festvox-rablpc16k"  rel="nofollow">d&#039;autres voix anglaises</a>. ( voir également <a href="http://en.wikipedia.org/wiki/Festival_Speech_Synthesis_System#See_also" class="urlextern" title="http://en.wikipedia.org/wiki/Festival_Speech_Synthesis_System#See_also"  rel="nofollow">plus d&#039;information relative sur wikipedia</a> )
</p>

<p>
Un exemple simple :
</p>
<pre class="code">echo &quot;That&#039;s really a pity I&#039;m not able to speak French&quot;  | festival --tts</pre>

<p>
Pour connaître les options :
</p>
<pre class="code">festival --help</pre>

<p>
<p><div class="noteimportant">Si vous obtenez une erreur du type <strong>can&#039;t open /dev/dsp</strong>, réessayez après avoir fermé toutes les applications (y compris les pages internet nécessitant certains plugins) utilisant le son.

</div></p>
</p>

<p>
<p><div class="notetip">On peut éviter le <strong>can&#039;t open /dev/dsp</strong> en redirigeant le son vers ALSA. Pour cela, on demande à festival de sortir le son avec aplay. On créé un fichier de conf festival avec la commande :
</p>
<pre class="code">gedit ~/.festivalrc</pre>

<p>
Puis, on y met:
</p>
<pre class="code">(Parameter.set &#039;Audio_Command &quot;aplay -t wav -r $SR $FILE&quot;)
(Parameter.set &#039;Audio_Method &#039;Audio_Command)
(Parameter.set &#039;Audio_Required_Format &#039;wav)</pre>

<p>

</div></p>
</p>

</div>
<div class='secedit editbutton_section editbutton_14'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Festival] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="14179-15990" /><input type="submit" value="Modifier" class="button" title="Festival" /></div></form></div>
<h3 class="sectionedit15" id="svox_pico_tts">SVOX pico TTS</h3>
<div class="level3">

<p>
Assez connu des utilisateurs d&#039;Android, ce synthétiseur vocal offre de bon résultat, surtout en français. 
</p>

<p>
Licence : <a href="https://launchpad.net/ubuntu/precise/+source/svox/+copyright" class="urlextern" title="https://launchpad.net/ubuntu/precise/+source/svox/+copyright"  rel="nofollow">https://launchpad.net/ubuntu/precise/+source/svox/+copyright</a>
</p>

<p>
Activez les <a href="depots#depots_officiels" class="urlextern" title="http://doc.ubuntu-fr.org/depots#depots_officiels"  rel="nofollow">dépots multiverse</a> (une librairie de transformation rapide en série de Fourier n&#039;est pas libre) puis installez le paquet <strong><a href="apt://libttspico-utils" class="interwiki iw_apt" title="apt://libttspico-utils">libttspico-utils</a></strong>.
</p>

<p>
Un exemple simple :
</p>
<pre class="code">pico2wave -l fr-FR -w test.wav &quot;Faites demi-tour dès que possible !&quot;; 
play test.wav;</pre>

<p>
SVOX a été racheté par Nuance et a plus ou moins abandonnée le projet, certainement pour ne pas concurencer son moteur TTS payant. Google continue de développer ce moteur sur son <a href="https://android.googlesource.com/platform/external/svox/" class="urlextern" title="https://android.googlesource.com/platform/external/svox/"  rel="nofollow">Dépôt GIT</a>.
</p>

<p>
Lien complémentaire : <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=108430" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=108430"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?id=108430</a>
</p>

</div>
<div class='secedit editbutton_section editbutton_15'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[SVOX pico TTS] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="15991-16888" /><input type="submit" value="Modifier" class="button" title="SVOX pico TTS" /></div></form></div>
<h3 class="sectionedit16" id="espeak">Espeak</h3>
<div class="level3">

<p>
<strong><a href="http://espeak.sourceforge.net/" class="urlextern" title="http://espeak.sourceforge.net/"  rel="nofollow">Site officiel d&#039; Espeak</a></strong>.
</p>

<p>
Ce synthétiseur vocal étant disponible dans les dépôts Ubuntu il vous suffira d&#039;<a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer son paquet</a> : <strong><a href="apt://espeak" class="interwiki iw_apt" title="apt://espeak">Espeak</a></strong>.
<p><div class="noteclassic">Si vous souhaitez aussi installer une interface graphique pour espeak, reportez-vous à la page « <strong><a href="http://doc.ubuntu-fr.org/gespeaker" class="wikilink1" title="gespeaker">gespeaker</a></strong> »
</div></p>
</p>

<p>
Il suffit ensuite de donner votre texte en pâture à Espeak, soit par l&#039;intermédiaire d&#039;un fichier texte :
</p>
<pre class="code">espeak -v fr -f texte.txt</pre>

<p>
soit directement en ligne de commande :
</p>
<pre class="code">espeak -v fr &quot;Votre texte à lire...&quot;</pre>

<p>
ou encore par un &quot;<a href="diagnostic#commande" class="wikilink1" title="diagnostic">pipe</a>&quot; sur la sortie standard :
</p>
<pre class="code">echo &quot;Lis mon texte&quot; | espeak -v fr</pre>

<p>
L&#039;option <strong>-v</strong> définit la langue/voix à utiliser. D&#039;autres options peuvent être utiles, comme l&#039;option <strong>-s</strong> qui permet de définir le nombre de mots par minutes, ou <strong>-p</strong> qui règle la hauteur (grave/aigu) de la voix. Pour plus d&#039;options :
</p>
<pre class="code">espeak --help</pre>

<p>
Malheureusement, le rendu d&#039;Espeak n&#039;est pas exceptionnel. Il est possible d&#039;obtenir de meilleurs résultats, notamment en le combinant avec <a href="synthese_vocale#mbrola" title="synthese_vocale ↵" class="wikilink1">MBROLA</a>.
</p>

<p>
Si vous recevez le message d&#039;erreur &quot;bt_audio_service_open: connect() failed: Connection refused (111)&quot;, enlevez le paquet bluez-alsa (support bluetooth audio).
</p>

<p>
Si vous avez lors du lancement une dizaine d&#039;erreurs testant des périphériques bluetooth etc comme ceci :
</p>
<pre class="code">ALSA lib pcm_dmix.c:1018:(snd_pcm_dmix_open) unable to open slave
ALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.rear
ALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.center_lfe
ALSA lib pcm.c:2217:(snd_pcm_open_noupdate) Unknown PCM cards.pcm.side
ALSA lib audio/pcm_bluetooth.c:1614:(audioservice_expect) BT_GET_CAPABILITIES failed : Input/output error(5)
ALSA lib audio/pcm_bluetooth.c:1614:(audioservice_expect) BT_GET_CAPABILITIES failed : Input/output error(5)
ALSA lib audio/pcm_bluetooth.c:1614:(audioservice_expect) BT_GET_CAPABILITIES failed : Input/output error(5)
ALSA lib audio/pcm_bluetooth.c:1614:(audioservice_expect) BT_GET_CAPABILITIES failed : Input/output error(5)
ALSA lib pcm_dmix.c:957:(snd_pcm_dmix_open) The dmix plugin supports only playback stream
ALSA lib pcm_dmix.c:1018:(snd_pcm_dmix_open) unable to open slave
Cannot connect to server socket err = No such file or directory
Cannot connect to server request channel
jack server is not running or cannot be started</pre>

<p>
Une première solution (peut être pas optimale ?) consiste alors à lancer espeak ainsi :
</p>
<pre class="code">espeak -v en &quot;Hello i am espeak&quot; --stdout|paplay</pre>

<p>
(après avoir installé paplay via pulseaudio-utils, source : <a href="http://askubuntu.com/questions/82118/espeak-returns-error-on-ubuntu-server" class="urlextern" title="http://askubuntu.com/questions/82118/espeak-returns-error-on-ubuntu-server"  rel="nofollow">http://askubuntu.com/questions/82118/espeak-returns-error-on-ubuntu-server</a>)
</p>

</div>
<div class='secedit editbutton_section editbutton_16'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Espeak] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="16889-19715" /><input type="submit" value="Modifier" class="button" title="Espeak" /></div></form></div>
<h3 class="sectionedit17" id="mbrola">MBROLA</h3>
<div class="level3">

<p>
Le projet <strong><a href="http://tcts.fpms.ac.be/synthesis/mbrola.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola.html"  rel="nofollow">MBROLA</a></strong> est développé à la faculté Polytechnique de Mons, et comporte un grand nombre de langages/voix.
</p>

<p>
Site officiel : <a href="http://tcts.fpms.ac.be/synthesis/mbrola.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola.html"  rel="nofollow">http://tcts.fpms.ac.be/synthesis/mbrola.html</a>
</p>

<p>
<p><div class="noteclassic">MBROLA <a href="http://eupat.ffii.org/pikta/xrani/mbrola/index.fr.html" class="urlextern" title="http://eupat.ffii.org/pikta/xrani/mbrola/index.fr.html"  rel="nofollow">n&#039;est pas libre</a>.
</div></p>
</p>

</div>

<h4 id="installation">Installation</h4>
<div class="level4">

<p>
Pour l&#039;installer, il suffit d&#039;<a href="tutoriel/comment_installer_un_paquet" class="wikilink1" title="tutoriel:comment_installer_un_paquet">installer le paquet</a> <strong><a href="apt://mbrola" class="urlextern" title="apt://mbrola"  rel="nofollow">mbrola</a></strong>.
</p>

<p>
Désormais, un certain nombre de voix pour mbrola - pour diverses langues - sont présentes dans les dépôts (chercher mbrola dans Synaptic).
</p>

<p>
<p><div class="noteimportant">Par défaut les voix de mbrola s&#039;installent dans /usr/share/mbrola/voices/ (Ubuntu 11.10 : dans /usr/share/mbrola/)
Si vous les mettez ailleurs, espeak (voir plus bas) ne les trouvera pas.
</div></p>
</p>

<p>
En outre l&#039;ensemble des voix sont téléchargeables depuis le site officiel <a href="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html"  rel="nofollow">deuxième partie de la page</a>. Extraire le fichier zip dans « /usr/share/mbrola/voices/ » (Attention : les fichiers voix &quot;fr1&quot; &quot;fr2&quot; … ne doivent pas être dans un sous répertoire, ils doivent être directement sous …/voices/).
</p>

<p>
Les voix françaises de <a href="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html"  rel="nofollow">mbrola</a> (non libre):
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr1/fr1-990204.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr1/fr1-990204.zip"  rel="nofollow">Voix Mbrola FR1</a> : homme , Faculte Polytech. De Mons.</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr2/fr2-980806.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr2/fr2-980806.zip"  rel="nofollow">Voix Mbrola FR2</a> : Femme , Celine Egea</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr3/fr3-990324.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr3/fr3-990324.zip"  rel="nofollow">Voix Mbrola FR3</a> : homme , Babel Technology</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr4/fr4-990521.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr4/fr4-990521.zip"  rel="nofollow">Voix Mbrola FR4</a> : femme , Babel Technology</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr5/fr5-991020.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr5/fr5-991020.zip"  rel="nofollow">Voix Mbrola FR5</a> : homme, belge, Faculte Polytech. De Mons</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr6/fr6-010330.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr6/fr6-010330.zip"  rel="nofollow">Voix Mbrola FR6</a> :  homme ,  Faculte Polytech. De Mons</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr7/fr7-010330.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr7/fr7-010330.zip"  rel="nofollow">Voix Mbrola FR7</a> :  homme belge , Faculte Polytech. De Mons</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca1/ca1.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca1/ca1.zip"  rel="nofollow">Voix québecois 1</a> : homme ,  Vincent Arnaud</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca2/ca2.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca2/ca2.zip"  rel="nofollow">Voix québecois 2</a> : homme ,    Silex Creations Inc.</div>
</li>
</ul>

<p>
MBROLA est également disponible sous forme de fichiers binaires téléchargeables <a href="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html"  rel="nofollow">première partie de la page</a>. <sup><a href="synthese_vocale#fn__3" id="fnt__3" class="fn_top">3)</a></sup> On extrait le fichier qui correspond à son <a href="http://doc.ubuntu-fr.org/architecture_materielle" class="wikilink1" title="architecture_materielle">architecture</a> (le plus souvent i386) dans un répertoire au choix, de préférence /usr/bin/ (là où se fait l&#039;installation par les dépôts).
</p>

</div>

<h4 id="combinaison_avec_espeak">Combinaison avec espeak</h4>
<div class="level4">

<p>
MBROLA ne fait pas directement la transformation de texte en voix. Il traite des fichiers de phonèmes. Une autre application, capable de décomposer du texte en phonème est donc nécessaire.
Les voix de mbrola donnent un rendu plus naturel que les voix de espeak (lesquelles sont très &quot;robotiques&quot;), d&#039;où l&#039;intérêt de combiner les deux.
</p>

<p>
Avec <a href="synthese_vocale#espeak" title="synthese_vocale ↵" class="wikilink1">espeak</a> préalablement installé, on peut traduire un texte en phonèmes, en passant à l&#039;option <strong>-v</strong> les arguments <strong>mb/mb-fr1</strong> (voix masculine) ou <strong>mb/mb-fr4</strong> (voix féminine). On crée un fichier de phonème dans un format compatible avec mbrola :
</p>
<pre class="code">espeak -v mb/mb-fr4 -f votre_fichier_texte --pho  --phonout=texte.pho</pre>

<p>
<p><div class="noteimportant">Pour être compatible avec mbrola, le fichier .pho (qui est un fichier texte éditable) doit comprendre sur chaque ligne : un phonème suivi de sa durée suivi éventuellement d&#039;indications de hauteur. Mettre en commentaire avec ; les autres lignes. Voir exemple ci-dessous.
</div></p>
</p>
<hr />

<p>
Fichier exemple : bonjour.pho
</p>

<p>
; bO~Z&#039;ur
</p>

<p>
b	65
</p>

<p>
o~	35	 0 94 20 95 40 96 59 97 80 99 100 99
</p>

<p>
Z	65
</p>

<p>
u	40	 0 117 80 109 100 109
</p>

<p>
R	65
</p>
<hr />

<p>
<p><div class="noteclassic">Cette note concerne la version Hardy, la génération de phonèmes étant boguée, pour les dernières versions (testé sous Maverick), cette manipulation n&#039;est plus nécessaire (vérifiez la présence du répertoire &quot;mb&quot; sous /usr/share/espeak-data/voices/).
</p>

<p>
Pour Hardy : les fichiers de configuration d&#039;Espeak pour Mbrola ne sont pas présents dans la version fournie dans les dépôts officiels d&#039;Ubuntu. Pour pouvoir l&#039;utiliser, il faut télécharger <a href="http://kent.dl.sourceforge.net/sourceforge/espeak/espeak-1.31-linux.zip" class="urlextern" title="http://kent.dl.sourceforge.net/sourceforge/espeak/espeak-1.31-linux.zip"  rel="nofollow">la version officielle d&#039;Espeak</a>. Ensuite, dézippez le fichier puis copiez le répertoire espeak-data/voices/mb dans le répertoire /usr/share/espeak-data/voices/. (Il vous faudra <a href="sudo" class="wikilink1" title="sudo">les droits superutilisateur</a>).
</div></p>
</p>

<p>
Pour faire ensuite parler l&#039;ordinateur, il suffit de lire les phonèmes avec MBROLA et de rediriger la sortie soit vers un lecteur audio :
</p>
<pre class="code">mbrola /usr/share/mbrola/voices/fr1 texte.pho -.au | aplay</pre>

<p>
ou pour passer par pulseaudio
</p>
<pre class="code">mbrola /usr/share/mbrola/voices/fr1 texte.pho -.au | paplay</pre>

<p>
soit vers un fichier wav :
</p>
<pre class="code">mbrola /usr/share/mbrola/voices/fr1 texte.pho texte.wav</pre>

<p>
À la place d&#039;utiliser un fichier contenant des phonèmes, on peut aussi directement envoyer à Mbrola la sortie standard :
</p>
<pre class="code">espeak -v mb/mb-fr1 -f votre_fichier_texte | mbrola /usr/share/mbrola/voices/fr1 - -.au | aplay</pre>

<p>
ou
</p>
<pre class="code">espeak -v mb/mb-fr1 &#039;votre texte ici&#039; | mbrola /usr/share/mbrola/voices/fr1 - -.au | aplay</pre>

<p>
<p><div class="notehelp">Apparemment il n&#039;y a pas besoin d&#039;invoquer mbrola : espeak peut utiliser les voix mbrola lui-même (si elles ont été installées au bon endroit) : 
</p>
<pre class="code">espeak -v mb/mb-fr1 -f votre_fichier_texte</pre>

<p>
La voix féminine fr4 reste masculine si on n&#039;utilise pas la commande mbrola.
</div></p>
</p>

<p>
Pour plus d&#039;information sur les options disponibles :
</p>
<pre class="code">man mbrola</pre>
<hr />

<p>
<p><div class="notewarning">Il semble que l&#039;expression &quot;on a&quot; génère un phonème &quot;n2&quot; illisible par Mbrola. Pour contourner ce problème si vous l&#039;avez également, voir ci-dessous
</div></p>
</p>

</div>

<h5 id="solution_n_1">Solution n°1</h5>
<div class="level5">

<p>
On peut ajouter les options<sup><a href="synthese_vocale#fn__4" id="fnt__4" class="fn_top">4)</a></sup> -e, -C et -R à Mbrola :
</p>
<ul>
<li class="level1"><div class="li"> -e    = IGNORE fatal errors on unkown diphone</div>
</li>
<li class="level1"><div class="li"> -C CL = Phoneme CLONE list of the form a A b B …</div>
</li>
<li class="level1"><div class="li"> -R RL = Phoneme RENAME list of the form a A b B …</div>
</li>
</ul>

<p>
exemple : 
</p>
<pre class="code">mbrola -e -C &quot;n n2 s z3&quot; /opt/fr2/fr2 - -.au</pre>

</div>

<h5 id="solution_n_2">Solution n°2</h5>
<div class="level5">

<p>
substituer (commande « s ») à l’aide des expressions rationnelles/régulières de <a href="http://doc.ubuntu-fr.org/sed" class="wikilink1" title="sed">sed</a> aux deux codes de phonèmes problématiques (en début de ligne), « n2 » et « z3 » respectivement « n » et « s » :
</p>
<pre class="code">[entrée] | sed -e &quot;s/^n2 /n /&quot;| sed -e &quot;s/^z3 /s /&quot; | [sortie]</pre>

<p>
« ^ » dénotant le début de ligne.
</p>

<p>
Soit :
</p>
<pre class="code">espeak -v mb/mb-fr1 &#039;votre texte ici&#039; | sed -e &quot;s/^n2 /n /&quot;| sed -e &quot;s/^z3 /s /&quot; | mbrola /usr/share/mbrola/voices/fr1 - -.au | aplay</pre>

<p>
NB cette solution n’implique pas l’emploi d’un fichier de phonèmes intermédiaire
</p>

</div>

<h5 id="solution_n_3">Solution n°3</h5>
<div class="level5">

<p>
1- Il vous faudra dans ce cas procéder en 2 étapes, créez un fichier des phonèmes de votre texte à lire par :
</p>
<pre class="code">espeak -v mb/mb-fr1 -f &quot;votre_fichier_texte&quot; &gt; texte.pho</pre>

<p>
ou
</p>
<pre class="code">espeak -v mb/mb-fr1 &quot;votre texte à lire ici...&quot; &gt; texte.pho</pre>

<p>
2- Envoi des phonèmes (corrigés au passage) vers Mbrola puis aplay pour lecture.
</p>
<pre class="code">diphorect.sh &quot;texte.pho&quot; | mbrola /opt/fr1/fr1 - -.au | aplay</pre>

<p>
<p><div class="notehelp">Il vous faudra au préalable installer le script &quot;diphorect&quot; sur votre ordinateur comme indiqué ci-dessous
</div></p>
</p>

</div>

<h4 id="installation_du_script_diphorect">Installation du script diphorect</h4>
<div class="level4">

</div>

<h5 id="script_de_conversion_du_phoneme_problematique_n2">script de conversion du phonème problématique &quot;n2&quot;</h5>
<div class="level5">

<p>
<a href="tutoriel/comment_modifier_un_fichier" class="wikilink1" title="tutoriel:comment_modifier_un_fichier">Créez (avec les droits administrateur) le fichier</a> /usr/bin/diphorect.sh
</p>

<p>
Copiez et collez le script que vous trouverez ici :
</p>

<p>
<a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=3686164#p3686164" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=3686164#p3686164"  rel="nofollow">Forum, sujet Diphorect</a>
</p>

<p>
Ensuite rendez le script exécutable par :
</p>
<pre class="code">sudo chmod +x /usr/bin/diphorect.sh</pre>

<p>
Et voilà, vous êtes prêt ! <img src="lib/images/smileys/icon_wink.gif" class="icon" alt=";-)" />
</p>

</div>
<div class='secedit editbutton_section editbutton_17'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[MBROLA] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="19716-27980" /><input type="submit" value="Modifier" class="button" title="MBROLA" /></div></form></div>
<h2 class="sectionedit18" id="voir_aussi">Voir aussi</h2>
<div class="level2">

</div>
<div class='secedit editbutton_section editbutton_18'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Voir aussi] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="27981-28004" /><input type="submit" value="Modifier" class="button" title="Voir aussi" /></div></form></div>
<h3 class="sectionedit19" id="liens">Liens</h3>
<div class="level3">

<p>
Pages officielles de ces projets, et d&#039;autres :
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola.html"  rel="nofollow">mbrola</a> (en)</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.cstr.ed.ac.uk/projects/festival/" class="urlextern" title="http://www.cstr.ed.ac.uk/projects/festival/"  rel="nofollow">festival</a> (en) / <a href="http://www.speech.cs.cmu.edu/flite/" class="urlextern" title="http://www.speech.cs.cmu.edu/flite/"  rel="nofollow">flite</a> (en) / <a href="http://festvox.org" class="urlextern" title="http://festvox.org"  rel="nofollow">Festvox</a> (en)</div>
</li>
<li class="level1"><div class="li"> <a href="https://gna.org/projects/lliaphon/" class="urlextern" title="https://gna.org/projects/lliaphon/"  rel="nofollow">LLiaPhon</a> : Transforme un texte en description phonetic (à utiliser avec un autre logiciel ). Conçu pour le français.</div>
</li>
<li class="level1"><div class="li"> <a href="http://pages.videotron.com/fluxnic/cicero/" class="urlextern" title="http://pages.videotron.com/fluxnic/cicero/"  rel="nofollow">Cicero TTS</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://epos.ure.cas.cz" class="urlextern" title="http://epos.ure.cas.cz"  rel="nofollow">epos</a> (en) (Tchèque et Slovaque)</div>
</li>
<li class="level1"><div class="li"> <a href="http://freetts.sourceforge.net/docs/index.php" class="urlextern" title="http://freetts.sourceforge.net/docs/index.php"  rel="nofollow">FreeTTS</a> (en-us) (en java)</div>
</li>
<li class="level1"><div class="li"> <a href="http://forum.ubuntu-fr.org/viewtopic.php?id=128037" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?id=128037"  rel="nofollow">xclip-speech, synthèse vocale</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://bothari.free.fr/weblog/post/Ubuntu-Text-to-Speech-%28TTS%29" class="urlextern" title="http://bothari.free.fr/weblog/post/Ubuntu-Text-to-Speech-%28TTS%29"  rel="nofollow">Synthèse vocale en python (espeak + mbrola + speechdispatcher et son wrapper python)</a></div>
</li>
</ul>

<p>
Sur <a href="https://help.ubuntu.com/community/TextToSpeech" class="urlextern" title="https://help.ubuntu.com/community/TextToSpeech"  rel="nofollow">la documentation ubuntu anglaise</a>.
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://emofilt.sourceforge.net/" class="urlextern" title="http://emofilt.sourceforge.net/"  rel="nofollow">emofilt</a> un logiciel open-source qui permet d&#039;ajouter de l&#039;émotion à la parole</div>
</li>
</ul>

<p>
Wiki rassemblant des liens de synthese vocale :
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://wiki.eagle-usb.org/wakka.php?wiki=SyntheseParole" class="urlextern" title="http://wiki.eagle-usb.org/wakka.php?wiki=SyntheseParole"  rel="nofollow">Wiki eagle usb</a></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_19'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Liens] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="28005-29251" /><input type="submit" value="Modifier" class="button" title="Liens" /></div></form></div>
<h3 class="sectionedit20" id="tutoriaux">Tutoriaux</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="http://blinuxman.net/edu/fr/EduVocale.txt" class="urlextern" title="http://blinuxman.net/edu/fr/EduVocale.txt"  rel="nofollow">La fiche EDU pour une solution vocale en Français sous la console GNU/Linux</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://kubuntu.free.fr/blog/index.php/2006/09/24/121-synthese-vocale-en-francais-sous-linux" class="urlextern" title="http://kubuntu.free.fr/blog/index.php/2006/09/24/121-synthese-vocale-en-francais-sous-linux"  rel="nofollow">Synthèse vocale en français sous Linux</a> (plutot kde )</div>
</li>
<li class="level1"><div class="li"> <a href="http://bothari.free.fr/weblog/post/Ubuntu-Text-to-Speech-%28TTS%29" class="urlextern" title="http://bothari.free.fr/weblog/post/Ubuntu-Text-to-Speech-%28TTS%29"  rel="nofollow">(fr)Ubuntu Text-to-Speech (TTS)</a></div>
</li>
<li class="level1"><div class="li">  <a href="http://ftp.traduc.org/doc-vf/gazette-linux/html/2005/114/lg114-D.html" class="urlextern" title="http://ftp.traduc.org/doc-vf/gazette-linux/html/2005/114/lg114-D.html"  rel="nofollow">Faites parler votre shell avec Festival</a></div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_20'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Tutoriaux] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="29252-29781" /><input type="submit" value="Modifier" class="button" title="Tutoriaux" /></div></form></div>
<h3 class="sectionedit21" id="ressourcesdes_voix">Ressources : des voix</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Il existe la voix française <a href="http://rs211.rapidshare.com/files/108331417/Virginie.exe" class="urlextern" title="http://rs211.rapidshare.com/files/108331417/Virginie.exe"  rel="nofollow">virginie de microsoft(sapi) : gratuit mais non libre</a>. (<a href="http://sharebee.com/789d0c18" class="urlextern" title="http://sharebee.com/789d0c18"  rel="nofollow">lien miroir</a> )</div>
</li>
<li class="level1"><div class="li"> <a href="http://activex.microsoft.com/activex/controls/agent2/lhttsfrf.exe" class="urlextern" title="http://activex.microsoft.com/activex/controls/agent2/lhttsfrf.exe"  rel="nofollow">Lernout &amp; Hauspie TruVoice TTS engine (voix gratuite française)</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.cross-plus-a.com/balabolka_fr.htm" class="urlextern" title="http://www.cross-plus-a.com/balabolka_fr.htm"  rel="nofollow">Trouver d&#039;autres voix sapi sur ce site</a>.</div>
</li>
<li class="level1"><div class="li"> Des voix sur <a href="http://www.datafurnace.net.au/sayzme/html/voices.html" class="urlextern" title="http://www.datafurnace.net.au/sayzme/html/voices.html"  rel="nofollow">sayz me</a>.</div>
</li>
</ul>

<p>
Les voix françaises de <a href="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html"  rel="nofollow">mbrola</a> (non libre):
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr1/fr1-990204.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr1/fr1-990204.zip"  rel="nofollow">Voix Mbrola FR1</a> : homme , Faculte Polytech. De Mons.</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr2/fr2-980806.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr2/fr2-980806.zip"  rel="nofollow">Voix Mbrola FR2</a> : Femme , Celine Egea</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr3/fr3-990324.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr3/fr3-990324.zip"  rel="nofollow">Voix Mbrola FR3</a> : homme , Babel Technology</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr4/fr4-990521.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr4/fr4-990521.zip"  rel="nofollow">Voix Mbrola FR4</a> : femme , Babel Technology</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr5/fr5-991020.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr5/fr5-991020.zip"  rel="nofollow">Voix Mbrola FR5</a> : homme, belge, Faculte Polytech. De Mons</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr6/fr6-010330.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr6/fr6-010330.zip"  rel="nofollow">Voix Mbrola FR6</a> :  homme ,  Faculte Polytech. De Mons</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr7/fr7-010330.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/fr7/fr7-010330.zip"  rel="nofollow">Voix Mbrola FR7</a> :  homme belge , Faculte Polytech. De Mons</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca1/ca1.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca1/ca1.zip"  rel="nofollow">Voix québecois 1</a> : homme ,  Vincent Arnaud</div>
</li>
<li class="level1"><div class="li"> <a href="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca2/ca2.zip" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/dba/ca2/ca2.zip"  rel="nofollow">Voix québecois 2</a> : homme ,    Silex Creations Inc.</div>
</li>
</ul>

</div>
<div class='secedit editbutton_section editbutton_21'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Ressources : des voix] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="29782-31500" /><input type="submit" value="Modifier" class="button" title="Ressources : des voix" /></div></form></div>
<h2 class="sectionedit22" id="pages_en_rapport">Pages en rapport</h2>
<div class="level2">

<p>
<a href="reconnaissance_vocale" class="wikilink1" title="reconnaissance_vocale">Reconnaissance vocale</a> (Opération inverse)
</p>
<hr />

<p>
<em>Contributeurs : Page initiale par <a href="http://forum.ubuntu-fr.org/profile.php?id=7326" class="urlextern" title="http://forum.ubuntu-fr.org/profile.php?id=7326"  rel="nofollow">Skippy le Grand Gourou</a>, <a href="http://doc.ubuntu-fr.org/utilisateurs/herberts" class="wikilink1" title="utilisateurs:herberts">herberts</a>, <a href="http://forum.ubuntu-fr.org/profile.php?id=7540" class="urlextern" title="http://forum.ubuntu-fr.org/profile.php?id=7540"  rel="nofollow">Balkoth</a> et <a href="http://forum.ubuntu-fr.org/profile.php?id=41914" class="urlextern" title="http://forum.ubuntu-fr.org/profile.php?id=41914"  rel="nofollow">Dud</a>, à partir du sujet <a href="http://forum.ubuntu-fr.org/viewtopic.php?pid=1469124" class="urlextern" title="http://forum.ubuntu-fr.org/viewtopic.php?pid=1469124"  rel="nofollow">http://forum.ubuntu-fr.org/viewtopic.php?pid=1469124</a>. Corrections et compléments par <a href="http://doc.ubuntu-fr.org/utilisateurs/mysteroid" class="wikilink1" title="utilisateurs:mysteroid">Mysteroïd</a>, <a href="utilisateurs/psychederic.1" class="wikilink1" title="utilisateurs:psychederic">Psychederic</a> <a href="utilisateurs/mohican" class="wikilink1" title="utilisateurs:mohican">mohican</a> : refonte pour la simplicité d&#039;abord, et ajout de compléments.</em>
</p>

</div>
<div class='secedit editbutton_section editbutton_22'><form class="button btn_secedit" method="post" action="synthese_vocale"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="1426100902" /><input type="hidden" name="summary" value="[Pages en rapport] " /><input type="hidden" name="target" value="section" /><input type="hidden" name="range" value="31501-" /><input type="submit" value="Modifier" class="button" title="Pages en rapport" /></div></form></div><div class="footnotes">
<div class="fn"><sup><a href="synthese_vocale#fnt__1" id="fn__1" class="fn_bot">1)</a></sup> 
comme toujours</div>
<div class="fn"><sup><a href="synthese_vocale#fnt__2" id="fn__2" class="fn_bot">2)</a></sup> 
référence nécessaire !</div>
<div class="fn"><sup><a href="synthese_vocale#fnt__3" id="fn__3" class="fn_bot">3)</a></sup> 
Il y a aussi des « .deb » <a href="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html" class="urlextern" title="http://tcts.fpms.ac.be/synthesis/mbrola/mbrcopybin.html"  rel="nofollow">ici</a> (troisième ligne linux), je sais pas ce qu&#039;il y a dedans…</div>
<div class="fn"><sup><a href="synthese_vocale#fnt__4" id="fn__4" class="fn_bot">4)</a></sup> 
cf paragraphe « Renaming and Cloning phonemes » voir <a href="http://nautilux.physik.uni-freiburg.de/~eric/kabuff/texte/vocal/mbrola.html" class="urlextern" title="http://nautilux.physik.uni-freiburg.de/~eric/kabuff/texte/vocal/mbrola.html"  rel="nofollow">ce message en anglais</a> ou <a href="http://stuff.mit.edu/afs/sipb/user/kenta/festival/mbrola/readme.txt" class="urlextern" title="http://stuff.mit.edu/afs/sipb/user/kenta/festival/mbrola/readme.txt"  rel="nofollow">idem</a></div>
</div>

<!-- cachefile /srv/www/doc.ubuntu-fr.org/htdocs/data/cache/e/e484e2fbe2edfe3df61356f30f3be8cc.xhtml used -->

        <br style="clear:both;" />
        <div id="pageinfo">
            <!--  |  | -->
            <!-- ?tpl_pageinfo()? -->
            <br />
            Le contenu de ce wiki est sous licence : <a href="http://creativecommons.org/licenses/by-sa/3.0/deed.fr" rel="license" target="_blank">CC BY-SA v3.0</a>
        </div> 
      </div>

      
      <div id="navigation">

        <ul>
          <li class="menu"><a href="http://www.ubuntu-fr.org" class="title" id="menu-accueil"><span>Accueil</span></a></li>
          <li class="menu" id="active">
            <a href="index.html"  class="title" id="menu-doc"><span>Documentation</span></a>
            <ul>
              <li id="navWiki" class="cat">
                <h2>Actions</h2>
                <ul>
                  <li><a href="http://doc.ubuntu-fr.org/synthese_vocale?do=index"  class="action index" accesskey="x" rel="nofollow" title="Plan du site [X]">Plan du site</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/synthese_vocale?do=edit&amp;rev=0"  class="action edit" accesskey="e" rel="nofollow" title="Modifier cette page [E]">Modifier cette page</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/synthese_vocale?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Anciennes révisions [O]">Anciennes révisions</a></li>
                  <li></li>
                  <li><a href="http://doc.ubuntu-fr.org/synthese_vocale?do=recent"  class="action recent" accesskey="r" rel="nofollow" title="Derniers changements [R]">Derniers changements</a></li>
                  <li><a href="http://doc.ubuntu-fr.org/synthese_vocale?do=backlink"  class="action backlink" rel="nofollow" title="Liens vers cette page">Liens vers cette page</a></li>
                  <li></li>
                  <li></li>
                  <li></li>
                </ul>
              </li>
              <li id="navDivers" class="cat">
                <h2>Divers</h2>
                <ul>
                  <li><bdi><a href="wiki/participer_wiki" class="wikilink1" title="wiki:participer_wiki">Participer à la documentation</a></bdi></li>
                  <li><bdi><a href="documentation_hors_ligne" class="wikilink1" title="documentation_hors_ligne">Documentation hors ligne</a></bdi></li>
                  <li><a href="http://www.ubuntu-fr.org/telechargement" title="T&eacute;l&eacute;charger Ubuntu">T&eacute;l&eacute;charger Ubuntu</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="menu"><a href="http://forum.ubuntu-fr.org"  class="title" id="menu-forum"><span>Forum</span></a></li>
          <li class="menu"><a href="http://planet.ubuntu-fr.org"  class="title" id="menu-planet"><span>Planet</span></a></li>
        </ul>

      </div>
      <div id="references-ufr">
        <ul id="legal-ufr">
          <li><a href="http://www.ubuntu-fr.org/contacts">Contact</a></li>
        </ul>

        <ul id="sponsors-ufr">
          <li><a href="http://www.dokuwiki.org/dokuwiki" id="dokuwiki">Propulsé par Dokuwiki</a></li>
        </ul>
      </div>

    </div>
    <!-- $Id$ -->

    <!-- Piwik Image Tracker -->
    <!-- img src="http://piwik.infra.ubuntu-fr.org/piwik.php?idsite=2&amp;rec=1" style="border:0" alt="" /-->
    <!-- End Piwik -->

  </body>
</html>
